!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=174)}([function(t,e,n){var r=n(75),i=n(76);void 0===i.globals&&(i.globals=r),t.exports=r},function(t,e,n){"use strict";const r=2.3283064365386963e-10;class i{constructor(){this._seed=0,this._s0=0,this._s1=0,this._s2=0,this._c=0}getSeed(){return this._seed}setSeed(t){return t=t<1?1/t:t,this._seed=t,this._s0=(t>>>0)*r,t=69069*t+1>>>0,this._s1=t*r,t=69069*t+1>>>0,this._s2=t*r,this._c=1,this}getUniform(){let t=2091639*this._s0+this._c*r;return this._s0=this._s1,this._s1=this._s2,this._c=0|t,this._s2=t-this._c,this._s2}getUniformInt(t,e){let n=Math.max(t,e),r=Math.min(t,e);return Math.floor(this.getUniform()*(n-r+1))+r}getNormal(t=0,e=1){let n,r,i;do{n=2*this.getUniform()-1,r=2*this.getUniform()-1,i=n*n+r*r}while(i>1||0==i);return t+n*Math.sqrt(-2*Math.log(i)/i)*e}getPercentage(){return 1+Math.floor(100*this.getUniform())}getItem(t){return t.length?t[Math.floor(this.getUniform()*t.length)]:null}shuffle(t){let e=[],n=t.slice();for(;n.length;){let t=n.indexOf(this.getItem(n));e.push(n.splice(t,1)[0])}return e}getWeightedValue(t){let e=0;for(let n in t)e+=t[n];let n,r=this.getUniform()*e,i=0;for(n in t)if(i+=t[n],r<i)return n;return n}getState(){return[this._s0,this._s1,this._s2,this._c]}setState(t){return this._s0=t[0],this._s1=t[1],this._s2=t[2],this._c=t[3],this}clone(){return(new i).setState(this.getState())}}e.a=(new i).setSeed(Date.now())},function(t,e,n){(function(n){var r;
/*!
 *  howler.js v2.2.0
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */!function(){"use strict";var i=function(){this.init()};i.prototype={init:function(){var t=this||o;return t._counter=1e3,t._html5AudioPool=[],t.html5PoolSize=10,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.autoUnlock=!0,t._setup(),t},volume:function(t){var e=this||o;if(t=parseFloat(t),e.ctx||p(),void 0!==t&&t>=0&&t<=1){if(e._volume=t,e._muted)return e;e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t,o.ctx.currentTime);for(var n=0;n<e._howls.length;n++)if(!e._howls[n]._webAudio)for(var r=e._howls[n]._getSoundIds(),i=0;i<r.length;i++){var a=e._howls[n]._soundById(r[i]);a&&a._node&&(a._node.volume=a._volume*t)}return e}return e._volume},mute:function(t){var e=this||o;e.ctx||p(),e._muted=t,e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t?0:e._volume,o.ctx.currentTime);for(var n=0;n<e._howls.length;n++)if(!e._howls[n]._webAudio)for(var r=e._howls[n]._getSoundIds(),i=0;i<r.length;i++){var a=e._howls[n]._soundById(r[i]);a&&a._node&&(a._node.muted=!!t||a._muted)}return e},stop:function(){for(var t=this||o,e=0;e<t._howls.length;e++)t._howls[e].stop();return t},unload:function(){for(var t=this||o,e=t._howls.length-1;e>=0;e--)t._howls[e].unload();return t.usingWebAudio&&t.ctx&&void 0!==t.ctx.close&&(t.ctx.close(),t.ctx=null,p()),t},codecs:function(t){return(this||o)._codecs[t.replace(/^x-/,"")]},_setup:function(){var t=this||o;if(t.state=t.ctx&&t.ctx.state||"suspended",t._autoSuspend(),!t.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(t._canPlayEvent="canplay")}catch(e){t.noAudio=!0}else t.noAudio=!0;try{(new Audio).muted&&(t.noAudio=!0)}catch(t){}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||o,e=null;try{e="undefined"!=typeof Audio?new Audio:null}catch(e){return t}if(!e||"function"!=typeof e.canPlayType)return t;var n=e.canPlayType("audio/mpeg;").replace(/^no$/,""),r=t._navigator&&t._navigator.userAgent.match(/OPR\/([0-6].)/g),i=r&&parseInt(r[0].split("/")[1],10)<33;return t._codecs={mp3:!(i||!n&&!e.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!e.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!e.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(e.canPlayType("audio/x-m4b;")||e.canPlayType("audio/m4b;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(e.canPlayType("audio/x-mp4;")||e.canPlayType("audio/mp4;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!e.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(e.canPlayType("audio/x-flac;")||e.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_unlockAudio:function(){var t=this||o;if(!t._audioUnlocked&&t.ctx){t._audioUnlocked=!1,t.autoUnlock=!1,t._mobileUnloaded||44100===t.ctx.sampleRate||(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var e=function(n){for(;t._html5AudioPool.length<t.html5PoolSize;)try{var r=new Audio;r._unlocked=!0,t._releaseHtml5Audio(r)}catch(n){t.noAudio=!0;break}for(var i=0;i<t._howls.length;i++)if(!t._howls[i]._webAudio)for(var o=t._howls[i]._getSoundIds(),a=0;a<o.length;a++){var s=t._howls[i]._soundById(o[a]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}t._autoResume();var u=t.ctx.createBufferSource();u.buffer=t._scratchBuffer,u.connect(t.ctx.destination),void 0===u.start?u.noteOn(0):u.start(0),"function"==typeof t.ctx.resume&&t.ctx.resume(),u.onended=function(){u.disconnect(0),t._audioUnlocked=!0,document.removeEventListener("touchstart",e,!0),document.removeEventListener("touchend",e,!0),document.removeEventListener("click",e,!0);for(var n=0;n<t._howls.length;n++)t._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",e,!0),document.addEventListener("touchend",e,!0),document.addEventListener("click",e,!0),t}},_obtainHtml5Audio:function(){var t=this||o;if(t._html5AudioPool.length)return t._html5AudioPool.pop();var e=(new Audio).play();return e&&"undefined"!=typeof Promise&&(e instanceof Promise||"function"==typeof e.then)&&e.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(t){var e=this||o;return t._unlocked&&e._html5AudioPool.push(t),e},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&void 0!==t.ctx.suspend&&o.usingWebAudio){for(var e=0;e<t._howls.length;e++)if(t._howls[e]._webAudio)for(var n=0;n<t._howls[e]._sounds.length;n++)if(!t._howls[e]._sounds[n]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout((function(){if(t.autoSuspend){t._suspendTimer=null,t.state="suspending";var e=function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())};t.ctx.suspend().then(e,e)}}),3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&void 0!==t.ctx.resume&&o.usingWebAudio)return"running"===t.state&&"interrupted"!==t.ctx.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):"suspended"===t.state||"running"===t.state&&"interrupted"===t.ctx.state?(t.ctx.resume().then((function(){t.state="running";for(var e=0;e<t._howls.length;e++)t._howls[e]._emit("resume")})),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):"suspending"===t.state&&(t._resumeAfterSuspend=!0),t}};var o=new i,a=function(t){t.src&&0!==t.src.length?this.init(t):console.error("An array of source files must be passed with any new Howl.")};a.prototype={init:function(t){var e=this;return o.ctx||p(),e._autoplay=t.autoplay||!1,e._format="string"!=typeof t.format?t.format:[t.format],e._html5=t.html5||!1,e._muted=t.mute||!1,e._loop=t.loop||!1,e._pool=t.pool||5,e._preload="boolean"!=typeof t.preload&&"metadata"!==t.preload||t.preload,e._rate=t.rate||1,e._sprite=t.sprite||{},e._src="string"!=typeof t.src?t.src:[t.src],e._volume=void 0!==t.volume?t.volume:1,e._xhr={method:t.xhr&&t.xhr.method?t.xhr.method:"GET",headers:t.xhr&&t.xhr.headers?t.xhr.headers:null,withCredentials:!(!t.xhr||!t.xhr.withCredentials)&&t.xhr.withCredentials},e._duration=0,e._state="unloaded",e._sounds=[],e._endTimers={},e._queue=[],e._playLock=!1,e._onend=t.onend?[{fn:t.onend}]:[],e._onfade=t.onfade?[{fn:t.onfade}]:[],e._onload=t.onload?[{fn:t.onload}]:[],e._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],e._onplayerror=t.onplayerror?[{fn:t.onplayerror}]:[],e._onpause=t.onpause?[{fn:t.onpause}]:[],e._onplay=t.onplay?[{fn:t.onplay}]:[],e._onstop=t.onstop?[{fn:t.onstop}]:[],e._onmute=t.onmute?[{fn:t.onmute}]:[],e._onvolume=t.onvolume?[{fn:t.onvolume}]:[],e._onrate=t.onrate?[{fn:t.onrate}]:[],e._onseek=t.onseek?[{fn:t.onseek}]:[],e._onunlock=t.onunlock?[{fn:t.onunlock}]:[],e._onresume=[],e._webAudio=o.usingWebAudio&&!e._html5,void 0!==o.ctx&&o.ctx&&o.autoUnlock&&o._unlockAudio(),o._howls.push(e),e._autoplay&&e._queue.push({event:"play",action:function(){e.play()}}),e._preload&&"none"!==e._preload&&e.load(),e},load:function(){var t=null;if(o.noAudio)this._emit("loaderror",null,"No audio support.");else{"string"==typeof this._src&&(this._src=[this._src]);for(var e=0;e<this._src.length;e++){var n,r;if(this._format&&this._format[e])n=this._format[e];else{if("string"!=typeof(r=this._src[e])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(n=/^data:audio\/([^;,]+);/i.exec(r))||(n=/\.([^.]+)$/.exec(r.split("?",1)[0])),n&&(n=n[1].toLowerCase())}if(n||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),n&&o.codecs(n)){t=this._src[e];break}}if(t)return this._src=t,this._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new s(this),this._webAudio&&l(this),this;this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(t,e){var n=this,r=null;if("number"==typeof t)r=t,t=null;else{if("string"==typeof t&&"loaded"===n._state&&!n._sprite[t])return null;if(void 0===t&&(t="__default",!n._playLock)){for(var i=0,a=0;a<n._sounds.length;a++)n._sounds[a]._paused&&!n._sounds[a]._ended&&(i++,r=n._sounds[a]._id);1===i?t=null:r=null}}var s=r?n._soundById(r):n._inactiveSound();if(!s)return null;if(r&&!t&&(t=s._sprite||"__default"),"loaded"!==n._state){s._sprite=t,s._ended=!1;var u=s._id;return n._queue.push({event:"play",action:function(){n.play(u)}}),u}if(r&&!s._paused)return e||n._loadQueue("play"),s._id;n._webAudio&&o._autoResume();var l=Math.max(0,s._seek>0?s._seek:n._sprite[t][0]/1e3),c=Math.max(0,(n._sprite[t][0]+n._sprite[t][1])/1e3-l),h=1e3*c/Math.abs(s._rate),f=n._sprite[t][0]/1e3,p=(n._sprite[t][0]+n._sprite[t][1])/1e3;s._sprite=t,s._ended=!1;var d=function(){s._paused=!1,s._seek=l,s._start=f,s._stop=p,s._loop=!(!s._loop&&!n._sprite[t][2])};if(!(l>=p)){var _=s._node;if(n._webAudio){var v=function(){n._playLock=!1,d(),n._refreshBuffer(s);var t=s._muted||n._muted?0:s._volume;_.gain.setValueAtTime(t,o.ctx.currentTime),s._playStart=o.ctx.currentTime,void 0===_.bufferSource.start?s._loop?_.bufferSource.noteGrainOn(0,l,86400):_.bufferSource.noteGrainOn(0,l,c):s._loop?_.bufferSource.start(0,l,86400):_.bufferSource.start(0,l,c),h!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),h)),e||setTimeout((function(){n._emit("play",s._id),n._loadQueue()}),0)};"running"===o.state&&"interrupted"!==o.ctx.state?v():(n._playLock=!0,n.once("resume",v),n._clearTimer(s._id))}else{var g=function(){_.currentTime=l,_.muted=s._muted||n._muted||o._muted||_.muted,_.volume=s._volume*o.volume(),_.playbackRate=s._rate;try{var r=_.play();if(r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)?(n._playLock=!0,d(),r.then((function(){n._playLock=!1,_._unlocked=!0,e||(n._emit("play",s._id),n._loadQueue())})).catch((function(){n._playLock=!1,n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0}))):e||(n._playLock=!1,d(),n._emit("play",s._id),n._loadQueue()),_.playbackRate=s._rate,_.paused)return void n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==t||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),h):(n._endTimers[s._id]=function(){n._ended(s),_.removeEventListener("ended",n._endTimers[s._id],!1)},_.addEventListener("ended",n._endTimers[s._id],!1))}catch(t){n._emit("playerror",s._id,t)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===_.src&&(_.src=n._src,_.load());var m=window&&window.ejecta||!_.readyState&&o._navigator.isCocoonJS;if(_.readyState>=3||m)g();else{n._playLock=!0;var y=function(){g(),_.removeEventListener(o._canPlayEvent,y,!1)};_.addEventListener(o._canPlayEvent,y,!1),n._clearTimer(s._id)}}return s._id}n._ended(s)},pause:function(t){var e=this;if("loaded"!==e._state||e._playLock)return e._queue.push({event:"pause",action:function(){e.pause(t)}}),e;for(var n=e._getSoundIds(t),r=0;r<n.length;r++){e._clearTimer(n[r]);var i=e._soundById(n[r]);if(i&&!i._paused&&(i._seek=e.seek(n[r]),i._rateSeek=0,i._paused=!0,e._stopFade(n[r]),i._node))if(e._webAudio){if(!i._node.bufferSource)continue;void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),e._cleanBuffer(i._node)}else isNaN(i._node.duration)&&i._node.duration!==1/0||i._node.pause();arguments[1]||e._emit("pause",i?i._id:null)}return e},stop:function(t,e){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(t)}}),n;for(var r=n._getSoundIds(t),i=0;i<r.length;i++){n._clearTimer(r[i]);var o=n._soundById(r[i]);o&&(o._seek=o._start||0,o._rateSeek=0,o._paused=!0,o._ended=!0,n._stopFade(r[i]),o._node&&(n._webAudio?o._node.bufferSource&&(void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),n._cleanBuffer(o._node)):isNaN(o._node.duration)&&o._node.duration!==1/0||(o._node.currentTime=o._start||0,o._node.pause(),o._node.duration===1/0&&n._clearSound(o._node))),e||n._emit("stop",o._id))}return n},mute:function(t,e){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(t,e)}}),n;if(void 0===e){if("boolean"!=typeof t)return n._muted;n._muted=t}for(var r=n._getSoundIds(e),i=0;i<r.length;i++){var a=n._soundById(r[i]);a&&(a._muted=t,a._interval&&n._stopFade(a._id),n._webAudio&&a._node?a._node.gain.setValueAtTime(t?0:a._volume,o.ctx.currentTime):a._node&&(a._node.muted=!!o._muted||t),n._emit("mute",a._id))}return n},volume:function(){var t,e,n,r=this,i=arguments;if(0===i.length)return r._volume;if(1===i.length||2===i.length&&void 0===i[1]){var a=r._getSoundIds(),s=a.indexOf(i[0]);s>=0?e=parseInt(i[0],10):t=parseFloat(i[0])}else i.length>=2&&(t=parseFloat(i[0]),e=parseInt(i[1],10));if(!(void 0!==t&&t>=0&&t<=1))return(n=e?r._soundById(e):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,i)}}),r;void 0===e&&(r._volume=t),e=r._getSoundIds(e);for(var u=0;u<e.length;u++)(n=r._soundById(e[u]))&&(n._volume=t,i[2]||r._stopFade(e[u]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(t,o.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=t*o.volume()),r._emit("volume",n._id));return r},fade:function(t,e,n,r){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"fade",action:function(){i.fade(t,e,n,r)}}),i;t=Math.min(Math.max(0,parseFloat(t)),1),e=Math.min(Math.max(0,parseFloat(e)),1),n=parseFloat(n),i.volume(t,r);for(var a=i._getSoundIds(r),s=0;s<a.length;s++){var u=i._soundById(a[s]);if(u){if(r||i._stopFade(a[s]),i._webAudio&&!u._muted){var l=o.ctx.currentTime,c=l+n/1e3;u._volume=t,u._node.gain.setValueAtTime(t,l),u._node.gain.linearRampToValueAtTime(e,c)}i._startFadeInterval(u,t,e,n,a[s],void 0===r)}}return i},_startFadeInterval:function(t,e,n,r,i,o){var a=this,s=e,u=n-e,l=Math.abs(u/.01),c=Math.max(4,l>0?r/l:r),h=Date.now();t._fadeTo=n,t._interval=setInterval((function(){var i=(Date.now()-h)/r;h=Date.now(),s+=u*i,s=u<0?Math.max(n,s):Math.min(n,s),s=Math.round(100*s)/100,a._webAudio?t._volume=s:a.volume(s,t._id,!0),o&&(a._volume=s),(n<e&&s<=n||n>e&&s>=n)&&(clearInterval(t._interval),t._interval=null,t._fadeTo=null,a.volume(n,t._id),a._emit("fade",t._id))}),c)},_stopFade:function(t){var e=this._soundById(t);return e&&e._interval&&(this._webAudio&&e._node.gain.cancelScheduledValues(o.ctx.currentTime),clearInterval(e._interval),e._interval=null,this.volume(e._fadeTo,t),e._fadeTo=null,this._emit("fade",t)),this},loop:function(){var t,e,n,r=this,i=arguments;if(0===i.length)return r._loop;if(1===i.length){if("boolean"!=typeof i[0])return!!(n=r._soundById(parseInt(i[0],10)))&&n._loop;t=i[0],r._loop=t}else 2===i.length&&(t=i[0],e=parseInt(i[1],10));for(var o=r._getSoundIds(e),a=0;a<o.length;a++)(n=r._soundById(o[a]))&&(n._loop=t,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=t,t&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop)));return r},rate:function(){var t,e,n,r=this,i=arguments;if(0===i.length)e=r._sounds[0]._id;else if(1===i.length){var a=r._getSoundIds(),s=a.indexOf(i[0]);s>=0?e=parseInt(i[0],10):t=parseFloat(i[0])}else 2===i.length&&(t=parseFloat(i[0]),e=parseInt(i[1],10));if("number"!=typeof t)return(n=r._soundById(e))?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,i)}}),r;void 0===e&&(r._rate=t),e=r._getSoundIds(e);for(var u=0;u<e.length;u++)if(n=r._soundById(e[u])){r.playing(e[u])&&(n._rateSeek=r.seek(e[u]),n._playStart=r._webAudio?o.ctx.currentTime:n._playStart),n._rate=t,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(t,o.ctx.currentTime):n._node&&(n._node.playbackRate=t);var l=r.seek(e[u]),c=(r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-l,h=1e3*c/Math.abs(n._rate);!r._endTimers[e[u]]&&n._paused||(r._clearTimer(e[u]),r._endTimers[e[u]]=setTimeout(r._ended.bind(r,n),h)),r._emit("rate",n._id)}return r},seek:function(){var t,e,n=this,r=arguments;if(0===r.length)e=n._sounds[0]._id;else if(1===r.length){var i=n._getSoundIds(),a=i.indexOf(r[0]);a>=0?e=parseInt(r[0],10):n._sounds.length&&(e=n._sounds[0]._id,t=parseFloat(r[0]))}else 2===r.length&&(t=parseFloat(r[0]),e=parseInt(r[1],10));if(void 0===e)return n;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var s=n._soundById(e);if(s){if(!("number"==typeof t&&t>=0)){if(n._webAudio){var u=n.playing(e)?o.ctx.currentTime-s._playStart:0,l=s._rateSeek?s._rateSeek-s._seek:0;return s._seek+(l+u*Math.abs(s._rate))}return s._node.currentTime}var c=n.playing(e);c&&n.pause(e,!0),s._seek=t,s._ended=!1,n._clearTimer(e),n._webAudio||!s._node||isNaN(s._node.duration)||(s._node.currentTime=t);var h=function(){n._emit("seek",e),c&&n.play(e,!0)};if(c&&!n._webAudio){var f=function(){n._playLock?setTimeout(f,0):h()};setTimeout(f,0)}else h()}return n},playing:function(t){if("number"==typeof t){var e=this._soundById(t);return!!e&&!e._paused}for(var n=0;n<this._sounds.length;n++)if(!this._sounds[n]._paused)return!0;return!1},duration:function(t){var e=this._duration,n=this._soundById(t);return n&&(e=this._sprite[n._sprite][1]/1e3),e},state:function(){return this._state},unload:function(){for(var t=this,e=t._sounds,n=0;n<e.length;n++)e[n]._paused||t.stop(e[n]._id),t._webAudio||(t._clearSound(e[n]._node),e[n]._node.removeEventListener("error",e[n]._errorFn,!1),e[n]._node.removeEventListener(o._canPlayEvent,e[n]._loadFn,!1),o._releaseHtml5Audio(e[n]._node)),delete e[n]._node,t._clearTimer(e[n]._id);var r=o._howls.indexOf(t);r>=0&&o._howls.splice(r,1);var i=!0;for(n=0;n<o._howls.length;n++)if(o._howls[n]._src===t._src||t._src.indexOf(o._howls[n]._src)>=0){i=!1;break}return u&&i&&delete u[t._src],o.noAudio=!1,t._state="unloaded",t._sounds=[],t=null,null},on:function(t,e,n,r){var i=this["_on"+t];return"function"==typeof e&&i.push(r?{id:n,fn:e,once:r}:{id:n,fn:e}),this},off:function(t,e,n){var r=this["_on"+t],i=0;if("number"==typeof e&&(n=e,e=null),e||n)for(i=0;i<r.length;i++){var o=n===r[i].id;if(e===r[i].fn&&o||!e&&o){r.splice(i,1);break}}else if(t)this["_on"+t]=[];else{var a=Object.keys(this);for(i=0;i<a.length;i++)0===a[i].indexOf("_on")&&Array.isArray(this[a[i]])&&(this[a[i]]=[])}return this},once:function(t,e,n){return this.on(t,e,n,1),this},_emit:function(t,e,n){for(var r=this["_on"+t],i=r.length-1;i>=0;i--)r[i].id&&r[i].id!==e&&"load"!==t||(setTimeout(function(t){t.call(this,e,n)}.bind(this,r[i].fn),0),r[i].once&&this.off(t,r[i].fn,r[i].id));return this._loadQueue(t),this},_loadQueue:function(t){if(this._queue.length>0){var e=this._queue[0];e.event===t&&(this._queue.shift(),this._loadQueue()),t||e.action()}return this},_ended:function(t){var e=t._sprite;if(!this._webAudio&&t._node&&!t._node.paused&&!t._node.ended&&t._node.currentTime<t._stop)return setTimeout(this._ended.bind(this,t),100),this;var n=!(!t._loop&&!this._sprite[e][2]);if(this._emit("end",t._id),!this._webAudio&&n&&this.stop(t._id,!0).play(t._id),this._webAudio&&n){this._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=o.ctx.currentTime;var r=1e3*(t._stop-t._start)/Math.abs(t._rate);this._endTimers[t._id]=setTimeout(this._ended.bind(this,t),r)}return this._webAudio&&!n&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,this._clearTimer(t._id),this._cleanBuffer(t._node),o._autoSuspend()),this._webAudio||n||this.stop(t._id,!0),this},_clearTimer:function(t){if(this._endTimers[t]){if("function"!=typeof this._endTimers[t])clearTimeout(this._endTimers[t]);else{var e=this._soundById(t);e&&e._node&&e._node.removeEventListener("ended",this._endTimers[t],!1)}delete this._endTimers[t]}return this},_soundById:function(t){for(var e=0;e<this._sounds.length;e++)if(t===this._sounds[e]._id)return this._sounds[e];return null},_inactiveSound:function(){this._drain();for(var t=0;t<this._sounds.length;t++)if(this._sounds[t]._ended)return this._sounds[t].reset();return new s(this)},_drain:function(){var t=this._pool,e=0,n=0;if(!(this._sounds.length<t)){for(n=0;n<this._sounds.length;n++)this._sounds[n]._ended&&e++;for(n=this._sounds.length-1;n>=0;n--){if(e<=t)return;this._sounds[n]._ended&&(this._webAudio&&this._sounds[n]._node&&this._sounds[n]._node.disconnect(0),this._sounds.splice(n,1),e--)}}},_getSoundIds:function(t){if(void 0===t){for(var e=[],n=0;n<this._sounds.length;n++)e.push(this._sounds[n]._id);return e}return[t]},_refreshBuffer:function(t){return t._node.bufferSource=o.ctx.createBufferSource(),t._node.bufferSource.buffer=u[this._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop||0),t._node.bufferSource.playbackRate.setValueAtTime(t._rate,o.ctx.currentTime),this},_cleanBuffer:function(t){var e=o._navigator&&o._navigator.vendor.indexOf("Apple")>=0;if(o._scratchBuffer&&t.bufferSource&&(t.bufferSource.onended=null,t.bufferSource.disconnect(0),e))try{t.bufferSource.buffer=o._scratchBuffer}catch(t){}return t.bufferSource=null,this},_clearSound:function(t){/MSIE |Trident\//.test(o._navigator&&o._navigator.userAgent)||(t.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(t){this._parent=t,this.init()};s.prototype={init:function(){var t=this._parent;return this._muted=t._muted,this._loop=t._loop,this._volume=t._volume,this._rate=t._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++o._counter,t._sounds.push(this),this.create(),this},create:function(){var t=this._parent,e=o._muted||this._muted||this._parent._muted?0:this._volume;return t._webAudio?(this._node=void 0===o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),this._node.gain.setValueAtTime(e,o.ctx.currentTime),this._node.paused=!0,this._node.connect(o.masterGain)):o.noAudio||(this._node=o._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(o._canPlayEvent,this._loadFn,!1),this._node.src=t._src,this._node.preload=!0===t._preload?"auto":t._preload,this._node.volume=e*o.volume(),this._node.load()),this},reset:function(){var t=this._parent;return this._muted=t._muted,this._loop=t._loop,this._volume=t._volume,this._rate=t._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++o._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var t=this._parent;t._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),this._node.removeEventListener(o._canPlayEvent,this._loadFn,!1)}};var u={},l=function(t){var e=t._src;if(u[e])return t._duration=u[e].duration,void f(t);if(/^data:[^;]+;base64,/.test(e)){for(var n=atob(e.split(",")[1]),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);h(r.buffer,t)}else{var o=new XMLHttpRequest;o.open(t._xhr.method,e,!0),o.withCredentials=t._xhr.withCredentials,o.responseType="arraybuffer",t._xhr.headers&&Object.keys(t._xhr.headers).forEach((function(e){o.setRequestHeader(e,t._xhr.headers[e])})),o.onload=function(){var e=(o.status+"")[0];"0"===e||"2"===e||"3"===e?h(o.response,t):t._emit("loaderror",null,"Failed loading audio file with status: "+o.status+".")},o.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete u[e],t.load())},c(o)}},c=function(t){try{t.send()}catch(e){t.onerror()}},h=function(t,e){var n=function(){e._emit("loaderror",null,"Decoding audio data failed.")},r=function(t){t&&e._sounds.length>0?(u[e._src]=t,f(e,t)):n()};"undefined"!=typeof Promise&&1===o.ctx.decodeAudioData.length?o.ctx.decodeAudioData(t).then(r).catch(n):o.ctx.decodeAudioData(t,r,n)},f=function(t,e){e&&!t._duration&&(t._duration=e.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue())},p=function(){if(o.usingWebAudio){try{"undefined"!=typeof AudioContext?o.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?o.ctx=new webkitAudioContext:o.usingWebAudio=!1}catch(t){o.usingWebAudio=!1}o.ctx||(o.usingWebAudio=!1);var t=/iP(hone|od|ad)/.test(o._navigator&&o._navigator.platform),e=o._navigator&&o._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=e?parseInt(e[1],10):null;if(t&&n&&n<9){var r=/safari/.test(o._navigator&&o._navigator.userAgent.toLowerCase());o._navigator&&!r&&(o.usingWebAudio=!1)}o.usingWebAudio&&(o.masterGain=void 0===o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),o.masterGain.gain.setValueAtTime(o._muted?0:o._volume,o.ctx.currentTime),o.masterGain.connect(o.ctx.destination)),o._setup()}};void 0===(r=function(){return{Howler:o,Howl:a}}.apply(e,[]))||(t.exports=r),e.Howler=o,e.Howl=a,void 0!==n?(n.HowlerGlobal=i,n.Howler=o,n.Howl=a,n.Sound=s):"undefined"!=typeof window&&(window.HowlerGlobal=i,window.Howler=o,window.Howl=a,window.Sound=s)}(),
/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.0
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
function(){"use strict";var t;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){if(!this.ctx||!this.ctx.listener)return this;for(var e=this._howls.length-1;e>=0;e--)this._howls[e].stereo(t);return this},HowlerGlobal.prototype.pos=function(t,e,n){return this.ctx&&this.ctx.listener?(e="number"!=typeof e?this._pos[1]:e,n="number"!=typeof n?this._pos[2]:n,"number"!=typeof t?this._pos:(this._pos=[t,e,n],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this)):this},HowlerGlobal.prototype.orientation=function(t,e,n,r,i,o){if(!this.ctx||!this.ctx.listener)return this;var a=this._orientation;return e="number"!=typeof e?a[1]:e,n="number"!=typeof n?a[2]:n,r="number"!=typeof r?a[3]:r,i="number"!=typeof i?a[4]:i,o="number"!=typeof o?a[5]:o,"number"!=typeof t?a:(this._orientation=[t,e,n,r,i,o],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(i,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(o,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(t,e,n,r,i,o),this)},Howl.prototype.init=(t=Howl.prototype.init,function(e){return this._orientation=e.orientation||[1,0,0],this._stereo=e.stereo||null,this._pos=e.pos||null,this._pannerAttr={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:0,distanceModel:void 0!==e.distanceModel?e.distanceModel:"inverse",maxDistance:void 0!==e.maxDistance?e.maxDistance:1e4,panningModel:void 0!==e.panningModel?e.panningModel:"HRTF",refDistance:void 0!==e.refDistance?e.refDistance:1,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:1},this._onstereo=e.onstereo?[{fn:e.onstereo}]:[],this._onpos=e.onpos?[{fn:e.onpos}]:[],this._onorientation=e.onorientation?[{fn:e.onorientation}]:[],t.call(this,e)}),Howl.prototype.stereo=function(t,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(t,n)}}),r;var i=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof t)return r._stereo;r._stereo=t,r._pos=[t,0,0]}for(var o=r._getSoundIds(n),a=0;a<o.length;a++){var s=r._soundById(o[a]);if(s){if("number"!=typeof t)return s._stereo;s._stereo=t,s._pos=[t,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||e(s,i),"spatial"===i?void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(t,0,0):s._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),r._emit("stereo",s._id)}}return r},Howl.prototype.pos=function(t,n,r,i){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"pos",action:function(){o.pos(t,n,r,i)}}),o;if(n="number"!=typeof n?0:n,r="number"!=typeof r?-.5:r,void 0===i){if("number"!=typeof t)return o._pos;o._pos=[t,n,r]}for(var a=o._getSoundIds(i),s=0;s<a.length;s++){var u=o._soundById(a[s]);if(u){if("number"!=typeof t)return u._pos;u._pos=[t,n,r],u._node&&(u._panner&&!u._panner.pan||e(u,"spatial"),void 0!==u._panner.positionX?(u._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):u._panner.setPosition(t,n,r)),o._emit("pos",u._id)}}return o},Howl.prototype.orientation=function(t,n,r,i){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"orientation",action:function(){o.orientation(t,n,r,i)}}),o;if(n="number"!=typeof n?o._orientation[1]:n,r="number"!=typeof r?o._orientation[2]:r,void 0===i){if("number"!=typeof t)return o._orientation;o._orientation=[t,n,r]}for(var a=o._getSoundIds(i),s=0;s<a.length;s++){var u=o._soundById(a[s]);if(u){if("number"!=typeof t)return u._orientation;u._orientation=[t,n,r],u._node&&(u._panner||(u._pos||(u._pos=o._pos||[0,0,-.5]),e(u,"spatial")),void 0!==u._panner.orientationX?(u._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):u._panner.setOrientation(t,n,r)),o._emit("orientation",u._id)}}return o},Howl.prototype.pannerAttr=function(){var t,n,r,i=this,o=arguments;if(!i._webAudio)return i;if(0===o.length)return i._pannerAttr;if(1===o.length){if("object"!=typeof o[0])return(r=i._soundById(parseInt(o[0],10)))?r._pannerAttr:i._pannerAttr;t=o[0],void 0===n&&(t.pannerAttr||(t.pannerAttr={coneInnerAngle:t.coneInnerAngle,coneOuterAngle:t.coneOuterAngle,coneOuterGain:t.coneOuterGain,distanceModel:t.distanceModel,maxDistance:t.maxDistance,refDistance:t.refDistance,rolloffFactor:t.rolloffFactor,panningModel:t.panningModel}),i._pannerAttr={coneInnerAngle:void 0!==t.pannerAttr.coneInnerAngle?t.pannerAttr.coneInnerAngle:i._coneInnerAngle,coneOuterAngle:void 0!==t.pannerAttr.coneOuterAngle?t.pannerAttr.coneOuterAngle:i._coneOuterAngle,coneOuterGain:void 0!==t.pannerAttr.coneOuterGain?t.pannerAttr.coneOuterGain:i._coneOuterGain,distanceModel:void 0!==t.pannerAttr.distanceModel?t.pannerAttr.distanceModel:i._distanceModel,maxDistance:void 0!==t.pannerAttr.maxDistance?t.pannerAttr.maxDistance:i._maxDistance,refDistance:void 0!==t.pannerAttr.refDistance?t.pannerAttr.refDistance:i._refDistance,rolloffFactor:void 0!==t.pannerAttr.rolloffFactor?t.pannerAttr.rolloffFactor:i._rolloffFactor,panningModel:void 0!==t.pannerAttr.panningModel?t.pannerAttr.panningModel:i._panningModel})}else 2===o.length&&(t=o[0],n=parseInt(o[1],10));for(var a=i._getSoundIds(n),s=0;s<a.length;s++)if(r=i._soundById(a[s])){var u=r._pannerAttr;u={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:u.coneInnerAngle,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:u.coneOuterAngle,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:u.coneOuterGain,distanceModel:void 0!==t.distanceModel?t.distanceModel:u.distanceModel,maxDistance:void 0!==t.maxDistance?t.maxDistance:u.maxDistance,refDistance:void 0!==t.refDistance?t.refDistance:u.refDistance,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:u.rolloffFactor,panningModel:void 0!==t.panningModel?t.panningModel:u.panningModel};var l=r._panner;l?(l.coneInnerAngle=u.coneInnerAngle,l.coneOuterAngle=u.coneOuterAngle,l.coneOuterGain=u.coneOuterGain,l.distanceModel=u.distanceModel,l.maxDistance=u.maxDistance,l.refDistance=u.refDistance,l.rolloffFactor=u.rolloffFactor,l.panningModel=u.panningModel):(r._pos||(r._pos=i._pos||[0,0,-.5]),e(r,"spatial"))}return i},Sound.prototype.init=function(t){return function(){var e=this._parent;this._orientation=e._orientation,this._stereo=e._stereo,this._pos=e._pos,this._pannerAttr=e._pannerAttr,t.call(this),this._stereo?e.stereo(this._stereo):this._pos&&e.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var e=this._parent;return this._orientation=e._orientation,this._stereo=e._stereo,this._pos=e._pos,this._pannerAttr=e._pannerAttr,this._stereo?e.stereo(this._stereo):this._pos?e.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,e._refreshBuffer(this)),t.call(this)}}(Sound.prototype.reset);var e=function(t,e){"spatial"===(e=e||"spatial")?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,void 0!==t._panner.positionX?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),void 0!==t._panner.orientationX?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}}()}).call(this,n(15))},function(t,e,n){var r=n(45),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e,n){"use strict";function r(t,e){return(t%e+e)%e}function i(t,e=0,n=1){return t<e?e:t>n?n:t}function o(t){return t.charAt(0).toUpperCase()+t.substring(1)}function a(t,...e){let n=a.map;return t.replace(/%(?:([a-z]+)|(?:{([^}]+)}))/gi,(function(r,i,a,s){if("%"==t.charAt(s-1))return r.substring(1);if(!e.length)return r;let u=e[0],l=(i||a).split(","),c=l.shift()||"",h=n[c.toLowerCase()];if(!h)return r;u=e.shift();let f=u[h].apply(u,l),p=c.charAt(0);return p!=p.toLowerCase()&&(f=o(f)),f}))}n.r(e),n.d(e,"mod",(function(){return r})),n.d(e,"clamp",(function(){return i})),n.d(e,"capitalize",(function(){return o})),n.d(e,"format",(function(){return a})),a.map={s:"toString"}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){"use strict";n.r(e),n.d(e,"fromString",(function(){return o})),n.d(e,"add",(function(){return a})),n.d(e,"add_",(function(){return s})),n.d(e,"multiply",(function(){return u})),n.d(e,"multiply_",(function(){return l})),n.d(e,"interpolate",(function(){return c})),n.d(e,"lerp",(function(){return h})),n.d(e,"interpolateHSL",(function(){return f})),n.d(e,"lerpHSL",(function(){return p})),n.d(e,"randomize",(function(){return d})),n.d(e,"rgb2hsl",(function(){return _})),n.d(e,"hsl2rgb",(function(){return g})),n.d(e,"toRGB",(function(){return m})),n.d(e,"toHex",(function(){return y}));var r=n(4),i=n(1);function o(t){let e,n;if(t in b)e=b[t];else{if("#"==t.charAt(0)){let n=(t.match(/[0-9a-f]/gi)||[]).map(t=>parseInt(t,16));if(3==n.length)e=n.map(t=>17*t);else{for(let t=0;t<3;t++)n[t+1]+=16*n[t],n.splice(t,1);e=n}}else e=(n=t.match(/rgb\(([0-9, ]+)\)/i))?n[1].split(/\s*,\s*/).map(t=>parseInt(t)):[0,0,0];b[t]=e}return e.slice()}function a(t,...e){let n=t.slice();for(let t=0;t<3;t++)for(let r=0;r<e.length;r++)n[t]+=e[r][t];return n}function s(t,...e){for(let n=0;n<3;n++)for(let r=0;r<e.length;r++)t[n]+=e[r][n];return t}function u(t,...e){let n=t.slice();for(let t=0;t<3;t++){for(let r=0;r<e.length;r++)n[t]*=e[r][t]/255;n[t]=Math.round(n[t])}return n}function l(t,...e){for(let n=0;n<3;n++){for(let r=0;r<e.length;r++)t[n]*=e[r][n]/255;t[n]=Math.round(t[n])}return t}function c(t,e,n=.5){let r=t.slice();for(let i=0;i<3;i++)r[i]=Math.round(r[i]+n*(e[i]-t[i]));return r}const h=c;function f(t,e,n=.5){let r=_(t),i=_(e);for(let t=0;t<3;t++)r[t]+=n*(i[t]-r[t]);return g(r)}const p=f;function d(t,e){e instanceof Array||(e=Math.round(i.a.getNormal(0,e)));let n=t.slice();for(let t=0;t<3;t++)n[t]+=e instanceof Array?Math.round(i.a.getNormal(0,e[t])):e;return n}function _(t){let e,n=t[0]/255,r=t[1]/255,i=t[2]/255,o=Math.max(n,r,i),a=Math.min(n,r,i),s=0,u=(o+a)/2;if(o==a)e=0;else{let t=o-a;switch(e=u>.5?t/(2-o-a):t/(o+a),o){case n:s=(r-i)/t+(r<i?6:0);break;case r:s=(i-n)/t+2;break;case i:s=(n-r)/t+4}s/=6}return[s,e,u]}function v(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function g(t){let e=t[2];if(0==t[1])return e=Math.round(255*e),[e,e,e];{let n=t[1],r=e<.5?e*(1+n):e+n-e*n,i=2*e-r,o=v(i,r,t[0]+1/3),a=v(i,r,t[0]),s=v(i,r,t[0]-1/3);return[Math.round(255*o),Math.round(255*a),Math.round(255*s)]}}function m(t){return`rgb(${t.map(t=>Object(r.clamp)(t,0,255)).join(",")})`}function y(t){return"#"+t.map(t=>Object(r.clamp)(t,0,255).toString(16).padStart(2,"0")).join("")}const b={black:[0,0,0],navy:[0,0,128],darkblue:[0,0,139],mediumblue:[0,0,205],blue:[0,0,255],darkgreen:[0,100,0],green:[0,128,0],teal:[0,128,128],darkcyan:[0,139,139],deepskyblue:[0,191,255],darkturquoise:[0,206,209],mediumspringgreen:[0,250,154],lime:[0,255,0],springgreen:[0,255,127],aqua:[0,255,255],cyan:[0,255,255],midnightblue:[25,25,112],dodgerblue:[30,144,255],forestgreen:[34,139,34],seagreen:[46,139,87],darkslategray:[47,79,79],darkslategrey:[47,79,79],limegreen:[50,205,50],mediumseagreen:[60,179,113],turquoise:[64,224,208],royalblue:[65,105,225],steelblue:[70,130,180],darkslateblue:[72,61,139],mediumturquoise:[72,209,204],indigo:[75,0,130],darkolivegreen:[85,107,47],cadetblue:[95,158,160],cornflowerblue:[100,149,237],mediumaquamarine:[102,205,170],dimgray:[105,105,105],dimgrey:[105,105,105],slateblue:[106,90,205],olivedrab:[107,142,35],slategray:[112,128,144],slategrey:[112,128,144],lightslategray:[119,136,153],lightslategrey:[119,136,153],mediumslateblue:[123,104,238],lawngreen:[124,252,0],chartreuse:[127,255,0],aquamarine:[127,255,212],maroon:[128,0,0],purple:[128,0,128],olive:[128,128,0],gray:[128,128,128],grey:[128,128,128],skyblue:[135,206,235],lightskyblue:[135,206,250],blueviolet:[138,43,226],darkred:[139,0,0],darkmagenta:[139,0,139],saddlebrown:[139,69,19],darkseagreen:[143,188,143],lightgreen:[144,238,144],mediumpurple:[147,112,216],darkviolet:[148,0,211],palegreen:[152,251,152],darkorchid:[153,50,204],yellowgreen:[154,205,50],sienna:[160,82,45],brown:[165,42,42],darkgray:[169,169,169],darkgrey:[169,169,169],lightblue:[173,216,230],greenyellow:[173,255,47],paleturquoise:[175,238,238],lightsteelblue:[176,196,222],powderblue:[176,224,230],firebrick:[178,34,34],darkgoldenrod:[184,134,11],mediumorchid:[186,85,211],rosybrown:[188,143,143],darkkhaki:[189,183,107],silver:[192,192,192],mediumvioletred:[199,21,133],indianred:[205,92,92],peru:[205,133,63],chocolate:[210,105,30],tan:[210,180,140],lightgray:[211,211,211],lightgrey:[211,211,211],palevioletred:[216,112,147],thistle:[216,191,216],orchid:[218,112,214],goldenrod:[218,165,32],crimson:[220,20,60],gainsboro:[220,220,220],plum:[221,160,221],burlywood:[222,184,135],lightcyan:[224,255,255],lavender:[230,230,250],darksalmon:[233,150,122],violet:[238,130,238],palegoldenrod:[238,232,170],lightcoral:[240,128,128],khaki:[240,230,140],aliceblue:[240,248,255],honeydew:[240,255,240],azure:[240,255,255],sandybrown:[244,164,96],wheat:[245,222,179],beige:[245,245,220],whitesmoke:[245,245,245],mintcream:[245,255,250],ghostwhite:[248,248,255],salmon:[250,128,114],antiquewhite:[250,235,215],linen:[250,240,230],lightgoldenrodyellow:[250,250,210],oldlace:[253,245,230],red:[255,0,0],fuchsia:[255,0,255],magenta:[255,0,255],deeppink:[255,20,147],orangered:[255,69,0],tomato:[255,99,71],hotpink:[255,105,180],coral:[255,127,80],darkorange:[255,140,0],lightsalmon:[255,160,122],orange:[255,165,0],lightpink:[255,182,193],pink:[255,192,203],gold:[255,215,0],peachpuff:[255,218,185],navajowhite:[255,222,173],moccasin:[255,228,181],bisque:[255,228,196],mistyrose:[255,228,225],blanchedalmond:[255,235,205],papayawhip:[255,239,213],lavenderblush:[255,240,245],seashell:[255,245,238],cornsilk:[255,248,220],lemonchiffon:[255,250,205],floralwhite:[255,250,240],snow:[255,250,250],yellow:[255,255,0],lightyellow:[255,255,224],ivory:[255,255,240],white:[255,255,255]}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r=n(105),i=n(108);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));class r{getContainer(){return null}setOptions(t){this._options=t}}},function(t,e,n){var r=n(43),i=n(89),o=n(49);t.exports=function(t){return o(t)?r(t):i(t)}},function(t,e,n){var r=n(14),i=n(85),o=n(86),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},function(t,e,n){var r=n(3).Symbol;t.exports=r},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(95),i=n(96),o=n(97),a=n(98),s=n(99);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(30);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(9)(Object,"create");t.exports=r},function(t,e,n){var r=n(117);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var r=n(132),i=n(31),o=n(133),a=n(134),s=n(135),u=n(13),l=n(52),c=l(r),h=l(i),f=l(o),p=l(a),d=l(s),_=u;(r&&"[object DataView]"!=_(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=_(new i)||o&&"[object Promise]"!=_(o.resolve())||a&&"[object Set]"!=_(new a)||s&&"[object WeakMap]"!=_(new s))&&(_=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?l(n):"";if(r)switch(r){case c:return"[object DataView]";case h:return"[object Map]";case f:return"[object Promise]";case p:return"[object Set]";case d:return"[object WeakMap]"}return e}),t.exports=_},function(t,e,n){var r=n(36);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},function(t,e,n){var r=n(63),i=n(64);t.exports=function(t,e,n,o){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var l=e[s],c=o?o(n[l],t[l],l,n,t):void 0;void 0===c&&(c=t[l]),a?i(n,l,c):r(n,l,c)}return n}},function(t,e,n){var r=n(61);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},function(t,e,n){(function(t){var r=n(3),i=n(87),o=e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;t.exports=u}).call(this,n(8)(t))},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){(function(t){var r=n(45),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s}).call(this,n(8)(t))},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(16),i=n(100),o=n(101),a=n(102),s=n(103),u=n(104);function l(t){var e=this.__data__=new r(t);this.size=e.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=u,t.exports=l},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=n(9)(n(3),"Map");t.exports=r},function(t,e,n){var r=n(109),i=n(116),o=n(118),a=n(119),s=n(120);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(121),i=n(7);t.exports=function t(e,n,o,a,s){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!=e&&n!=n:r(e,n,o,a,t,s))}},function(t,e,n){var r=n(131),i=n(58),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return o.call(t,e)})))}:i;t.exports=s},function(t,e,n){var r=n(5),i=n(36),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||(a.test(t)||!o.test(t)||null!=e&&t in Object(e))}},function(t,e,n){var r=n(13),i=n(7);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},function(t,e,n){var r=n(43),i=n(155),o=n(49);t.exports=function(t){return o(t)?r(t,!0):i(t)}},function(t,e,n){var r=n(54);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return a}));var r=n(11),i=n(6);function o(t){let e=i.fromString(t);return 36*Math.floor(e[0]*(6/256))+6*Math.floor(e[1]*(6/256))+1*Math.floor(e[2]*(6/256))+16}class a extends r.a{constructor(){super(),this._offset=[0,0],this._cursor=[-1,-1],this._lastColor=""}schedule(t){setTimeout(t,1e3/60)}setOptions(t){super.setOptions(t);let e=[t.width,t.height],n=this.computeSize();this._offset=n.map((t,n)=>Math.floor((t-e[n])/2))}clear(){t.stdout.write(`[0;48;5;${o(this._options.bg)}m[2J`)}draw(e,n){let[r,i,a,s,u]=e,l=this._offset[0]+r,c=this._offset[1]+i,h=this.computeSize();if(l<0||l>=h[0])return;if(c<0||c>=h[1])return;if(l===this._cursor[0]&&c===this._cursor[1]||(t.stdout.write(function(t,e){return`[${e+1};${t+1}H`}(l,c)),this._cursor[0]=l,this._cursor[1]=c),n&&(a||(a=" ")),!a)return;let f=function(t,e){return`[0;38;5;${o(t)};48;5;${o(e)}m`}(s,u);if(f!==this._lastColor&&(t.stdout.write(f),this._lastColor=f),"\t"!=a){let e=[].concat(a);t.stdout.write(e[0])}this._cursor[0]++,this._cursor[0]>=h[0]&&(this._cursor[0]=0,this._cursor[1]++)}computeFontSize(){throw new Error("Terminal backend has no notion of font size")}eventToPosition(t,e){return[t,e]}computeSize(){return[t.stdout.columns,t.stdout.rows]}}}).call(this,n(77))},function(t,e){t.exports=function(t){return null==t}},function(t,e,n){(function(t,r){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o="Expected a function",a="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],u="[object Arguments]",l="[object Array]",c="[object Boolean]",h="[object Date]",f="[object Error]",p="[object Function]",d="[object GeneratorFunction]",_="[object Map]",v="[object Number]",g="[object Object]",m="[object RegExp]",y="[object Set]",b="[object String]",w="[object Symbol]",x="[object WeakMap]",k="[object ArrayBuffer]",A="[object DataView]",T="[object Float32Array]",S="[object Float64Array]",j="[object Int8Array]",E="[object Int16Array]",C="[object Int32Array]",O="[object Uint8Array]",M="[object Uint16Array]",I="[object Uint32Array]",P=/\b__p \+= '';/g,L=/\b(__p \+=) '' \+/g,F=/(__e\(.*?\)|\b__t\)) \+\n'';/g,R=/&(?:amp|lt|gt|quot|#39);/g,N=/[&<>"']/g,G=RegExp(R.source),z=RegExp(N.source),D=/<%-([\s\S]+?)%>/g,B=/<%([\s\S]+?)%>/g,H=/<%=([\s\S]+?)%>/g,U=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,W=/^\w*$/,$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,q=/[\\^$.*+?()[\]{}|]/g,X=RegExp(q.source),V=/^\s+|\s+$/g,Y=/^\s+/,K=/\s+$/,Z=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Q=/\{\n\/\* \[wrapped with (.+)\] \*/,J=/,? & /,tt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,et=/\\(\\)?/g,nt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,rt=/\w*$/,it=/^[-+]0x[0-9a-f]+$/i,ot=/^0b[01]+$/i,at=/^\[object .+?Constructor\]$/,st=/^0o[0-7]+$/i,ut=/^(?:0|[1-9]\d*)$/,lt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ct=/($^)/,ht=/['\n\r\u2028\u2029\\]/g,ft="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",pt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dt="[\\ud800-\\udfff]",_t="["+pt+"]",vt="["+ft+"]",gt="\\d+",mt="[\\u2700-\\u27bf]",yt="[a-z\\xdf-\\xf6\\xf8-\\xff]",bt="[^\\ud800-\\udfff"+pt+gt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",wt="\\ud83c[\\udffb-\\udfff]",xt="[^\\ud800-\\udfff]",kt="(?:\\ud83c[\\udde6-\\uddff]){2}",At="[\\ud800-\\udbff][\\udc00-\\udfff]",Tt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",St="(?:"+yt+"|"+bt+")",jt="(?:"+Tt+"|"+bt+")",Et="(?:"+vt+"|"+wt+")"+"?",Ct="[\\ufe0e\\ufe0f]?"+Et+("(?:\\u200d(?:"+[xt,kt,At].join("|")+")[\\ufe0e\\ufe0f]?"+Et+")*"),Ot="(?:"+[mt,kt,At].join("|")+")"+Ct,Mt="(?:"+[xt+vt+"?",vt,kt,At,dt].join("|")+")",It=RegExp("[']","g"),Pt=RegExp(vt,"g"),Lt=RegExp(wt+"(?="+wt+")|"+Mt+Ct,"g"),Ft=RegExp([Tt+"?"+yt+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[_t,Tt,"$"].join("|")+")",jt+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[_t,Tt+St,"$"].join("|")+")",Tt+"?"+St+"+(?:['](?:d|ll|m|re|s|t|ve))?",Tt+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",gt,Ot].join("|"),"g"),Rt=RegExp("[\\u200d\\ud800-\\udfff"+ft+"\\ufe0e\\ufe0f]"),Nt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Gt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],zt=-1,Dt={};Dt[T]=Dt[S]=Dt[j]=Dt[E]=Dt[C]=Dt[O]=Dt["[object Uint8ClampedArray]"]=Dt[M]=Dt[I]=!0,Dt[u]=Dt[l]=Dt[k]=Dt[c]=Dt[A]=Dt[h]=Dt[f]=Dt[p]=Dt[_]=Dt[v]=Dt[g]=Dt[m]=Dt[y]=Dt[b]=Dt[x]=!1;var Bt={};Bt[u]=Bt[l]=Bt[k]=Bt[A]=Bt[c]=Bt[h]=Bt[T]=Bt[S]=Bt[j]=Bt[E]=Bt[C]=Bt[_]=Bt[v]=Bt[g]=Bt[m]=Bt[y]=Bt[b]=Bt[w]=Bt[O]=Bt["[object Uint8ClampedArray]"]=Bt[M]=Bt[I]=!0,Bt[f]=Bt[p]=Bt[x]=!1;var Ht={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ut=parseFloat,Wt=parseInt,$t="object"==typeof t&&t&&t.Object===Object&&t,qt="object"==typeof self&&self&&self.Object===Object&&self,Xt=$t||qt||Function("return this")(),Vt=e&&!e.nodeType&&e,Yt=Vt&&"object"==typeof r&&r&&!r.nodeType&&r,Kt=Yt&&Yt.exports===Vt,Zt=Kt&&$t.process,Qt=function(){try{var t=Yt&&Yt.require&&Yt.require("util").types;return t||Zt&&Zt.binding&&Zt.binding("util")}catch(t){}}(),Jt=Qt&&Qt.isArrayBuffer,te=Qt&&Qt.isDate,ee=Qt&&Qt.isMap,ne=Qt&&Qt.isRegExp,re=Qt&&Qt.isSet,ie=Qt&&Qt.isTypedArray;function oe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ae(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function se(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function ue(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function le(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function ce(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function he(t,e){return!!(null==t?0:t.length)&&we(t,e,0)>-1}function fe(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function pe(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function de(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function _e(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function ve(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function ge(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var me=Te("length");function ye(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function be(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function we(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):be(t,ke,n)}function xe(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function ke(t){return t!=t}function Ae(t,e){var n=null==t?0:t.length;return n?Ee(t,e)/n:NaN}function Te(t){return function(e){return null==e?void 0:e[t]}}function Se(t){return function(e){return null==t?void 0:t[e]}}function je(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Ee(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function Ce(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Oe(t){return function(e){return t(e)}}function Me(t,e){return pe(e,(function(e){return t[e]}))}function Ie(t,e){return t.has(e)}function Pe(t,e){for(var n=-1,r=t.length;++n<r&&we(e,t[n],0)>-1;);return n}function Le(t,e){for(var n=t.length;n--&&we(e,t[n],0)>-1;);return n}function Fe(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var Re=Se({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),Ne=Se({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ge(t){return"\\"+Ht[t]}function ze(t){return Rt.test(t)}function De(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function Be(t,e){return function(n){return t(e(n))}}function He(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n];s!==e&&s!==a||(t[n]=a,o[i++]=n)}return o}function Ue(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function We(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function $e(t){return ze(t)?function(t){var e=Lt.lastIndex=0;for(;Lt.test(t);)++e;return e}(t):me(t)}function qe(t){return ze(t)?function(t){return t.match(Lt)||[]}(t):function(t){return t.split("")}(t)}var Xe=Se({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Ve=function t(e){var n,r=(e=null==e?Xt:Ve.defaults(Xt.Object(),e,Ve.pick(Xt,Gt))).Array,i=e.Date,ft=e.Error,pt=e.Function,dt=e.Math,_t=e.Object,vt=e.RegExp,gt=e.String,mt=e.TypeError,yt=r.prototype,bt=pt.prototype,wt=_t.prototype,xt=e["__core-js_shared__"],kt=bt.toString,At=wt.hasOwnProperty,Tt=0,St=(n=/[^.]+$/.exec(xt&&xt.keys&&xt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",jt=wt.toString,Et=kt.call(_t),Ct=Xt._,Ot=vt("^"+kt.call(At).replace(q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Mt=Kt?e.Buffer:void 0,Lt=e.Symbol,Rt=e.Uint8Array,Ht=Mt?Mt.allocUnsafe:void 0,$t=Be(_t.getPrototypeOf,_t),qt=_t.create,Vt=wt.propertyIsEnumerable,Yt=yt.splice,Zt=Lt?Lt.isConcatSpreadable:void 0,Qt=Lt?Lt.iterator:void 0,me=Lt?Lt.toStringTag:void 0,Se=function(){try{var t=Ji(_t,"defineProperty");return t({},"",{}),t}catch(t){}}(),Ye=e.clearTimeout!==Xt.clearTimeout&&e.clearTimeout,Ke=i&&i.now!==Xt.Date.now&&i.now,Ze=e.setTimeout!==Xt.setTimeout&&e.setTimeout,Qe=dt.ceil,Je=dt.floor,tn=_t.getOwnPropertySymbols,en=Mt?Mt.isBuffer:void 0,nn=e.isFinite,rn=yt.join,on=Be(_t.keys,_t),an=dt.max,sn=dt.min,un=i.now,ln=e.parseInt,cn=dt.random,hn=yt.reverse,fn=Ji(e,"DataView"),pn=Ji(e,"Map"),dn=Ji(e,"Promise"),_n=Ji(e,"Set"),vn=Ji(e,"WeakMap"),gn=Ji(_t,"create"),mn=vn&&new vn,yn={},bn=jo(fn),wn=jo(pn),xn=jo(dn),kn=jo(_n),An=jo(vn),Tn=Lt?Lt.prototype:void 0,Sn=Tn?Tn.valueOf:void 0,jn=Tn?Tn.toString:void 0;function En(t){if(Wa(t)&&!Pa(t)&&!(t instanceof In)){if(t instanceof Mn)return t;if(At.call(t,"__wrapped__"))return Eo(t)}return new Mn(t)}var Cn=function(){function t(){}return function(e){if(!Ua(e))return{};if(qt)return qt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function On(){}function Mn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function In(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Pn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ln(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Fn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Rn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Fn;++e<n;)this.add(t[e])}function Nn(t){var e=this.__data__=new Ln(t);this.size=e.size}function Gn(t,e){var n=Pa(t),r=!n&&Ia(t),i=!n&&!r&&Na(t),o=!n&&!r&&!i&&Qa(t),a=n||r||i||o,s=a?Ce(t.length,gt):[],u=s.length;for(var l in t)!e&&!At.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ao(l,u))||s.push(l);return s}function zn(t){var e=t.length;return e?t[Rr(0,e-1)]:void 0}function Dn(t,e){return Ao(gi(t),Yn(e,0,t.length))}function Bn(t){return Ao(gi(t))}function Hn(t,e,n){(void 0!==n&&!Ca(t[e],n)||void 0===n&&!(e in t))&&Xn(t,e,n)}function Un(t,e,n){var r=t[e];At.call(t,e)&&Ca(r,n)&&(void 0!==n||e in t)||Xn(t,e,n)}function Wn(t,e){for(var n=t.length;n--;)if(Ca(t[n][0],e))return n;return-1}function $n(t,e,n,r){return tr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function qn(t,e){return t&&mi(e,bs(e),t)}function Xn(t,e,n){"__proto__"==e&&Se?Se(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Vn(t,e){for(var n=-1,i=e.length,o=r(i),a=null==t;++n<i;)o[n]=a?void 0:_s(t,e[n]);return o}function Yn(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function Kn(t,e,n,r,i,o){var a,s=1&e,l=2&e,f=4&e;if(n&&(a=i?n(t,r,i,o):n(t)),void 0!==a)return a;if(!Ua(t))return t;var x=Pa(t);if(x){if(a=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&At.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!s)return gi(t,a)}else{var P=no(t),L=P==p||P==d;if(Na(t))return hi(t,s);if(P==g||P==u||L&&!i){if(a=l||L?{}:io(t),!s)return l?function(t,e){return mi(t,eo(t),e)}(t,function(t,e){return t&&mi(e,ws(e),t)}(a,t)):function(t,e){return mi(t,to(t),e)}(t,qn(a,t))}else{if(!Bt[P])return i?t:{};a=function(t,e,n){var r=t.constructor;switch(e){case k:return fi(t);case c:case h:return new r(+t);case A:return function(t,e){var n=e?fi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case T:case S:case j:case E:case C:case O:case"[object Uint8ClampedArray]":case M:case I:return pi(t,n);case _:return new r;case v:case b:return new r(t);case m:return function(t){var e=new t.constructor(t.source,rt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case y:return new r;case w:return i=t,Sn?_t(Sn.call(i)):{}}var i}(t,P,s)}}o||(o=new Nn);var F=o.get(t);if(F)return F;o.set(t,a),Ya(t)?t.forEach((function(r){a.add(Kn(r,e,n,r,t,o))})):$a(t)&&t.forEach((function(r,i){a.set(i,Kn(r,e,n,i,t,o))}));var R=x?void 0:(f?l?qi:$i:l?ws:bs)(t);return se(R||t,(function(r,i){R&&(r=t[i=r]),Un(a,i,Kn(r,e,n,i,t,o))})),a}function Zn(t,e,n){var r=n.length;if(null==t)return!r;for(t=_t(t);r--;){var i=n[r],o=e[i],a=t[i];if(void 0===a&&!(i in t)||!o(a))return!1}return!0}function Qn(t,e,n){if("function"!=typeof t)throw new mt(o);return bo((function(){t.apply(void 0,n)}),e)}function Jn(t,e,n,r){var i=-1,o=he,a=!0,s=t.length,u=[],l=e.length;if(!s)return u;n&&(e=pe(e,Oe(n))),r?(o=fe,a=!1):e.length>=200&&(o=Ie,a=!1,e=new Rn(e));t:for(;++i<s;){var c=t[i],h=null==n?c:n(c);if(c=r||0!==c?c:0,a&&h==h){for(var f=l;f--;)if(e[f]===h)continue t;u.push(c)}else o(e,h,r)||u.push(c)}return u}En.templateSettings={escape:D,evaluate:B,interpolate:H,variable:"",imports:{_:En}},En.prototype=On.prototype,En.prototype.constructor=En,Mn.prototype=Cn(On.prototype),Mn.prototype.constructor=Mn,In.prototype=Cn(On.prototype),In.prototype.constructor=In,Pn.prototype.clear=function(){this.__data__=gn?gn(null):{},this.size=0},Pn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Pn.prototype.get=function(t){var e=this.__data__;if(gn){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return At.call(e,t)?e[t]:void 0},Pn.prototype.has=function(t){var e=this.__data__;return gn?void 0!==e[t]:At.call(e,t)},Pn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=gn&&void 0===e?"__lodash_hash_undefined__":e,this},Ln.prototype.clear=function(){this.__data__=[],this.size=0},Ln.prototype.delete=function(t){var e=this.__data__,n=Wn(e,t);return!(n<0)&&(n==e.length-1?e.pop():Yt.call(e,n,1),--this.size,!0)},Ln.prototype.get=function(t){var e=this.__data__,n=Wn(e,t);return n<0?void 0:e[n][1]},Ln.prototype.has=function(t){return Wn(this.__data__,t)>-1},Ln.prototype.set=function(t,e){var n=this.__data__,r=Wn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Fn.prototype.clear=function(){this.size=0,this.__data__={hash:new Pn,map:new(pn||Ln),string:new Pn}},Fn.prototype.delete=function(t){var e=Zi(this,t).delete(t);return this.size-=e?1:0,e},Fn.prototype.get=function(t){return Zi(this,t).get(t)},Fn.prototype.has=function(t){return Zi(this,t).has(t)},Fn.prototype.set=function(t,e){var n=Zi(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Rn.prototype.add=Rn.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Rn.prototype.has=function(t){return this.__data__.has(t)},Nn.prototype.clear=function(){this.__data__=new Ln,this.size=0},Nn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Nn.prototype.get=function(t){return this.__data__.get(t)},Nn.prototype.has=function(t){return this.__data__.has(t)},Nn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Ln){var r=n.__data__;if(!pn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Fn(r)}return n.set(t,e),this.size=n.size,this};var tr=wi(ur),er=wi(lr,!0);function nr(t,e){var n=!0;return tr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function rr(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(void 0===s?a==a&&!Za(a):n(a,s)))var s=a,u=o}return u}function ir(t,e){var n=[];return tr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function or(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=oo),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?or(s,e-1,n,r,i):de(i,s):r||(i[i.length]=s)}return i}var ar=xi(),sr=xi(!0);function ur(t,e){return t&&ar(t,e,bs)}function lr(t,e){return t&&sr(t,e,bs)}function cr(t,e){return ce(e,(function(e){return Da(t[e])}))}function hr(t,e){for(var n=0,r=(e=si(e,t)).length;null!=t&&n<r;)t=t[So(e[n++])];return n&&n==r?t:void 0}function fr(t,e,n){var r=e(t);return Pa(t)?r:de(r,n(t))}function pr(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":me&&me in _t(t)?function(t){var e=At.call(t,me),n=t[me];try{t[me]=void 0;var r=!0}catch(t){}var i=jt.call(t);r&&(e?t[me]=n:delete t[me]);return i}(t):function(t){return jt.call(t)}(t)}function dr(t,e){return t>e}function _r(t,e){return null!=t&&At.call(t,e)}function vr(t,e){return null!=t&&e in _t(t)}function gr(t,e,n){for(var i=n?fe:he,o=t[0].length,a=t.length,s=a,u=r(a),l=1/0,c=[];s--;){var h=t[s];s&&e&&(h=pe(h,Oe(e))),l=sn(h.length,l),u[s]=!n&&(e||o>=120&&h.length>=120)?new Rn(s&&h):void 0}h=t[0];var f=-1,p=u[0];t:for(;++f<o&&c.length<l;){var d=h[f],_=e?e(d):d;if(d=n||0!==d?d:0,!(p?Ie(p,_):i(c,_,n))){for(s=a;--s;){var v=u[s];if(!(v?Ie(v,_):i(t[s],_,n)))continue t}p&&p.push(_),c.push(d)}}return c}function mr(t,e,n){var r=null==(t=vo(t,e=si(e,t)))?t:t[So(zo(e))];return null==r?void 0:oe(r,t,n)}function yr(t){return Wa(t)&&pr(t)==u}function br(t,e,n,r,i){return t===e||(null==t||null==e||!Wa(t)&&!Wa(e)?t!=t&&e!=e:function(t,e,n,r,i,o){var a=Pa(t),s=Pa(e),p=a?l:no(t),d=s?l:no(e),x=(p=p==u?g:p)==g,T=(d=d==u?g:d)==g,S=p==d;if(S&&Na(t)){if(!Na(e))return!1;a=!0,x=!1}if(S&&!x)return o||(o=new Nn),a||Qa(t)?Ui(t,e,n,r,i,o):function(t,e,n,r,i,o,a){switch(n){case A:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case k:return!(t.byteLength!=e.byteLength||!o(new Rt(t),new Rt(e)));case c:case h:case v:return Ca(+t,+e);case f:return t.name==e.name&&t.message==e.message;case m:case b:return t==e+"";case _:var s=De;case y:var u=1&r;if(s||(s=Ue),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;r|=2,a.set(t,e);var p=Ui(s(t),s(e),r,i,o,a);return a.delete(t),p;case w:if(Sn)return Sn.call(t)==Sn.call(e)}return!1}(t,e,p,n,r,i,o);if(!(1&n)){var j=x&&At.call(t,"__wrapped__"),E=T&&At.call(e,"__wrapped__");if(j||E){var C=j?t.value():t,O=E?e.value():e;return o||(o=new Nn),i(C,O,n,r,o)}}if(!S)return!1;return o||(o=new Nn),function(t,e,n,r,i,o){var a=1&n,s=$i(t),u=s.length,l=$i(e).length;if(u!=l&&!a)return!1;var c=u;for(;c--;){var h=s[c];if(!(a?h in e:At.call(e,h)))return!1}var f=o.get(t),p=o.get(e);if(f&&p)return f==e&&p==t;var d=!0;o.set(t,e),o.set(e,t);var _=a;for(;++c<u;){h=s[c];var v=t[h],g=e[h];if(r)var m=a?r(g,v,h,e,t,o):r(v,g,h,t,e,o);if(!(void 0===m?v===g||i(v,g,n,r,o):m)){d=!1;break}_||(_="constructor"==h)}if(d&&!_){var y=t.constructor,b=e.constructor;y==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(d=!1)}return o.delete(t),o.delete(e),d}(t,e,n,r,i,o)}(t,e,n,r,br,i))}function wr(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=_t(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var u=(s=n[i])[0],l=t[u],c=s[1];if(a&&s[2]){if(void 0===l&&!(u in t))return!1}else{var h=new Nn;if(r)var f=r(l,c,u,t,e,h);if(!(void 0===f?br(c,l,3,r,h):f))return!1}}return!0}function xr(t){return!(!Ua(t)||(e=t,St&&St in e))&&(Da(t)?Ot:at).test(jo(t));var e}function kr(t){return"function"==typeof t?t:null==t?qs:"object"==typeof t?Pa(t)?Cr(t[0],t[1]):Er(t):eu(t)}function Ar(t){if(!ho(t))return on(t);var e=[];for(var n in _t(t))At.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Tr(t){if(!Ua(t))return function(t){var e=[];if(null!=t)for(var n in _t(t))e.push(n);return e}(t);var e=ho(t),n=[];for(var r in t)("constructor"!=r||!e&&At.call(t,r))&&n.push(r);return n}function Sr(t,e){return t<e}function jr(t,e){var n=-1,i=Fa(t)?r(t.length):[];return tr(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function Er(t){var e=Qi(t);return 1==e.length&&e[0][2]?po(e[0][0],e[0][1]):function(n){return n===t||wr(n,t,e)}}function Cr(t,e){return uo(t)&&fo(e)?po(So(t),e):function(n){var r=_s(n,t);return void 0===r&&r===e?vs(n,t):br(e,r,3)}}function Or(t,e,n,r,i){t!==e&&ar(e,(function(o,a){if(i||(i=new Nn),Ua(o))!function(t,e,n,r,i,o,a){var s=mo(t,n),u=mo(e,n),l=a.get(u);if(l)return void Hn(t,n,l);var c=o?o(s,u,n+"",t,e,a):void 0,h=void 0===c;if(h){var f=Pa(u),p=!f&&Na(u),d=!f&&!p&&Qa(u);c=u,f||p||d?Pa(s)?c=s:Ra(s)?c=gi(s):p?(h=!1,c=hi(u,!0)):d?(h=!1,c=pi(u,!0)):c=[]:Xa(u)||Ia(u)?(c=s,Ia(s)?c=as(s):Ua(s)&&!Da(s)||(c=io(u))):h=!1}h&&(a.set(u,c),i(c,u,r,o,a),a.delete(u));Hn(t,n,c)}(t,e,a,n,Or,r,i);else{var s=r?r(mo(t,a),o,a+"",t,e,i):void 0;void 0===s&&(s=o),Hn(t,a,s)}}),ws)}function Mr(t,e){var n=t.length;if(n)return ao(e+=e<0?n:0,n)?t[e]:void 0}function Ir(t,e,n){e=e.length?pe(e,(function(t){return Pa(t)?function(e){return hr(e,1===t.length?t[0]:t)}:t})):[qs];var r=-1;return e=pe(e,Oe(Ki())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(jr(t,(function(t,n,i){return{criteria:pe(e,(function(e){return e(t)})),index:++r,value:t}})),(function(t,e){return function(t,e,n){var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;for(;++r<a;){var u=di(i[r],o[r]);if(u){if(r>=s)return u;var l=n[r];return u*("desc"==l?-1:1)}}return t.index-e.index}(t,e,n)}))}function Pr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=hr(t,a);n(s,a)&&Br(o,si(a,t),s)}return o}function Lr(t,e,n,r){var i=r?xe:we,o=-1,a=e.length,s=t;for(t===e&&(e=gi(e)),n&&(s=pe(t,Oe(n)));++o<a;)for(var u=0,l=e[o],c=n?n(l):l;(u=i(s,c,u,r))>-1;)s!==t&&Yt.call(s,u,1),Yt.call(t,u,1);return t}function Fr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;ao(i)?Yt.call(t,i,1):Jr(t,i)}}return t}function Rr(t,e){return t+Je(cn()*(e-t+1))}function Nr(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=Je(e/2))&&(t+=t)}while(e);return n}function Gr(t,e){return wo(_o(t,e,qs),t+"")}function zr(t){return zn(Cs(t))}function Dr(t,e){var n=Cs(t);return Ao(n,Yn(e,0,n.length))}function Br(t,e,n,r){if(!Ua(t))return t;for(var i=-1,o=(e=si(e,t)).length,a=o-1,s=t;null!=s&&++i<o;){var u=So(e[i]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(i!=a){var c=s[u];void 0===(l=r?r(c,u,s):void 0)&&(l=Ua(c)?c:ao(e[i+1])?[]:{})}Un(s,u,l),s=s[u]}return t}var Hr=mn?function(t,e){return mn.set(t,e),t}:qs,Ur=Se?function(t,e){return Se(t,"toString",{configurable:!0,enumerable:!1,value:Us(e),writable:!0})}:qs;function Wr(t){return Ao(Cs(t))}function $r(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=r(o);++i<o;)a[i]=t[i+e];return a}function qr(t,e){var n;return tr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function Xr(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Za(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return Vr(t,e,qs,n)}function Vr(t,e,n,r){var i=0,o=null==t?0:t.length;if(0===o)return 0;for(var a=(e=n(e))!=e,s=null===e,u=Za(e),l=void 0===e;i<o;){var c=Je((i+o)/2),h=n(t[c]),f=void 0!==h,p=null===h,d=h==h,_=Za(h);if(a)var v=r||d;else v=l?d&&(r||f):s?d&&f&&(r||!p):u?d&&f&&!p&&(r||!_):!p&&!_&&(r?h<=e:h<e);v?i=c+1:o=c}return sn(o,4294967294)}function Yr(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!Ca(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function Kr(t){return"number"==typeof t?t:Za(t)?NaN:+t}function Zr(t){if("string"==typeof t)return t;if(Pa(t))return pe(t,Zr)+"";if(Za(t))return jn?jn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Qr(t,e,n){var r=-1,i=he,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=fe;else if(o>=200){var l=e?null:Ni(t);if(l)return Ue(l);a=!1,i=Ie,u=new Rn}else u=e?[]:s;t:for(;++r<o;){var c=t[r],h=e?e(c):c;if(c=n||0!==c?c:0,a&&h==h){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),s.push(c)}else i(u,h,n)||(u!==s&&u.push(h),s.push(c))}return s}function Jr(t,e){return null==(t=vo(t,e=si(e,t)))||delete t[So(zo(e))]}function ti(t,e,n,r){return Br(t,e,n(hr(t,e)),r)}function ei(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?$r(t,r?0:o,r?o+1:i):$r(t,r?o+1:0,r?i:o)}function ni(t,e){var n=t;return n instanceof In&&(n=n.value()),_e(e,(function(t,e){return e.func.apply(e.thisArg,de([t],e.args))}),n)}function ri(t,e,n){var i=t.length;if(i<2)return i?Qr(t[0]):[];for(var o=-1,a=r(i);++o<i;)for(var s=t[o],u=-1;++u<i;)u!=o&&(a[o]=Jn(a[o]||s,t[u],e,n));return Qr(or(a,1),e,n)}function ii(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:void 0;n(a,t[r],s)}return a}function oi(t){return Ra(t)?t:[]}function ai(t){return"function"==typeof t?t:qs}function si(t,e){return Pa(t)?t:uo(t,e)?[t]:To(ss(t))}var ui=Gr;function li(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:$r(t,e,n)}var ci=Ye||function(t){return Xt.clearTimeout(t)};function hi(t,e){if(e)return t.slice();var n=t.length,r=Ht?Ht(n):new t.constructor(n);return t.copy(r),r}function fi(t){var e=new t.constructor(t.byteLength);return new Rt(e).set(new Rt(t)),e}function pi(t,e){var n=e?fi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function di(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t==t,o=Za(t),a=void 0!==e,s=null===e,u=e==e,l=Za(e);if(!s&&!l&&!o&&t>e||o&&a&&u&&!s&&!l||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!l&&t<e||l&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function _i(t,e,n,i){for(var o=-1,a=t.length,s=n.length,u=-1,l=e.length,c=an(a-s,0),h=r(l+c),f=!i;++u<l;)h[u]=e[u];for(;++o<s;)(f||o<a)&&(h[n[o]]=t[o]);for(;c--;)h[u++]=t[o++];return h}function vi(t,e,n,i){for(var o=-1,a=t.length,s=-1,u=n.length,l=-1,c=e.length,h=an(a-u,0),f=r(h+c),p=!i;++o<h;)f[o]=t[o];for(var d=o;++l<c;)f[d+l]=e[l];for(;++s<u;)(p||o<a)&&(f[d+n[s]]=t[o++]);return f}function gi(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function mi(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=r?r(n[s],t[s],s,n,t):void 0;void 0===u&&(u=t[s]),i?Xn(n,s,u):Un(n,s,u)}return n}function yi(t,e){return function(n,r){var i=Pa(n)?ae:$n,o=e?e():{};return i(n,t,Ki(r,2),o)}}function bi(t){return Gr((function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,a&&so(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=_t(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e}))}function wi(t,e){return function(n,r){if(null==n)return n;if(!Fa(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=_t(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function xi(t){return function(e,n,r){for(var i=-1,o=_t(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}function ki(t){return function(e){var n=ze(e=ss(e))?qe(e):void 0,r=n?n[0]:e.charAt(0),i=n?li(n,1).join(""):e.slice(1);return r[t]()+i}}function Ai(t){return function(e){return _e(Ds(Is(e).replace(It,"")),t,"")}}function Ti(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Cn(t.prototype),r=t.apply(n,e);return Ua(r)?r:n}}function Si(t){return function(e,n,r){var i=_t(e);if(!Fa(e)){var o=Ki(n,3);e=bs(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}function ji(t){return Wi((function(e){var n=e.length,r=n,i=Mn.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new mt(o);if(i&&!s&&"wrapper"==Vi(a))var s=new Mn([],!0)}for(r=s?r:n;++r<n;){var u=Vi(a=e[r]),l="wrapper"==u?Xi(a):void 0;s=l&&lo(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[Vi(l[0])].apply(s,l[3]):1==a.length&&lo(a)?s[u]():s.thru(a)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&Pa(r))return s.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function Ei(t,e,n,i,o,a,s,u,l,c){var h=128&e,f=1&e,p=2&e,d=24&e,_=512&e,v=p?void 0:Ti(t);return function g(){for(var m=arguments.length,y=r(m),b=m;b--;)y[b]=arguments[b];if(d)var w=Yi(g),x=Fe(y,w);if(i&&(y=_i(y,i,o,d)),a&&(y=vi(y,a,s,d)),m-=x,d&&m<c){var k=He(y,w);return Fi(t,e,Ei,g.placeholder,n,y,k,u,l,c-m)}var A=f?n:this,T=p?A[t]:t;return m=y.length,u?y=go(y,u):_&&m>1&&y.reverse(),h&&l<m&&(y.length=l),this&&this!==Xt&&this instanceof g&&(T=v||Ti(T)),T.apply(A,y)}}function Ci(t,e){return function(n,r){return function(t,e,n,r){return ur(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function Oi(t,e){return function(n,r){var i;if(void 0===n&&void 0===r)return e;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Zr(n),r=Zr(r)):(n=Kr(n),r=Kr(r)),i=t(n,r)}return i}}function Mi(t){return Wi((function(e){return e=pe(e,Oe(Ki())),Gr((function(n){var r=this;return t(e,(function(t){return oe(t,r,n)}))}))}))}function Ii(t,e){var n=(e=void 0===e?" ":Zr(e)).length;if(n<2)return n?Nr(e,t):e;var r=Nr(e,Qe(t/$e(e)));return ze(e)?li(qe(r),0,t).join(""):r.slice(0,t)}function Pi(t){return function(e,n,i){return i&&"number"!=typeof i&&so(e,n,i)&&(n=i=void 0),e=ns(e),void 0===n?(n=e,e=0):n=ns(n),function(t,e,n,i){for(var o=-1,a=an(Qe((e-t)/(n||1)),0),s=r(a);a--;)s[i?a:++o]=t,t+=n;return s}(e,n,i=void 0===i?e<n?1:-1:ns(i),t)}}function Li(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=os(e),n=os(n)),t(e,n)}}function Fi(t,e,n,r,i,o,a,s,u,l){var c=8&e;e|=c?32:64,4&(e&=~(c?64:32))||(e&=-4);var h=[t,e,i,c?o:void 0,c?a:void 0,c?void 0:o,c?void 0:a,s,u,l],f=n.apply(void 0,h);return lo(t)&&yo(f,h),f.placeholder=r,xo(f,t,e)}function Ri(t){var e=dt[t];return function(t,n){if(t=os(t),(n=null==n?0:sn(rs(n),292))&&nn(t)){var r=(ss(t)+"e").split("e");return+((r=(ss(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Ni=_n&&1/Ue(new _n([,-0]))[1]==1/0?function(t){return new _n(t)}:Zs;function Gi(t){return function(e){var n=no(e);return n==_?De(e):n==y?We(e):function(t,e){return pe(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function zi(t,e,n,i,s,u,l,c){var h=2&e;if(!h&&"function"!=typeof t)throw new mt(o);var f=i?i.length:0;if(f||(e&=-97,i=s=void 0),l=void 0===l?l:an(rs(l),0),c=void 0===c?c:rs(c),f-=s?s.length:0,64&e){var p=i,d=s;i=s=void 0}var _=h?void 0:Xi(t),v=[t,e,n,i,s,p,d,u,l,c];if(_&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,s=128==r&&8==n||128==r&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!s)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var u=e[3];if(u){var l=t[3];t[3]=l?_i(l,u,e[4]):u,t[4]=l?He(t[3],a):e[4]}(u=e[5])&&(l=t[5],t[5]=l?vi(l,u,e[6]):u,t[6]=l?He(t[5],a):e[6]);(u=e[7])&&(t[7]=u);128&r&&(t[8]=null==t[8]?e[8]:sn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(v,_),t=v[0],e=v[1],n=v[2],i=v[3],s=v[4],!(c=v[9]=void 0===v[9]?h?0:t.length:an(v[9]-f,0))&&24&e&&(e&=-25),e&&1!=e)g=8==e||16==e?function(t,e,n){var i=Ti(t);return function o(){for(var a=arguments.length,s=r(a),u=a,l=Yi(o);u--;)s[u]=arguments[u];var c=a<3&&s[0]!==l&&s[a-1]!==l?[]:He(s,l);if((a-=c.length)<n)return Fi(t,e,Ei,o.placeholder,void 0,s,c,void 0,void 0,n-a);var h=this&&this!==Xt&&this instanceof o?i:t;return oe(h,this,s)}}(t,e,c):32!=e&&33!=e||s.length?Ei.apply(void 0,v):function(t,e,n,i){var o=1&e,a=Ti(t);return function e(){for(var s=-1,u=arguments.length,l=-1,c=i.length,h=r(c+u),f=this&&this!==Xt&&this instanceof e?a:t;++l<c;)h[l]=i[l];for(;u--;)h[l++]=arguments[++s];return oe(f,o?n:this,h)}}(t,e,n,i);else var g=function(t,e,n){var r=1&e,i=Ti(t);return function e(){var o=this&&this!==Xt&&this instanceof e?i:t;return o.apply(r?n:this,arguments)}}(t,e,n);return xo((_?Hr:yo)(g,v),t,e)}function Di(t,e,n,r){return void 0===t||Ca(t,wt[n])&&!At.call(r,n)?e:t}function Bi(t,e,n,r,i,o){return Ua(t)&&Ua(e)&&(o.set(e,t),Or(t,e,void 0,Bi,o),o.delete(e)),t}function Hi(t){return Xa(t)?void 0:t}function Ui(t,e,n,r,i,o){var a=1&n,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(t),c=o.get(e);if(l&&c)return l==e&&c==t;var h=-1,f=!0,p=2&n?new Rn:void 0;for(o.set(t,e),o.set(e,t);++h<s;){var d=t[h],_=e[h];if(r)var v=a?r(_,d,h,e,t,o):r(d,_,h,t,e,o);if(void 0!==v){if(v)continue;f=!1;break}if(p){if(!ge(e,(function(t,e){if(!Ie(p,e)&&(d===t||i(d,t,n,r,o)))return p.push(e)}))){f=!1;break}}else if(d!==_&&!i(d,_,n,r,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function Wi(t){return wo(_o(t,void 0,Lo),t+"")}function $i(t){return fr(t,bs,to)}function qi(t){return fr(t,ws,eo)}var Xi=mn?function(t){return mn.get(t)}:Zs;function Vi(t){for(var e=t.name+"",n=yn[e],r=At.call(yn,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Yi(t){return(At.call(En,"placeholder")?En:t).placeholder}function Ki(){var t=En.iteratee||Xs;return t=t===Xs?kr:t,arguments.length?t(arguments[0],arguments[1]):t}function Zi(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Qi(t){for(var e=bs(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,fo(i)]}return e}function Ji(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return xr(n)?n:void 0}var to=tn?function(t){return null==t?[]:(t=_t(t),ce(tn(t),(function(e){return Vt.call(t,e)})))}:iu,eo=tn?function(t){for(var e=[];t;)de(e,to(t)),t=$t(t);return e}:iu,no=pr;function ro(t,e,n){for(var r=-1,i=(e=si(e,t)).length,o=!1;++r<i;){var a=So(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Ha(i)&&ao(a,i)&&(Pa(t)||Ia(t))}function io(t){return"function"!=typeof t.constructor||ho(t)?{}:Cn($t(t))}function oo(t){return Pa(t)||Ia(t)||!!(Zt&&t&&t[Zt])}function ao(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&ut.test(t))&&t>-1&&t%1==0&&t<e}function so(t,e,n){if(!Ua(n))return!1;var r=typeof e;return!!("number"==r?Fa(n)&&ao(e,n.length):"string"==r&&e in n)&&Ca(n[e],t)}function uo(t,e){if(Pa(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Za(t))||(W.test(t)||!U.test(t)||null!=e&&t in _t(e))}function lo(t){var e=Vi(t),n=En[e];if("function"!=typeof n||!(e in In.prototype))return!1;if(t===n)return!0;var r=Xi(n);return!!r&&t===r[0]}(fn&&no(new fn(new ArrayBuffer(1)))!=A||pn&&no(new pn)!=_||dn&&"[object Promise]"!=no(dn.resolve())||_n&&no(new _n)!=y||vn&&no(new vn)!=x)&&(no=function(t){var e=pr(t),n=e==g?t.constructor:void 0,r=n?jo(n):"";if(r)switch(r){case bn:return A;case wn:return _;case xn:return"[object Promise]";case kn:return y;case An:return x}return e});var co=xt?Da:ou;function ho(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||wt)}function fo(t){return t==t&&!Ua(t)}function po(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in _t(n)))}}function _o(t,e,n){return e=an(void 0===e?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=an(i.length-e,0),s=r(a);++o<a;)s[o]=i[e+o];o=-1;for(var u=r(e+1);++o<e;)u[o]=i[o];return u[e]=n(s),oe(t,this,u)}}function vo(t,e){return e.length<2?t:hr(t,$r(e,0,-1))}function go(t,e){for(var n=t.length,r=sn(e.length,n),i=gi(t);r--;){var o=e[r];t[r]=ao(o,n)?i[o]:void 0}return t}function mo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var yo=ko(Hr),bo=Ze||function(t,e){return Xt.setTimeout(t,e)},wo=ko(Ur);function xo(t,e,n){var r=e+"";return wo(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Z,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return se(s,(function(n){var r="_."+n[0];e&n[1]&&!he(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(Q);return e?e[1].split(J):[]}(r),n)))}function ko(t){var e=0,n=0;return function(){var r=un(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Ao(t,e){var n=-1,r=t.length,i=r-1;for(e=void 0===e?r:e;++n<e;){var o=Rr(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var To=function(t){var e=ka(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace($,(function(t,n,r,i){e.push(r?i.replace(et,"$1"):n||t)})),e}));function So(t){if("string"==typeof t||Za(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function jo(t){if(null!=t){try{return kt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Eo(t){if(t instanceof In)return t.clone();var e=new Mn(t.__wrapped__,t.__chain__);return e.__actions__=gi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Co=Gr((function(t,e){return Ra(t)?Jn(t,or(e,1,Ra,!0)):[]})),Oo=Gr((function(t,e){var n=zo(e);return Ra(n)&&(n=void 0),Ra(t)?Jn(t,or(e,1,Ra,!0),Ki(n,2)):[]})),Mo=Gr((function(t,e){var n=zo(e);return Ra(n)&&(n=void 0),Ra(t)?Jn(t,or(e,1,Ra,!0),void 0,n):[]}));function Io(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:rs(n);return i<0&&(i=an(r+i,0)),be(t,Ki(e,3),i)}function Po(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=rs(n),i=n<0?an(r+i,0):sn(i,r-1)),be(t,Ki(e,3),i,!0)}function Lo(t){return(null==t?0:t.length)?or(t,1):[]}function Fo(t){return t&&t.length?t[0]:void 0}var Ro=Gr((function(t){var e=pe(t,oi);return e.length&&e[0]===t[0]?gr(e):[]})),No=Gr((function(t){var e=zo(t),n=pe(t,oi);return e===zo(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?gr(n,Ki(e,2)):[]})),Go=Gr((function(t){var e=zo(t),n=pe(t,oi);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?gr(n,void 0,e):[]}));function zo(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Do=Gr(Bo);function Bo(t,e){return t&&t.length&&e&&e.length?Lr(t,e):t}var Ho=Wi((function(t,e){var n=null==t?0:t.length,r=Vn(t,e);return Fr(t,pe(e,(function(t){return ao(t,n)?+t:t})).sort(di)),r}));function Uo(t){return null==t?t:hn.call(t)}var Wo=Gr((function(t){return Qr(or(t,1,Ra,!0))})),$o=Gr((function(t){var e=zo(t);return Ra(e)&&(e=void 0),Qr(or(t,1,Ra,!0),Ki(e,2))})),qo=Gr((function(t){var e=zo(t);return e="function"==typeof e?e:void 0,Qr(or(t,1,Ra,!0),void 0,e)}));function Xo(t){if(!t||!t.length)return[];var e=0;return t=ce(t,(function(t){if(Ra(t))return e=an(t.length,e),!0})),Ce(e,(function(e){return pe(t,Te(e))}))}function Vo(t,e){if(!t||!t.length)return[];var n=Xo(t);return null==e?n:pe(n,(function(t){return oe(e,void 0,t)}))}var Yo=Gr((function(t,e){return Ra(t)?Jn(t,e):[]})),Ko=Gr((function(t){return ri(ce(t,Ra))})),Zo=Gr((function(t){var e=zo(t);return Ra(e)&&(e=void 0),ri(ce(t,Ra),Ki(e,2))})),Qo=Gr((function(t){var e=zo(t);return e="function"==typeof e?e:void 0,ri(ce(t,Ra),void 0,e)})),Jo=Gr(Xo);var ta=Gr((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,Vo(t,n)}));function ea(t){var e=En(t);return e.__chain__=!0,e}function na(t,e){return e(t)}var ra=Wi((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return Vn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof In&&ao(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:na,args:[i],thisArg:void 0}),new Mn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(i)}));var ia=yi((function(t,e,n){At.call(t,n)?++t[n]:Xn(t,n,1)}));var oa=Si(Io),aa=Si(Po);function sa(t,e){return(Pa(t)?se:tr)(t,Ki(e,3))}function ua(t,e){return(Pa(t)?ue:er)(t,Ki(e,3))}var la=yi((function(t,e,n){At.call(t,n)?t[n].push(e):Xn(t,n,[e])}));var ca=Gr((function(t,e,n){var i=-1,o="function"==typeof e,a=Fa(t)?r(t.length):[];return tr(t,(function(t){a[++i]=o?oe(e,t,n):mr(t,e,n)})),a})),ha=yi((function(t,e,n){Xn(t,n,e)}));function fa(t,e){return(Pa(t)?pe:jr)(t,Ki(e,3))}var pa=yi((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var da=Gr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&so(t,e[0],e[1])?e=[]:n>2&&so(e[0],e[1],e[2])&&(e=[e[0]]),Ir(t,or(e,1),[])})),_a=Ke||function(){return Xt.Date.now()};function va(t,e,n){return e=n?void 0:e,zi(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function ga(t,e){var n;if("function"!=typeof e)throw new mt(o);return t=rs(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var ma=Gr((function(t,e,n){var r=1;if(n.length){var i=He(n,Yi(ma));r|=32}return zi(t,r,e,n,i)})),ya=Gr((function(t,e,n){var r=3;if(n.length){var i=He(n,Yi(ya));r|=32}return zi(e,r,t,n,i)}));function ba(t,e,n){var r,i,a,s,u,l,c=0,h=!1,f=!1,p=!0;if("function"!=typeof t)throw new mt(o);function d(e){var n=r,o=i;return r=i=void 0,c=e,s=t.apply(o,n)}function _(t){return c=t,u=bo(g,e),h?d(t):s}function v(t){var n=t-l;return void 0===l||n>=e||n<0||f&&t-c>=a}function g(){var t=_a();if(v(t))return m(t);u=bo(g,function(t){var n=e-(t-l);return f?sn(n,a-(t-c)):n}(t))}function m(t){return u=void 0,p&&r?d(t):(r=i=void 0,s)}function y(){var t=_a(),n=v(t);if(r=arguments,i=this,l=t,n){if(void 0===u)return _(l);if(f)return ci(u),u=bo(g,e),d(l)}return void 0===u&&(u=bo(g,e)),s}return e=os(e)||0,Ua(n)&&(h=!!n.leading,a=(f="maxWait"in n)?an(os(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),y.cancel=function(){void 0!==u&&ci(u),c=0,r=l=i=u=void 0},y.flush=function(){return void 0===u?s:m(_a())},y}var wa=Gr((function(t,e){return Qn(t,1,e)})),xa=Gr((function(t,e,n){return Qn(t,os(e)||0,n)}));function ka(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new mt(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(ka.Cache||Fn),n}function Aa(t){if("function"!=typeof t)throw new mt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}ka.Cache=Fn;var Ta=ui((function(t,e){var n=(e=1==e.length&&Pa(e[0])?pe(e[0],Oe(Ki())):pe(or(e,1),Oe(Ki()))).length;return Gr((function(r){for(var i=-1,o=sn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return oe(t,this,r)}))})),Sa=Gr((function(t,e){return zi(t,32,void 0,e,He(e,Yi(Sa)))})),ja=Gr((function(t,e){return zi(t,64,void 0,e,He(e,Yi(ja)))})),Ea=Wi((function(t,e){return zi(t,256,void 0,void 0,void 0,e)}));function Ca(t,e){return t===e||t!=t&&e!=e}var Oa=Li(dr),Ma=Li((function(t,e){return t>=e})),Ia=yr(function(){return arguments}())?yr:function(t){return Wa(t)&&At.call(t,"callee")&&!Vt.call(t,"callee")},Pa=r.isArray,La=Jt?Oe(Jt):function(t){return Wa(t)&&pr(t)==k};function Fa(t){return null!=t&&Ha(t.length)&&!Da(t)}function Ra(t){return Wa(t)&&Fa(t)}var Na=en||ou,Ga=te?Oe(te):function(t){return Wa(t)&&pr(t)==h};function za(t){if(!Wa(t))return!1;var e=pr(t);return e==f||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Xa(t)}function Da(t){if(!Ua(t))return!1;var e=pr(t);return e==p||e==d||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Ba(t){return"number"==typeof t&&t==rs(t)}function Ha(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Ua(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Wa(t){return null!=t&&"object"==typeof t}var $a=ee?Oe(ee):function(t){return Wa(t)&&no(t)==_};function qa(t){return"number"==typeof t||Wa(t)&&pr(t)==v}function Xa(t){if(!Wa(t)||pr(t)!=g)return!1;var e=$t(t);if(null===e)return!0;var n=At.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&kt.call(n)==Et}var Va=ne?Oe(ne):function(t){return Wa(t)&&pr(t)==m};var Ya=re?Oe(re):function(t){return Wa(t)&&no(t)==y};function Ka(t){return"string"==typeof t||!Pa(t)&&Wa(t)&&pr(t)==b}function Za(t){return"symbol"==typeof t||Wa(t)&&pr(t)==w}var Qa=ie?Oe(ie):function(t){return Wa(t)&&Ha(t.length)&&!!Dt[pr(t)]};var Ja=Li(Sr),ts=Li((function(t,e){return t<=e}));function es(t){if(!t)return[];if(Fa(t))return Ka(t)?qe(t):gi(t);if(Qt&&t[Qt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Qt]());var e=no(t);return(e==_?De:e==y?Ue:Cs)(t)}function ns(t){return t?(t=os(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function rs(t){var e=ns(t),n=e%1;return e==e?n?e-n:e:0}function is(t){return t?Yn(rs(t),0,4294967295):0}function os(t){if("number"==typeof t)return t;if(Za(t))return NaN;if(Ua(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ua(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(V,"");var n=ot.test(t);return n||st.test(t)?Wt(t.slice(2),n?2:8):it.test(t)?NaN:+t}function as(t){return mi(t,ws(t))}function ss(t){return null==t?"":Zr(t)}var us=bi((function(t,e){if(ho(e)||Fa(e))mi(e,bs(e),t);else for(var n in e)At.call(e,n)&&Un(t,n,e[n])})),ls=bi((function(t,e){mi(e,ws(e),t)})),cs=bi((function(t,e,n,r){mi(e,ws(e),t,r)})),hs=bi((function(t,e,n,r){mi(e,bs(e),t,r)})),fs=Wi(Vn);var ps=Gr((function(t,e){t=_t(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&so(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=ws(o),s=-1,u=a.length;++s<u;){var l=a[s],c=t[l];(void 0===c||Ca(c,wt[l])&&!At.call(t,l))&&(t[l]=o[l])}return t})),ds=Gr((function(t){return t.push(void 0,Bi),oe(ks,void 0,t)}));function _s(t,e,n){var r=null==t?void 0:hr(t,e);return void 0===r?n:r}function vs(t,e){return null!=t&&ro(t,e,vr)}var gs=Ci((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=jt.call(e)),t[e]=n}),Us(qs)),ms=Ci((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=jt.call(e)),At.call(t,e)?t[e].push(n):t[e]=[n]}),Ki),ys=Gr(mr);function bs(t){return Fa(t)?Gn(t):Ar(t)}function ws(t){return Fa(t)?Gn(t,!0):Tr(t)}var xs=bi((function(t,e,n){Or(t,e,n)})),ks=bi((function(t,e,n,r){Or(t,e,n,r)})),As=Wi((function(t,e){var n={};if(null==t)return n;var r=!1;e=pe(e,(function(e){return e=si(e,t),r||(r=e.length>1),e})),mi(t,qi(t),n),r&&(n=Kn(n,7,Hi));for(var i=e.length;i--;)Jr(n,e[i]);return n}));var Ts=Wi((function(t,e){return null==t?{}:function(t,e){return Pr(t,e,(function(e,n){return vs(t,n)}))}(t,e)}));function Ss(t,e){if(null==t)return{};var n=pe(qi(t),(function(t){return[t]}));return e=Ki(e),Pr(t,n,(function(t,n){return e(t,n[0])}))}var js=Gi(bs),Es=Gi(ws);function Cs(t){return null==t?[]:Me(t,bs(t))}var Os=Ai((function(t,e,n){return e=e.toLowerCase(),t+(n?Ms(e):e)}));function Ms(t){return zs(ss(t).toLowerCase())}function Is(t){return(t=ss(t))&&t.replace(lt,Re).replace(Pt,"")}var Ps=Ai((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Ls=Ai((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Fs=ki("toLowerCase");var Rs=Ai((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Ns=Ai((function(t,e,n){return t+(n?" ":"")+zs(e)}));var Gs=Ai((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),zs=ki("toUpperCase");function Ds(t,e,n){return t=ss(t),void 0===(e=n?void 0:e)?function(t){return Nt.test(t)}(t)?function(t){return t.match(Ft)||[]}(t):function(t){return t.match(tt)||[]}(t):t.match(e)||[]}var Bs=Gr((function(t,e){try{return oe(t,void 0,e)}catch(t){return za(t)?t:new ft(t)}})),Hs=Wi((function(t,e){return se(e,(function(e){e=So(e),Xn(t,e,ma(t[e],t))})),t}));function Us(t){return function(){return t}}var Ws=ji(),$s=ji(!0);function qs(t){return t}function Xs(t){return kr("function"==typeof t?t:Kn(t,1))}var Vs=Gr((function(t,e){return function(n){return mr(n,t,e)}})),Ys=Gr((function(t,e){return function(n){return mr(t,n,e)}}));function Ks(t,e,n){var r=bs(e),i=cr(e,r);null!=n||Ua(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=cr(e,bs(e)));var o=!(Ua(n)&&"chain"in n&&!n.chain),a=Da(t);return se(i,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=gi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,de([this.value()],arguments))})})),t}function Zs(){}var Qs=Mi(pe),Js=Mi(le),tu=Mi(ge);function eu(t){return uo(t)?Te(So(t)):function(t){return function(e){return hr(e,t)}}(t)}var nu=Pi(),ru=Pi(!0);function iu(){return[]}function ou(){return!1}var au=Oi((function(t,e){return t+e}),0),su=Ri("ceil"),uu=Oi((function(t,e){return t/e}),1),lu=Ri("floor");var cu,hu=Oi((function(t,e){return t*e}),1),fu=Ri("round"),pu=Oi((function(t,e){return t-e}),0);return En.after=function(t,e){if("function"!=typeof e)throw new mt(o);return t=rs(t),function(){if(--t<1)return e.apply(this,arguments)}},En.ary=va,En.assign=us,En.assignIn=ls,En.assignInWith=cs,En.assignWith=hs,En.at=fs,En.before=ga,En.bind=ma,En.bindAll=Hs,En.bindKey=ya,En.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Pa(t)?t:[t]},En.chain=ea,En.chunk=function(t,e,n){e=(n?so(t,e,n):void 0===e)?1:an(rs(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var o=0,a=0,s=r(Qe(i/e));o<i;)s[a++]=$r(t,o,o+=e);return s},En.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},En.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return de(Pa(n)?gi(n):[n],or(e,1))},En.cond=function(t){var e=null==t?0:t.length,n=Ki();return t=e?pe(t,(function(t){if("function"!=typeof t[1])throw new mt(o);return[n(t[0]),t[1]]})):[],Gr((function(n){for(var r=-1;++r<e;){var i=t[r];if(oe(i[0],this,n))return oe(i[1],this,n)}}))},En.conforms=function(t){return function(t){var e=bs(t);return function(n){return Zn(n,t,e)}}(Kn(t,1))},En.constant=Us,En.countBy=ia,En.create=function(t,e){var n=Cn(t);return null==e?n:qn(n,e)},En.curry=function t(e,n,r){var i=zi(e,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},En.curryRight=function t(e,n,r){var i=zi(e,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},En.debounce=ba,En.defaults=ps,En.defaultsDeep=ds,En.defer=wa,En.delay=xa,En.difference=Co,En.differenceBy=Oo,En.differenceWith=Mo,En.drop=function(t,e,n){var r=null==t?0:t.length;return r?$r(t,(e=n||void 0===e?1:rs(e))<0?0:e,r):[]},En.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?$r(t,0,(e=r-(e=n||void 0===e?1:rs(e)))<0?0:e):[]},En.dropRightWhile=function(t,e){return t&&t.length?ei(t,Ki(e,3),!0,!0):[]},En.dropWhile=function(t,e){return t&&t.length?ei(t,Ki(e,3),!0):[]},En.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&so(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=rs(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:rs(r))<0&&(r+=i),r=n>r?0:is(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},En.filter=function(t,e){return(Pa(t)?ce:ir)(t,Ki(e,3))},En.flatMap=function(t,e){return or(fa(t,e),1)},En.flatMapDeep=function(t,e){return or(fa(t,e),1/0)},En.flatMapDepth=function(t,e,n){return n=void 0===n?1:rs(n),or(fa(t,e),n)},En.flatten=Lo,En.flattenDeep=function(t){return(null==t?0:t.length)?or(t,1/0):[]},En.flattenDepth=function(t,e){return(null==t?0:t.length)?or(t,e=void 0===e?1:rs(e)):[]},En.flip=function(t){return zi(t,512)},En.flow=Ws,En.flowRight=$s,En.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},En.functions=function(t){return null==t?[]:cr(t,bs(t))},En.functionsIn=function(t){return null==t?[]:cr(t,ws(t))},En.groupBy=la,En.initial=function(t){return(null==t?0:t.length)?$r(t,0,-1):[]},En.intersection=Ro,En.intersectionBy=No,En.intersectionWith=Go,En.invert=gs,En.invertBy=ms,En.invokeMap=ca,En.iteratee=Xs,En.keyBy=ha,En.keys=bs,En.keysIn=ws,En.map=fa,En.mapKeys=function(t,e){var n={};return e=Ki(e,3),ur(t,(function(t,r,i){Xn(n,e(t,r,i),t)})),n},En.mapValues=function(t,e){var n={};return e=Ki(e,3),ur(t,(function(t,r,i){Xn(n,r,e(t,r,i))})),n},En.matches=function(t){return Er(Kn(t,1))},En.matchesProperty=function(t,e){return Cr(t,Kn(e,1))},En.memoize=ka,En.merge=xs,En.mergeWith=ks,En.method=Vs,En.methodOf=Ys,En.mixin=Ks,En.negate=Aa,En.nthArg=function(t){return t=rs(t),Gr((function(e){return Mr(e,t)}))},En.omit=As,En.omitBy=function(t,e){return Ss(t,Aa(Ki(e)))},En.once=function(t){return ga(2,t)},En.orderBy=function(t,e,n,r){return null==t?[]:(Pa(e)||(e=null==e?[]:[e]),Pa(n=r?void 0:n)||(n=null==n?[]:[n]),Ir(t,e,n))},En.over=Qs,En.overArgs=Ta,En.overEvery=Js,En.overSome=tu,En.partial=Sa,En.partialRight=ja,En.partition=pa,En.pick=Ts,En.pickBy=Ss,En.property=eu,En.propertyOf=function(t){return function(e){return null==t?void 0:hr(t,e)}},En.pull=Do,En.pullAll=Bo,En.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Lr(t,e,Ki(n,2)):t},En.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Lr(t,e,void 0,n):t},En.pullAt=Ho,En.range=nu,En.rangeRight=ru,En.rearg=Ea,En.reject=function(t,e){return(Pa(t)?ce:ir)(t,Aa(Ki(e,3)))},En.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Ki(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Fr(t,i),n},En.rest=function(t,e){if("function"!=typeof t)throw new mt(o);return Gr(t,e=void 0===e?e:rs(e))},En.reverse=Uo,En.sampleSize=function(t,e,n){return e=(n?so(t,e,n):void 0===e)?1:rs(e),(Pa(t)?Dn:Dr)(t,e)},En.set=function(t,e,n){return null==t?t:Br(t,e,n)},En.setWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:Br(t,e,n,r)},En.shuffle=function(t){return(Pa(t)?Bn:Wr)(t)},En.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&so(t,e,n)?(e=0,n=r):(e=null==e?0:rs(e),n=void 0===n?r:rs(n)),$r(t,e,n)):[]},En.sortBy=da,En.sortedUniq=function(t){return t&&t.length?Yr(t):[]},En.sortedUniqBy=function(t,e){return t&&t.length?Yr(t,Ki(e,2)):[]},En.split=function(t,e,n){return n&&"number"!=typeof n&&so(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=ss(t))&&("string"==typeof e||null!=e&&!Va(e))&&!(e=Zr(e))&&ze(t)?li(qe(t),0,n):t.split(e,n):[]},En.spread=function(t,e){if("function"!=typeof t)throw new mt(o);return e=null==e?0:an(rs(e),0),Gr((function(n){var r=n[e],i=li(n,0,e);return r&&de(i,r),oe(t,this,i)}))},En.tail=function(t){var e=null==t?0:t.length;return e?$r(t,1,e):[]},En.take=function(t,e,n){return t&&t.length?$r(t,0,(e=n||void 0===e?1:rs(e))<0?0:e):[]},En.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?$r(t,(e=r-(e=n||void 0===e?1:rs(e)))<0?0:e,r):[]},En.takeRightWhile=function(t,e){return t&&t.length?ei(t,Ki(e,3),!1,!0):[]},En.takeWhile=function(t,e){return t&&t.length?ei(t,Ki(e,3)):[]},En.tap=function(t,e){return e(t),t},En.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new mt(o);return Ua(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ba(t,e,{leading:r,maxWait:e,trailing:i})},En.thru=na,En.toArray=es,En.toPairs=js,En.toPairsIn=Es,En.toPath=function(t){return Pa(t)?pe(t,So):Za(t)?[t]:gi(To(ss(t)))},En.toPlainObject=as,En.transform=function(t,e,n){var r=Pa(t),i=r||Na(t)||Qa(t);if(e=Ki(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Ua(t)&&Da(o)?Cn($t(t)):{}}return(i?se:ur)(t,(function(t,r,i){return e(n,t,r,i)})),n},En.unary=function(t){return va(t,1)},En.union=Wo,En.unionBy=$o,En.unionWith=qo,En.uniq=function(t){return t&&t.length?Qr(t):[]},En.uniqBy=function(t,e){return t&&t.length?Qr(t,Ki(e,2)):[]},En.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Qr(t,void 0,e):[]},En.unset=function(t,e){return null==t||Jr(t,e)},En.unzip=Xo,En.unzipWith=Vo,En.update=function(t,e,n){return null==t?t:ti(t,e,ai(n))},En.updateWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:ti(t,e,ai(n),r)},En.values=Cs,En.valuesIn=function(t){return null==t?[]:Me(t,ws(t))},En.without=Yo,En.words=Ds,En.wrap=function(t,e){return Sa(ai(e),t)},En.xor=Ko,En.xorBy=Zo,En.xorWith=Qo,En.zip=Jo,En.zipObject=function(t,e){return ii(t||[],e||[],Un)},En.zipObjectDeep=function(t,e){return ii(t||[],e||[],Br)},En.zipWith=ta,En.entries=js,En.entriesIn=Es,En.extend=ls,En.extendWith=cs,Ks(En,En),En.add=au,En.attempt=Bs,En.camelCase=Os,En.capitalize=Ms,En.ceil=su,En.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=os(n))==n?n:0),void 0!==e&&(e=(e=os(e))==e?e:0),Yn(os(t),e,n)},En.clone=function(t){return Kn(t,4)},En.cloneDeep=function(t){return Kn(t,5)},En.cloneDeepWith=function(t,e){return Kn(t,5,e="function"==typeof e?e:void 0)},En.cloneWith=function(t,e){return Kn(t,4,e="function"==typeof e?e:void 0)},En.conformsTo=function(t,e){return null==e||Zn(t,e,bs(e))},En.deburr=Is,En.defaultTo=function(t,e){return null==t||t!=t?e:t},En.divide=uu,En.endsWith=function(t,e,n){t=ss(t),e=Zr(e);var r=t.length,i=n=void 0===n?r:Yn(rs(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},En.eq=Ca,En.escape=function(t){return(t=ss(t))&&z.test(t)?t.replace(N,Ne):t},En.escapeRegExp=function(t){return(t=ss(t))&&X.test(t)?t.replace(q,"\\$&"):t},En.every=function(t,e,n){var r=Pa(t)?le:nr;return n&&so(t,e,n)&&(e=void 0),r(t,Ki(e,3))},En.find=oa,En.findIndex=Io,En.findKey=function(t,e){return ye(t,Ki(e,3),ur)},En.findLast=aa,En.findLastIndex=Po,En.findLastKey=function(t,e){return ye(t,Ki(e,3),lr)},En.floor=lu,En.forEach=sa,En.forEachRight=ua,En.forIn=function(t,e){return null==t?t:ar(t,Ki(e,3),ws)},En.forInRight=function(t,e){return null==t?t:sr(t,Ki(e,3),ws)},En.forOwn=function(t,e){return t&&ur(t,Ki(e,3))},En.forOwnRight=function(t,e){return t&&lr(t,Ki(e,3))},En.get=_s,En.gt=Oa,En.gte=Ma,En.has=function(t,e){return null!=t&&ro(t,e,_r)},En.hasIn=vs,En.head=Fo,En.identity=qs,En.includes=function(t,e,n,r){t=Fa(t)?t:Cs(t),n=n&&!r?rs(n):0;var i=t.length;return n<0&&(n=an(i+n,0)),Ka(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&we(t,e,n)>-1},En.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:rs(n);return i<0&&(i=an(r+i,0)),we(t,e,i)},En.inRange=function(t,e,n){return e=ns(e),void 0===n?(n=e,e=0):n=ns(n),function(t,e,n){return t>=sn(e,n)&&t<an(e,n)}(t=os(t),e,n)},En.invoke=ys,En.isArguments=Ia,En.isArray=Pa,En.isArrayBuffer=La,En.isArrayLike=Fa,En.isArrayLikeObject=Ra,En.isBoolean=function(t){return!0===t||!1===t||Wa(t)&&pr(t)==c},En.isBuffer=Na,En.isDate=Ga,En.isElement=function(t){return Wa(t)&&1===t.nodeType&&!Xa(t)},En.isEmpty=function(t){if(null==t)return!0;if(Fa(t)&&(Pa(t)||"string"==typeof t||"function"==typeof t.splice||Na(t)||Qa(t)||Ia(t)))return!t.length;var e=no(t);if(e==_||e==y)return!t.size;if(ho(t))return!Ar(t).length;for(var n in t)if(At.call(t,n))return!1;return!0},En.isEqual=function(t,e){return br(t,e)},En.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===r?br(t,e,void 0,n):!!r},En.isError=za,En.isFinite=function(t){return"number"==typeof t&&nn(t)},En.isFunction=Da,En.isInteger=Ba,En.isLength=Ha,En.isMap=$a,En.isMatch=function(t,e){return t===e||wr(t,e,Qi(e))},En.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,wr(t,e,Qi(e),n)},En.isNaN=function(t){return qa(t)&&t!=+t},En.isNative=function(t){if(co(t))throw new ft("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return xr(t)},En.isNil=function(t){return null==t},En.isNull=function(t){return null===t},En.isNumber=qa,En.isObject=Ua,En.isObjectLike=Wa,En.isPlainObject=Xa,En.isRegExp=Va,En.isSafeInteger=function(t){return Ba(t)&&t>=-9007199254740991&&t<=9007199254740991},En.isSet=Ya,En.isString=Ka,En.isSymbol=Za,En.isTypedArray=Qa,En.isUndefined=function(t){return void 0===t},En.isWeakMap=function(t){return Wa(t)&&no(t)==x},En.isWeakSet=function(t){return Wa(t)&&"[object WeakSet]"==pr(t)},En.join=function(t,e){return null==t?"":rn.call(t,e)},En.kebabCase=Ps,En.last=zo,En.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=rs(n))<0?an(r+i,0):sn(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):be(t,ke,i,!0)},En.lowerCase=Ls,En.lowerFirst=Fs,En.lt=Ja,En.lte=ts,En.max=function(t){return t&&t.length?rr(t,qs,dr):void 0},En.maxBy=function(t,e){return t&&t.length?rr(t,Ki(e,2),dr):void 0},En.mean=function(t){return Ae(t,qs)},En.meanBy=function(t,e){return Ae(t,Ki(e,2))},En.min=function(t){return t&&t.length?rr(t,qs,Sr):void 0},En.minBy=function(t,e){return t&&t.length?rr(t,Ki(e,2),Sr):void 0},En.stubArray=iu,En.stubFalse=ou,En.stubObject=function(){return{}},En.stubString=function(){return""},En.stubTrue=function(){return!0},En.multiply=hu,En.nth=function(t,e){return t&&t.length?Mr(t,rs(e)):void 0},En.noConflict=function(){return Xt._===this&&(Xt._=Ct),this},En.noop=Zs,En.now=_a,En.pad=function(t,e,n){t=ss(t);var r=(e=rs(e))?$e(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Ii(Je(i),n)+t+Ii(Qe(i),n)},En.padEnd=function(t,e,n){t=ss(t);var r=(e=rs(e))?$e(t):0;return e&&r<e?t+Ii(e-r,n):t},En.padStart=function(t,e,n){t=ss(t);var r=(e=rs(e))?$e(t):0;return e&&r<e?Ii(e-r,n)+t:t},En.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),ln(ss(t).replace(Y,""),e||0)},En.random=function(t,e,n){if(n&&"boolean"!=typeof n&&so(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=ns(t),void 0===e?(e=t,t=0):e=ns(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=cn();return sn(t+i*(e-t+Ut("1e-"+((i+"").length-1))),e)}return Rr(t,e)},En.reduce=function(t,e,n){var r=Pa(t)?_e:je,i=arguments.length<3;return r(t,Ki(e,4),n,i,tr)},En.reduceRight=function(t,e,n){var r=Pa(t)?ve:je,i=arguments.length<3;return r(t,Ki(e,4),n,i,er)},En.repeat=function(t,e,n){return e=(n?so(t,e,n):void 0===e)?1:rs(e),Nr(ss(t),e)},En.replace=function(){var t=arguments,e=ss(t[0]);return t.length<3?e:e.replace(t[1],t[2])},En.result=function(t,e,n){var r=-1,i=(e=si(e,t)).length;for(i||(i=1,t=void 0);++r<i;){var o=null==t?void 0:t[So(e[r])];void 0===o&&(r=i,o=n),t=Da(o)?o.call(t):o}return t},En.round=fu,En.runInContext=t,En.sample=function(t){return(Pa(t)?zn:zr)(t)},En.size=function(t){if(null==t)return 0;if(Fa(t))return Ka(t)?$e(t):t.length;var e=no(t);return e==_||e==y?t.size:Ar(t).length},En.snakeCase=Rs,En.some=function(t,e,n){var r=Pa(t)?ge:qr;return n&&so(t,e,n)&&(e=void 0),r(t,Ki(e,3))},En.sortedIndex=function(t,e){return Xr(t,e)},En.sortedIndexBy=function(t,e,n){return Vr(t,e,Ki(n,2))},En.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Xr(t,e);if(r<n&&Ca(t[r],e))return r}return-1},En.sortedLastIndex=function(t,e){return Xr(t,e,!0)},En.sortedLastIndexBy=function(t,e,n){return Vr(t,e,Ki(n,2),!0)},En.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=Xr(t,e,!0)-1;if(Ca(t[n],e))return n}return-1},En.startCase=Ns,En.startsWith=function(t,e,n){return t=ss(t),n=null==n?0:Yn(rs(n),0,t.length),e=Zr(e),t.slice(n,n+e.length)==e},En.subtract=pu,En.sum=function(t){return t&&t.length?Ee(t,qs):0},En.sumBy=function(t,e){return t&&t.length?Ee(t,Ki(e,2)):0},En.template=function(t,e,n){var r=En.templateSettings;n&&so(t,e,n)&&(e=void 0),t=ss(t),e=cs({},e,r,Di);var i,o,a=cs({},e.imports,r.imports,Di),s=bs(a),u=Me(a,s),l=0,c=e.interpolate||ct,h="__p += '",f=vt((e.escape||ct).source+"|"+c.source+"|"+(c===H?nt:ct).source+"|"+(e.evaluate||ct).source+"|$","g"),p="//# sourceURL="+(At.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++zt+"]")+"\n";t.replace(f,(function(e,n,r,a,s,u){return r||(r=a),h+=t.slice(l,u).replace(ht,Ge),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),s&&(o=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+e.length,e})),h+="';\n";var d=At.call(e,"variable")&&e.variable;d||(h="with (obj) {\n"+h+"\n}\n"),h=(o?h.replace(P,""):h).replace(L,"$1").replace(F,"$1;"),h="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var _=Bs((function(){return pt(s,p+"return "+h).apply(void 0,u)}));if(_.source=h,za(_))throw _;return _},En.times=function(t,e){if((t=rs(t))<1||t>9007199254740991)return[];var n=4294967295,r=sn(t,4294967295);t-=4294967295;for(var i=Ce(r,e=Ki(e));++n<t;)e(n);return i},En.toFinite=ns,En.toInteger=rs,En.toLength=is,En.toLower=function(t){return ss(t).toLowerCase()},En.toNumber=os,En.toSafeInteger=function(t){return t?Yn(rs(t),-9007199254740991,9007199254740991):0===t?t:0},En.toString=ss,En.toUpper=function(t){return ss(t).toUpperCase()},En.trim=function(t,e,n){if((t=ss(t))&&(n||void 0===e))return t.replace(V,"");if(!t||!(e=Zr(e)))return t;var r=qe(t),i=qe(e);return li(r,Pe(r,i),Le(r,i)+1).join("")},En.trimEnd=function(t,e,n){if((t=ss(t))&&(n||void 0===e))return t.replace(K,"");if(!t||!(e=Zr(e)))return t;var r=qe(t);return li(r,0,Le(r,qe(e))+1).join("")},En.trimStart=function(t,e,n){if((t=ss(t))&&(n||void 0===e))return t.replace(Y,"");if(!t||!(e=Zr(e)))return t;var r=qe(t);return li(r,Pe(r,qe(e))).join("")},En.truncate=function(t,e){var n=30,r="...";if(Ua(e)){var i="separator"in e?e.separator:i;n="length"in e?rs(e.length):n,r="omission"in e?Zr(e.omission):r}var o=(t=ss(t)).length;if(ze(t)){var a=qe(t);o=a.length}if(n>=o)return t;var s=n-$e(r);if(s<1)return r;var u=a?li(a,0,s).join(""):t.slice(0,s);if(void 0===i)return u+r;if(a&&(s+=u.length-s),Va(i)){if(t.slice(s).search(i)){var l,c=u;for(i.global||(i=vt(i.source,ss(rt.exec(i))+"g")),i.lastIndex=0;l=i.exec(c);)var h=l.index;u=u.slice(0,void 0===h?s:h)}}else if(t.indexOf(Zr(i),s)!=s){var f=u.lastIndexOf(i);f>-1&&(u=u.slice(0,f))}return u+r},En.unescape=function(t){return(t=ss(t))&&G.test(t)?t.replace(R,Xe):t},En.uniqueId=function(t){var e=++Tt;return ss(t)+e},En.upperCase=Gs,En.upperFirst=zs,En.each=sa,En.eachRight=ua,En.first=Fo,Ks(En,(cu={},ur(En,(function(t,e){At.call(En.prototype,e)||(cu[e]=t)})),cu),{chain:!1}),En.VERSION="4.17.20",se(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){En[t].placeholder=En})),se(["drop","take"],(function(t,e){In.prototype[t]=function(n){n=void 0===n?1:an(rs(n),0);var r=this.__filtered__&&!e?new In(this):this.clone();return r.__filtered__?r.__takeCount__=sn(n,r.__takeCount__):r.__views__.push({size:sn(n,4294967295),type:t+(r.__dir__<0?"Right":"")}),r},In.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),se(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;In.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Ki(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),se(["head","last"],(function(t,e){var n="take"+(e?"Right":"");In.prototype[t]=function(){return this[n](1).value()[0]}})),se(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");In.prototype[t]=function(){return this.__filtered__?new In(this):this[n](1)}})),In.prototype.compact=function(){return this.filter(qs)},In.prototype.find=function(t){return this.filter(t).head()},In.prototype.findLast=function(t){return this.reverse().find(t)},In.prototype.invokeMap=Gr((function(t,e){return"function"==typeof t?new In(this):this.map((function(n){return mr(n,t,e)}))})),In.prototype.reject=function(t){return this.filter(Aa(Ki(t)))},In.prototype.slice=function(t,e){t=rs(t);var n=this;return n.__filtered__&&(t>0||e<0)?new In(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=rs(e))<0?n.dropRight(-e):n.take(e-t)),n)},In.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},In.prototype.toArray=function(){return this.take(4294967295)},ur(In.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=En[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);i&&(En.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,s=e instanceof In,u=a[0],l=s||Pa(e),c=function(t){var e=i.apply(En,de([t],a));return r&&h?e[0]:e};l&&n&&"function"==typeof u&&1!=u.length&&(s=l=!1);var h=this.__chain__,f=!!this.__actions__.length,p=o&&!h,d=s&&!f;if(!o&&l){e=d?e:new In(this);var _=t.apply(e,a);return _.__actions__.push({func:na,args:[c],thisArg:void 0}),new Mn(_,h)}return p&&d?t.apply(this,a):(_=this.thru(c),p?r?_.value()[0]:_.value():_)})})),se(["pop","push","shift","sort","splice","unshift"],(function(t){var e=yt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);En.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Pa(i)?i:[],t)}return this[n]((function(n){return e.apply(Pa(n)?n:[],t)}))}})),ur(In.prototype,(function(t,e){var n=En[e];if(n){var r=n.name+"";At.call(yn,r)||(yn[r]=[]),yn[r].push({name:e,func:n})}})),yn[Ei(void 0,2).name]=[{name:"wrapper",func:void 0}],In.prototype.clone=function(){var t=new In(this.__wrapped__);return t.__actions__=gi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=gi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=gi(this.__views__),t},In.prototype.reverse=function(){if(this.__filtered__){var t=new In(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},In.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Pa(t),r=e<0,i=n?t.length:0,o=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=sn(e,t+a);break;case"takeRight":t=an(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,h=c.length,f=0,p=sn(u,this.__takeCount__);if(!n||!r&&i==u&&p==u)return ni(t,this.__actions__);var d=[];t:for(;u--&&f<p;){for(var _=-1,v=t[l+=e];++_<h;){var g=c[_],m=g.iteratee,y=g.type,b=m(v);if(2==y)v=b;else if(!b){if(1==y)continue t;break t}}d[f++]=v}return d},En.prototype.at=ra,En.prototype.chain=function(){return ea(this)},En.prototype.commit=function(){return new Mn(this.value(),this.__chain__)},En.prototype.next=function(){void 0===this.__values__&&(this.__values__=es(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},En.prototype.plant=function(t){for(var e,n=this;n instanceof On;){var r=Eo(n);r.__index__=0,r.__values__=void 0,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},En.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof In){var e=t;return this.__actions__.length&&(e=new In(this)),(e=e.reverse()).__actions__.push({func:na,args:[Uo],thisArg:void 0}),new Mn(e,this.__chain__)}return this.thru(Uo)},En.prototype.toJSON=En.prototype.valueOf=En.prototype.value=function(){return ni(this.__wrapped__,this.__actions__)},En.prototype.first=En.prototype.head,Qt&&(En.prototype[Qt]=function(){return this}),En}();Xt._=Ve,void 0===(i=function(){return Ve}.call(e,n,e,r))||(r.exports=i)}).call(this)}).call(this,n(15),n(8)(t))},function(t,e,n){var r=n(81),i=n(12);t.exports=function(t,e){return t&&r(t,e,i)}},function(t,e,n){var r=n(83),i=n(44),o=n(5),a=n(24),s=n(46),u=n(47),l=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),c=!n&&i(t),h=!n&&!c&&a(t),f=!n&&!c&&!h&&u(t),p=n||c||h||f,d=p?r(t.length,String):[],_=d.length;for(var v in t)!e&&!l.call(t,v)||p&&("length"==v||h&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,_))||d.push(v);return d}},function(t,e,n){var r=n(84),i=n(7),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(15))},function(t,e){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){var r=n(88),i=n(26),o=n(27),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var r=n(50),i=n(25);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},function(t,e,n){var r=n(13),i=n(10);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e){t.exports=function(t){return t}},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){var r=n(122),i=n(125),o=n(126);t.exports=function(t,e,n,a,s,u){var l=1&n,c=t.length,h=e.length;if(c!=h&&!(l&&h>c))return!1;var f=u.get(t),p=u.get(e);if(f&&p)return f==e&&p==t;var d=-1,_=!0,v=2&n?new r:void 0;for(u.set(t,e),u.set(e,t);++d<c;){var g=t[d],m=e[d];if(a)var y=l?a(m,g,d,e,t,u):a(g,m,d,t,e,u);if(void 0!==y){if(y)continue;_=!1;break}if(v){if(!i(e,(function(t,e){if(!o(v,e)&&(g===t||s(g,t,n,a,u)))return v.push(e)}))){_=!1;break}}else if(g!==m&&!s(g,m,n,a,u)){_=!1;break}}return u.delete(t),u.delete(e),_}},function(t,e,n){var r=n(3).Uint8Array;t.exports=r},function(t,e,n){var r=n(56),i=n(34),o=n(12);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(57),i=n(5);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(10);t.exports=function(t){return t==t&&!r(t)}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}},function(t,e,n){var r=n(62),i=n(21);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},function(t,e,n){var r=n(5),i=n(35),o=n(138),a=n(141);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(a(t))}},function(t,e,n){var r=n(64),i=n(30),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];o.call(t,e)&&i(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(152);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var r=n(57),i=n(66),o=n(34),a=n(58),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,o(t)),t=i(t);return e}:a;t.exports=s},function(t,e,n){var r=n(48)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var a=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(t,e){return new Promise((function(n,r){function i(){void 0!==o&&t.removeListener("error",o),n([].slice.call(arguments))}var o;"error"!==e&&(o=function(n){t.removeListener(e,i),r(n)},t.once("error",o)),t.once(e,i)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function l(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function h(t,e,n,r){var i,o,a,s;if(l(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),a=o[e]),void 0===a)a=o[e]=n,++t._eventsCount;else if("function"==typeof a?a=o[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=c(t))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return t}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function d(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):v(i,i.length)}function _(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[t];if(void 0===u)return!1;if("function"==typeof u)o(u,this,e);else{var l=u.length,c=v(u,l);for(n=0;n<l;++n)o(c[n],this,e)}return!0},s.prototype.addListener=function(t,e){return h(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return h(this,t,e,!0)},s.prototype.once=function(t,e){return l(e),this.on(t,p(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return l(e),this.prependListener(t,p(this,t,e)),this},s.prototype.removeListener=function(t,e){var n,r,i,o,a;if(l(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,a||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},s.prototype.listeners=function(t){return d(this,t,!0)},s.prototype.rawListeners=function(t){return d(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):_.call(t,e)},s.prototype.listenerCount=_,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,n){var r=n(78),i=n(79),o=n(51),a=Object.prototype.toString,s=i((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=a.call(e)),t[e]=n}),r(o));t.exports=s},function(t,e,n){(function(t){var e;e={compressionlevel:-1,editorsettings:{export:{target:"."}},height:100,infinite:!1,layers:[{draworder:"topdown",id:4,name:"World Layout",objects:[{gid:3073,height:38337.6,id:21,name:"World Map",rotation:0,type:"",visible:!0,width:38337.6,x:-5138.67916444398,y:2855.67508895881}],offsetx:-2887.98689881748,offsety:2769.98583384405,opacity:1,type:"objectgroup",visible:!1,x:0,y:0},{data:[1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,1543,1048,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,1048,900,900,900,900,900,1048,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,1165,1165,900,900,900,900,1048,900,900,980,2936,2936,1048,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,1165,1165,1165,900,900,900,1048,1048,1048,1048,1048,1048,1048,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,2869,900,900,900,900,2869,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,2869,900,900,2869,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,1165,1165,1165,1165,1165,1165,900,780,900,900,780,900,900,780,900,900,780,900,900,780,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,1165,1165,1165,1165,1165,1165,900,780,900,900,780,900,900,780,900,900,780,900,900,780,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,1165,1165,1165,1165,1165,1165,900,780,900,900,780,900,900,780,900,900,780,900,900,780,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,1165,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,1165,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,1165,900,900,900,900,900,900,1165,900,1165,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,1165,1165,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,1165,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,1165,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900],height:100,id:1,name:"Tile Layer",opacity:1,type:"tilelayer",visible:!0,width:70,x:0,y:0},{draworder:"topdown",id:2,name:"Object Layer",objects:[{height:0,id:1,name:"Fire",point:!0,properties:[{name:"objectType",type:"string",value:"campfire"}],rotation:0,type:"object",visible:!0,width:0,x:1359.43345152199,y:474.20204354433},{height:0,id:2,name:"Crate",point:!0,properties:[{name:"inventory",type:"string",value:"health_potion_weak"},{name:"objectType",type:"string",value:"crate"}],rotation:0,type:"object",visible:!0,width:0,x:1519.48935537457,y:440.741072766735},{height:0,id:3,name:"Crate",point:!0,properties:[{name:"inventory",type:"string",value:""},{name:"objectType",type:"string",value:"crate"}],rotation:0,type:"object",visible:!0,width:0,x:1492.09888714889,y:438.227878496818},{height:0,id:4,name:"Goblin",point:!0,properties:[{name:"objectType",type:"string",value:"goblin"}],rotation:0,type:"object",visible:!0,width:0,x:1443.79118357932,y:520.959011276967},{height:0,id:5,name:"Rat",point:!0,properties:[{name:"objectType",type:"string",value:"rat"}],rotation:0,type:"object",visible:!0,width:0,x:1245.83210514049,y:763.561757996511},{height:0,id:6,name:"Goblin",point:!0,properties:[{name:"objectType",type:"string",value:"goblin"}],rotation:0,type:"object",visible:!0,width:0,x:496.566841292543,y:217.461803109063},{height:0,id:7,name:"Barrel",point:!0,properties:[{name:"inventory",type:"string",value:""},{name:"objectType",type:"string",value:"barrel"}],rotation:0,type:"object",visible:!0,width:0,x:1105.27396337073,y:529.648827795078},{height:0,id:8,name:"Barrel",point:!0,properties:[{name:"inventory",type:"string",value:""},{name:"objectType",type:"string",value:"barrel"}],rotation:0,type:"object",visible:!0,width:0,x:1104.24125747701,y:568.292697425079},{height:0,id:9,name:"Door",point:!0,properties:[{name:"objectType",type:"string",value:"door"}],rotation:0,type:"object",visible:!0,width:0,x:558.804418453541,y:151.072124756335},{height:0,id:10,name:"Barrel",point:!0,properties:[{name:"inventory",type:"string",value:""},{name:"objectType",type:"string",value:"barrel"}],rotation:0,type:"object",visible:!0,width:0,x:595.193249453778,y:217.73525201537},{height:0,id:11,name:"Dead Body",point:!0,properties:[{name:"objectType",type:"string",value:"dead_body"}],rotation:0,type:"object",visible:!0,width:0,x:656.219392752204,y:180.818202365705},{height:0,id:12,name:"Player",point:!0,properties:[{name:"objectType",type:"string",value:"player"}],rotation:0,type:"object",visible:!0,width:0,x:13.8355111452728,y:625.672559569562},{height:0,id:13,name:"Load Door",point:!0,properties:[{name:"levelName",type:"string",value:"durdwin_001"},{name:"objectType",type:"string",value:"load_door"}],rotation:0,type:"object",visible:!0,width:0,x:1710.30519759869,y:630.284396617986},{height:0,id:16,name:"Chest",point:!0,properties:[{name:"inventory",type:"string",value:"confuse_scroll"},{name:"objectType",type:"string",value:"chest"}],rotation:0,type:"object",visible:!0,width:0,x:1073.2833237161,y:1112.95441431044},{height:31.7176047570887,id:19,name:"Attacking Tutorial",properties:[{name:"event",type:"string",value:"tutorial.attacking"},{name:"type",type:"string",value:"trigger_volume"}],rotation:0,type:"Rectangle",visible:!0,width:64.5444802463356,x:351.869652825507,y:160.047793152268},{height:31.7176,id:20,name:"Attacking Tutorial",properties:[{name:"event",type:"string",value:"tutorial.attacking"},{name:"type",type:"string",value:"trigger_volume"}],rotation:0,type:"Rectangle",visible:!0,width:64.1585486298727,x:1055.33871101891,y:768.394384098803},{height:0,id:25,name:"Patrol Path",point:!0,properties:[{name:"next",type:"object",value:26},{name:"pathName",type:"string",value:"forrest_path_01"}],rotation:0,type:"path_node",visible:!0,width:0,x:217.391304347826,y:1366.930171278},{height:0,id:26,name:"Patrol Path",point:!0,properties:[{name:"next",type:"object",value:29},{name:"pathName",type:"string",value:"forrest_path_01"}],rotation:0,type:"path_node",visible:!0,width:0,x:177.075098814229,y:1868.77470355731},{height:0,id:28,name:"Goblin Brute",point:!0,properties:[{name:"objectType",type:"string",value:"goblin_brute"},{name:"pathName",type:"string",value:"forrest_path_01"}],rotation:0,type:"object",visible:!0,width:0,x:448.648648648649,y:1610.81081081081},{height:0,id:29,name:"Patrol Path",point:!0,properties:[{name:"next",type:"object",value:30},{name:"pathName",type:"string",value:"forrest_path_01"}],rotation:0,type:"path_node",visible:!0,width:0,x:956.098950243405,y:2074.03948567639},{height:0,id:30,name:"Patrol Path",point:!0,properties:[{name:"next",type:"object",value:25},{name:"pathName",type:"string",value:"forrest_path_01"}],rotation:0,type:"path_node",visible:!0,width:0,x:1157.68463073852,y:1388.88888888889}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],nextlayerid:5,nextobjectid:31,orientation:"orthogonal",renderorder:"right-down",tiledversion:"1.4.2",tileheight:32,tilesets:[{firstgid:1,source:"DungeonCrawl_ProjectUtumnoTileset.tsx"},{firstgid:3073,source:"World.tsx"}],tilewidth:32,type:"map",version:1.4,width:70},"undefined"==typeof onTileMapLoaded?("undefined"==typeof TileMaps&&(TileMaps={}),TileMaps.forrest_001=e):onTileMapLoaded("forrest_001",e),t&&t.exports&&(t.exports=e)}).call(this,n(8)(t))},function(t,e,n){(function(t){var e;e={compressionlevel:-1,editorsettings:{export:{target:"."}},height:39,infinite:!1,layers:[{data:[1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,2936,2936,2936,900,1048,1048,1048,900,900,900,900,900,900,900,2869,900,900,900,2869,900,900,900,2869,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,1048,1048,1048,900,900,900,900,900,2710,2710,2710,2710,2710,2710,2710,2710,2710,2710,2710,2710,2710,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,1048,1048,1048,900,900,900,900,900,2710,2710,2710,2710,2710,2710,2710,2710,2710,2710,2710,2710,2710,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,2869,900,900,900,2869,900,900,900,2869,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,1048,1048,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,1048,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,1048,1048,1048,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,1048,1048,1048,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048],height:39,id:1,name:"Tile Layer",opacity:1,type:"tilelayer",visible:!0,width:70,x:0,y:0},{draworder:"topdown",id:4,name:"Object Layer",objects:[{height:0,id:4,name:"Player",point:!0,properties:[{name:"objectType",type:"string",value:"player"}],rotation:0,type:"object",visible:!0,width:0,x:48.9730893444762,y:727.91157376972},{height:0,id:5,name:"Golbin",point:!0,properties:[{name:"objectType",type:"string",value:"goblin"}],rotation:0,type:"object",visible:!0,width:0,x:644.193719444052,y:712.330540708638},{height:0,id:6,name:"Chest",point:!0,properties:[{name:"inventory",type:"string",value:"health_potion_weak,lightning_scroll_weak"},{name:"objectType",type:"string",value:"chest"}],rotation:0,type:"object",visible:!0,width:0,x:341.526275397425,y:948.672967850652},{height:0,id:7,name:"Stairs",point:!0,properties:[{name:"levelName",type:"string",value:"level_2"},{name:"objectType",type:"string",value:"stairs"}],rotation:0,type:"object",visible:!0,width:0,x:1202.30788561211,y:247.937747564976},{height:0,id:8,name:"Crate",point:!0,properties:[{name:"inventory",type:"string",value:"health_potion_weak"},{name:"objectType",type:"string",value:"crate"}],rotation:0,type:"object",visible:!0,width:0,x:370.617261554132,y:949.94792690583},{height:0,id:9,name:"Crate",point:!0,properties:[{name:"inventory",type:"string",value:""},{name:"objectType",type:"string",value:"crate"}],rotation:0,type:"object",visible:!0,width:0,x:944.729776321084,y:725.333340842067},{height:0,id:11,name:"Crate",point:!0,properties:[{name:"inventory",type:"string",value:"health_potion_weak"},{name:"objectType",type:"string",value:"crate"}],rotation:0,type:"object",visible:!0,width:0,x:943.603906892819,y:760.182468483655},{height:0,id:12,name:"Golbin",point:!0,properties:[{name:"objectType",type:"string",value:"goblin"}],rotation:0,type:"object",visible:!0,width:0,x:340.545596044442,y:1083.26097831731},{height:0,id:14,name:"Fire",point:!0,properties:[{name:"objectType",type:"string",value:"campfire"}],rotation:0,type:"object",visible:!0,width:0,x:658.781710294825,y:237.201980125518},{height:0,id:15,name:"Fire",point:!0,properties:[{name:"objectType",type:"string",value:"campfire"}],rotation:0,type:"object",visible:!0,width:0,x:786.258618604088,y:238.296842869239},{height:0,id:16,name:"Fire",point:!0,properties:[{name:"objectType",type:"string",value:"campfire"}],rotation:0,type:"object",visible:!0,width:0,x:910.850368936736,y:239.506471513245},{height:0,id:17,name:"Lantern",point:!0,properties:[{name:"objectType",type:"string",value:"lantern"}],rotation:0,type:"object",visible:!0,width:0,x:209.265755413088,y:951.97774283295},{height:0,id:18,name:"Golbin",point:!0,properties:[{name:"objectType",type:"string",value:"goblin"}],rotation:0,type:"object",visible:!0,width:0,x:949.558485544938,y:145.155437280755},{height:0,id:19,name:"Golbin",point:!0,properties:[{name:"objectType",type:"string",value:"goblin"}],rotation:0,type:"object",visible:!0,width:0,x:622.958751663239,y:147.574694568767},{height:0,id:20,name:"Rat",point:!0,properties:[{name:"objectType",type:"string",value:"rat"}],rotation:0,type:"object",visible:!0,width:0,x:244.344986089271,y:226.200556429176},{height:0,id:22,name:"Load Door",point:!0,properties:[{name:"levelName",type:"string",value:"forrest_001"},{name:"objectType",type:"string",value:"load_door"}],rotation:0,type:"object",visible:!0,width:0,x:14.605418138987,y:723.203769140165},{height:0,id:29,name:"Door",point:!0,properties:[{name:"objectType",type:"string",value:"door"}],rotation:0,type:"object",visible:!0,width:0,x:526.910048927362,y:728.264960481746}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],nextlayerid:5,nextobjectid:30,orientation:"orthogonal",renderorder:"right-down",tiledversion:"1.4.2",tileheight:32,tilesets:[{firstgid:1,source:"DungeonCrawl_ProjectUtumnoTileset.tsx"}],tilewidth:32,type:"map",version:1.4,width:70},"undefined"==typeof onTileMapLoaded?("undefined"==typeof TileMaps&&(TileMaps={}),TileMaps.durdwin_001=e):onTileMapLoaded("durdwin_001",e),t&&t.exports&&(t.exports=e)}).call(this,n(8)(t))},function(t,e,n){(function(t){var e;e={compressionlevel:-1,editorsettings:{export:{target:"."}},height:39,infinite:!1,layers:[{data:[1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,1048,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,1048,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,1048,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,1048,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,1048,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,1048,1048,1048,1048,1048,1048,1048,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048],height:39,id:1,name:"Tile Layer 1",opacity:1,type:"tilelayer",visible:!0,width:70,x:0,y:0},{draworder:"topdown",id:2,name:"Object Layer 1",objects:[{height:0,id:1,name:"Player",point:!0,properties:[{name:"objectType",type:"string",value:"player"}],rotation:0,type:"object",visible:!0,width:0,x:880.250035462825,y:754.192197850584},{height:0,id:2,name:"Door",point:!0,properties:[{name:"objectType",type:"string",value:"door"}],rotation:0,type:"object",visible:!0,width:0,x:1297.45889387145,y:627.80269058296},{height:0,id:3,name:"Water Sprite",point:!0,properties:[{name:"objectType",type:"string",value:"water_sprite"}],rotation:0,type:"object",visible:!0,width:0,x:1297.45889387145,y:488.789237668161},{height:0,id:4,name:"Chest",point:!0,properties:[{name:"inventory",type:"string",value:"health_potion_weak,lightning_scroll_weak"},{name:"objectType",type:"string",value:"chest"}],rotation:0,type:"object",visible:!0,width:0,x:1166.46397769314,y:887.051192293996},{height:0,id:5,name:"Lantern",point:!0,properties:[{name:"objectType",type:"string",value:"lantern"}],rotation:0,type:"object",visible:!0,width:0,x:1139.76083707025,y:757.847533632287},{height:0,id:6,name:"Chest",point:!0,properties:[{name:"inventory",type:"string",value:"health_potion_weak,health_potion_weak"},{name:"objectType",type:"string",value:"chest"}],rotation:0,type:"object",visible:!0,width:0,x:1038.86397608371,y:887.144992526158},{height:0,id:7,name:"Magika Shrine",point:!0,properties:[{name:"objectType",type:"string",value:"magic_shrine"},{name:"spellId",type:"string",value:"lightning_bolt"}],rotation:0,type:"object",visible:!0,width:0,x:1425.26158445441,y:760.837070254111},{height:0,id:8,name:"Crate",point:!0,properties:[{name:"inventory",type:"string",value:"health_potion_weak"},{name:"objectType",type:"string",value:"crate"}],rotation:0,type:"object",visible:!0,width:0,x:1135.27653213752,y:887.144992526158},{height:0,id:9,name:"Door",point:!0,properties:[{name:"objectType",type:"string",value:"door"}],rotation:0,type:"object",visible:!0,width:0,x:1039.61136023916,y:630.792227204783},{height:0,id:10,name:"Goblin Brute",point:!0,properties:[{name:"objectType",type:"string",value:"goblin_brute"}],rotation:0,type:"object",visible:!0,width:0,x:1043.34828101644,y:507.473841554559},{height:0,id:11,name:"Barrel",point:!0,properties:[{name:"inventory",type:"string",value:"health_potion"},{name:"objectType",type:"string",value:"barrel"}],rotation:0,type:"object",visible:!0,width:0,x:1202.4730820996,y:883.664199192463}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],nextlayerid:3,nextobjectid:12,orientation:"orthogonal",renderorder:"right-down",tiledversion:"1.4.2",tileheight:32,tilesets:[{firstgid:1,source:"DungeonCrawl_ProjectUtumnoTileset.tsx"}],tilewidth:32,type:"map",version:1.4,width:70},"undefined"==typeof onTileMapLoaded?("undefined"==typeof TileMaps&&(TileMaps={}),TileMaps.dev_room=e):onTileMapLoaded("dev_room",e),t&&t.exports&&(t.exports=e)}).call(this,n(8)(t))},function(t,e,n){var r=n(91),i=n(42),o=n(92);t.exports=function(t,e){return r(t,o(e,3),i)}},function(t,e,n){var r=n(33);t.exports=function(t,e){return r(t,e)}},function(t,e,n){var r=n(150);t.exports=function(t){return r(t,5)}},function(t,e,n){"use strict";n.r(e),e.default={}},function(t,e,n){"use strict";(function(e){t.exports=function(){if("object"==typeof globalThis)return globalThis;var t;try{t=this||new Function("return this")()}catch(t){if("object"==typeof window)return window;if("object"==typeof self)return self;if(void 0!==e)return e}return t}()}).call(this,n(15))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,l=[],c=!1,h=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&p())}function p(){if(!c){var t=s(f);c=!0;for(var e=l.length;e;){for(u=l,l=[];++h<e;)u&&u[h].run();h=-1,e=l.length}u=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function _(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new d(t,e)),1!==l.length||c||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=_,i.addListener=_,i.once=_,i.off=_,i.removeListener=_,i.removeAllListeners=_,i.emit=_,i.prependListener=_,i.prependOnceListener=_,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,n){var r=n(80);t.exports=function(t,e){return function(n,i){return r(n,t,e(i),{})}}},function(t,e,n){var r=n(42);t.exports=function(t,e,n,i){return r(t,(function(t,r,o){e(i,n(t),r,o)})),i}},function(t,e,n){var r=n(82)();t.exports=r},function(t,e){t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(13),i=n(7);t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},function(t,e,n){var r=n(14),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(13),i=n(25),o=n(7),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},function(t,e,n){var r=n(28),i=n(90),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(48)(Object.keys,Object);t.exports=r},function(t,e){t.exports=function(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}},function(t,e,n){var r=n(93),i=n(137),o=n(51),a=n(5),s=n(147);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?i(t[0],t[1]):r(t):s(t)}},function(t,e,n){var r=n(94),i=n(136),o=n(60);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},function(t,e,n){var r=n(29),i=n(33);t.exports=function(t,e,n,o){var a=n.length,s=a,u=!o;if(null==t)return!s;for(t=Object(t);a--;){var l=n[a];if(u&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++a<s;){var c=(l=n[a])[0],h=t[c],f=l[1];if(u&&l[2]){if(void 0===h&&!(c in t))return!1}else{var p=new r;if(o)var d=o(h,f,c,t,e,p);if(!(void 0===d?i(f,h,3,o,p):d))return!1}}return!0}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(17),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}},function(t,e,n){var r=n(17);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(17);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(17);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e,n){var r=n(16);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(16),i=n(31),o=n(32);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(50),i=n(106),o=n(10),a=n(52),s=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,c=u.toString,h=l.hasOwnProperty,f=RegExp("^"+c.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?f:s).test(a(t))}},function(t,e,n){var r,i=n(107),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!o&&o in t}},function(t,e,n){var r=n(3)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(110),i=n(16),o=n(31);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(t,e,n){var r=n(111),i=n(112),o=n(113),a=n(114),s=n(115);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(18);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(18),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(18),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var r=n(18);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,n){var r=n(19);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(19);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(19);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(19);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},function(t,e,n){var r=n(29),i=n(53),o=n(127),a=n(130),s=n(20),u=n(5),l=n(24),c=n(47),h="[object Object]",f=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,p,d,_){var v=u(t),g=u(e),m=v?"[object Array]":s(t),y=g?"[object Array]":s(e),b=(m="[object Arguments]"==m?h:m)==h,w=(y="[object Arguments]"==y?h:y)==h,x=m==y;if(x&&l(t)){if(!l(e))return!1;v=!0,b=!1}if(x&&!b)return _||(_=new r),v||c(t)?i(t,e,n,p,d,_):o(t,e,m,n,p,d,_);if(!(1&n)){var k=b&&f.call(t,"__wrapped__"),A=w&&f.call(e,"__wrapped__");if(k||A){var T=k?t.value():t,S=A?e.value():e;return _||(_=new r),d(T,S,n,p,_)}}return!!x&&(_||(_=new r),a(t,e,n,p,d,_))}},function(t,e,n){var r=n(32),i=n(123),o=n(124);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var r=n(14),i=n(54),o=n(30),a=n(53),s=n(128),u=n(129),l=r?r.prototype:void 0,c=l?l.valueOf:void 0;t.exports=function(t,e,n,r,l,h,f){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!h(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var p=s;case"[object Set]":var d=1&r;if(p||(p=u),t.size!=e.size&&!d)return!1;var _=f.get(t);if(_)return _==e;r|=2,f.set(t,e);var v=a(p(t),p(e),r,l,h,f);return f.delete(t),v;case"[object Symbol]":if(c)return c.call(t)==c.call(e)}return!1}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},function(t,e,n){var r=n(55),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,o,a,s){var u=1&n,l=r(t),c=l.length;if(c!=r(e).length&&!u)return!1;for(var h=c;h--;){var f=l[h];if(!(u?f in e:i.call(e,f)))return!1}var p=s.get(t),d=s.get(e);if(p&&d)return p==e&&d==t;var _=!0;s.set(t,e),s.set(e,t);for(var v=u;++h<c;){var g=t[f=l[h]],m=e[f];if(o)var y=u?o(m,g,f,e,t,s):o(g,m,f,t,e,s);if(!(void 0===y?g===m||a(g,m,n,o,s):y)){_=!1;break}v||(v="constructor"==f)}if(_&&!v){var b=t.constructor,w=e.constructor;b==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(_=!1)}return s.delete(t),s.delete(e),_}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},function(t,e,n){var r=n(9)(n(3),"DataView");t.exports=r},function(t,e,n){var r=n(9)(n(3),"Promise");t.exports=r},function(t,e,n){var r=n(9)(n(3),"Set");t.exports=r},function(t,e,n){var r=n(9)(n(3),"WeakMap");t.exports=r},function(t,e,n){var r=n(59),i=n(12);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],a=t[o];e[n]=[o,a,r(a)]}return e}},function(t,e,n){var r=n(33),i=n(23),o=n(144),a=n(35),s=n(59),u=n(60),l=n(21);t.exports=function(t,e){return a(t)&&s(e)?u(l(t),e):function(n){var a=i(n,t);return void 0===a&&a===e?o(n,t):r(e,a,3)}}},function(t,e,n){var r=n(139),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)})),e}));t.exports=a},function(t,e,n){var r=n(140);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},function(t,e,n){var r=n(32);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},function(t,e,n){var r=n(142);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(14),i=n(143),o=n(5),a=n(36),s=r?r.prototype:void 0,u=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return u?u.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e,n){var r=n(145),i=n(146);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(62),i=n(44),o=n(5),a=n(46),s=n(25),u=n(21);t.exports=function(t,e,n){for(var l=-1,c=(e=r(e,t)).length,h=!1;++l<c;){var f=u(e[l]);if(!(h=null!=t&&n(t,f)))break;t=t[f]}return h||++l!=c?h:!!(c=null==t?0:t.length)&&s(c)&&a(f,c)&&(o(t)||i(t))}},function(t,e,n){var r=n(148),i=n(149),o=n(35),a=n(21);t.exports=function(t){return o(t)?r(a(t)):i(t)}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(61);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e,n){var r=n(29),i=n(151),o=n(63),a=n(153),s=n(154),u=n(157),l=n(158),c=n(159),h=n(160),f=n(55),p=n(161),d=n(20),_=n(162),v=n(163),g=n(168),m=n(5),y=n(24),b=n(170),w=n(10),x=n(172),k=n(12),A=n(37),T={};T["[object Arguments]"]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T["[object Object]"]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T["[object Function]"]=T["[object WeakMap]"]=!1,t.exports=function t(e,n,S,j,E,C){var O,M=1&n,I=2&n,P=4&n;if(S&&(O=E?S(e,j,E,C):S(e)),void 0!==O)return O;if(!w(e))return e;var L=m(e);if(L){if(O=_(e),!M)return l(e,O)}else{var F=d(e),R="[object Function]"==F||"[object GeneratorFunction]"==F;if(y(e))return u(e,M);if("[object Object]"==F||"[object Arguments]"==F||R&&!E){if(O=I||R?{}:g(e),!M)return I?h(e,s(O,e)):c(e,a(O,e))}else{if(!T[F])return E?e:{};O=v(e,F,M)}}C||(C=new r);var N=C.get(e);if(N)return N;C.set(e,O),x(e)?e.forEach((function(r){O.add(t(r,n,S,r,e,C))})):b(e)&&e.forEach((function(r,i){O.set(i,t(r,n,S,i,e,C))}));var G=L?void 0:(P?I?p:f:I?A:k)(e);return i(G||e,(function(r,i){G&&(r=e[i=r]),o(O,i,t(r,n,S,i,e,C))})),O}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e,n){var r=n(9),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e,n){var r=n(22),i=n(12);t.exports=function(t,e){return t&&r(e,i(e),t)}},function(t,e,n){var r=n(22),i=n(37);t.exports=function(t,e){return t&&r(e,i(e),t)}},function(t,e,n){var r=n(10),i=n(28),o=n(156),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=i(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){(function(t){var r=n(3),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(8)(t))},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e,n){var r=n(22),i=n(34);t.exports=function(t,e){return r(t,i(t),e)}},function(t,e,n){var r=n(22),i=n(65);t.exports=function(t,e){return r(t,i(t),e)}},function(t,e,n){var r=n(56),i=n(65),o=n(37);t.exports=function(t){return r(t,o,i)}},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,e,n){var r=n(38),i=n(164),o=n(165),a=n(166),s=n(167);t.exports=function(t,e,n){var u=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new u(+t);case"[object DataView]":return i(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(t,n);case"[object Map]":return new u;case"[object Number]":case"[object String]":return new u(t);case"[object RegExp]":return o(t);case"[object Set]":return new u;case"[object Symbol]":return a(t)}}},function(t,e,n){var r=n(38);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var r=n(14),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},function(t,e,n){var r=n(38);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(169),i=n(66),o=n(28);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:r(i(t))}},function(t,e,n){var r=n(10),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},function(t,e,n){var r=n(171),i=n(26),o=n(27),a=o&&o.isMap,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(20),i=n(7);t.exports=function(t){return i(t)&&"[object Map]"==r(t)}},function(t,e,n){var r=n(173),i=n(26),o=n(27),a=o&&o.isSet,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(20),i=n(7);t.exports=function(t){return i(t)&&"[object Set]"==r(t)}},function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"TYPE_TEXT",(function(){return A})),n.d(r,"TYPE_NEWLINE",(function(){return T})),n.d(r,"TYPE_FG",(function(){return S})),n.d(r,"TYPE_BG",(function(){return j})),n.d(r,"measure",(function(){return E})),n.d(r,"tokenize",(function(){return C}));var i=n(0),o=n.n(i),a=n(67),s=n.n(a),u=n(1),l=n(11);class c extends l.a{constructor(){super(),this._ctx=document.createElement("canvas").getContext("2d")}schedule(t){requestAnimationFrame(t)}getContainer(){return this._ctx.canvas}setOptions(t){super.setOptions(t);const e=`${t.fontStyle?t.fontStyle+" ":""} ${t.fontSize}px ${t.fontFamily}`;this._ctx.font=e,this._updateSize(),this._ctx.font=e,this._ctx.textAlign="center",this._ctx.textBaseline="middle"}clear(){this._ctx.fillStyle=this._options.bg,this._ctx.fillRect(0,0,this._ctx.canvas.width,this._ctx.canvas.height)}eventToPosition(t,e){let n=this._ctx.canvas,r=n.getBoundingClientRect();return t-=r.left,e-=r.top,t*=n.width/r.width,e*=n.height/r.height,t<0||e<0||t>=n.width||e>=n.height?[-1,-1]:this._normalizedEventToPosition(t,e)}}var h=n(4);class f extends c{constructor(){super(),this._spacingX=0,this._spacingY=0,this._hexSize=0}draw(t,e){let[n,r,i,o,a]=t,s=[(n+1)*this._spacingX,r*this._spacingY+this._hexSize];if(this._options.transpose&&s.reverse(),e&&(this._ctx.fillStyle=a,this._fill(s[0],s[1])),!i)return;this._ctx.fillStyle=o;let u=[].concat(i);for(let t=0;t<u.length;t++)this._ctx.fillText(u[t],s[0],Math.ceil(s[1]))}computeSize(t,e){return this._options.transpose&&(t+=e,t-=e=t-e),[Math.floor(t/this._spacingX)-1,Math.floor((e-2*this._hexSize)/this._spacingY+1)]}computeFontSize(t,e){this._options.transpose&&(t+=e,t-=e=t-e);let n=2*t/((this._options.width+1)*Math.sqrt(3))-1,r=e/(2+1.5*(this._options.height-1)),i=Math.min(n,r),o=this._ctx.font;this._ctx.font="100px "+this._options.fontFamily;let a=Math.ceil(this._ctx.measureText("W").width);this._ctx.font=o;let s=a/100;i=Math.floor(i)+1;let u=2*i/(this._options.spacing*(1+s/Math.sqrt(3)));return Math.ceil(u)-1}_normalizedEventToPosition(t,e){let n;this._options.transpose?(t+=e,t-=e=t-e,n=this._ctx.canvas.width):n=this._ctx.canvas.height;let r=n/this._options.height;return e=Math.floor(e/r),Object(h.mod)(e,2)?(t-=this._spacingX,t=1+2*Math.floor(t/(2*this._spacingX))):t=2*Math.floor(t/(2*this._spacingX)),[t,e]}_fill(t,e){let n=this._hexSize,r=this._options.border;const i=this._ctx;i.beginPath(),this._options.transpose?(i.moveTo(t-n+r,e),i.lineTo(t-n/2+r,e+this._spacingX-r),i.lineTo(t+n/2-r,e+this._spacingX-r),i.lineTo(t+n-r,e),i.lineTo(t+n/2-r,e-this._spacingX+r),i.lineTo(t-n/2+r,e-this._spacingX+r),i.lineTo(t-n+r,e)):(i.moveTo(t,e-n+r),i.lineTo(t+this._spacingX-r,e-n/2+r),i.lineTo(t+this._spacingX-r,e+n/2-r),i.lineTo(t,e+n-r),i.lineTo(t-this._spacingX+r,e+n/2-r),i.lineTo(t-this._spacingX+r,e-n/2+r),i.lineTo(t,e-n+r)),i.fill()}_updateSize(){const t=this._options,e=Math.ceil(this._ctx.measureText("W").width);let n,r;this._hexSize=Math.floor(t.spacing*(t.fontSize+e/Math.sqrt(3))/2),this._spacingX=this._hexSize*Math.sqrt(3)/2,this._spacingY=1.5*this._hexSize,t.transpose?(n="height",r="width"):(n="width",r="height"),this._ctx.canvas[n]=Math.ceil((t.width+1)*this._spacingX),this._ctx.canvas[r]=Math.ceil((t.height-1)*this._spacingY+2*this._hexSize)}}var p=(()=>{class t extends c{constructor(){super(),this._spacingX=0,this._spacingY=0,this._canvasCache={}}setOptions(t){super.setOptions(t),this._canvasCache={}}draw(e,n){t.cache?this._drawWithCache(e):this._drawNoCache(e,n)}_drawWithCache(t){let e,[n,r,i,o,a]=t,s=""+i+o+a;if(s in this._canvasCache)e=this._canvasCache[s];else{let t=this._options.border;e=document.createElement("canvas");let n=e.getContext("2d");if(e.width=this._spacingX,e.height=this._spacingY,n.fillStyle=a,n.fillRect(t,t,e.width-t,e.height-t),i){n.fillStyle=o,n.font=this._ctx.font,n.textAlign="center",n.textBaseline="middle";let t=[].concat(i);for(let e=0;e<t.length;e++)n.fillText(t[e],this._spacingX/2,Math.ceil(this._spacingY/2))}this._canvasCache[s]=e}this._ctx.drawImage(e,n*this._spacingX,r*this._spacingY)}_drawNoCache(t,e){let[n,r,i,o,a]=t;if(e){let t=this._options.border;this._ctx.fillStyle=a,this._ctx.fillRect(n*this._spacingX+t,r*this._spacingY+t,this._spacingX-t,this._spacingY-t)}if(!i)return;this._ctx.fillStyle=o;let s=[].concat(i);for(let t=0;t<s.length;t++)this._ctx.fillText(s[t],(n+.5)*this._spacingX,Math.ceil((r+.5)*this._spacingY))}computeSize(t,e){return[Math.floor(t/this._spacingX),Math.floor(e/this._spacingY)]}computeFontSize(t,e){let n=Math.floor(t/this._options.width),r=Math.floor(e/this._options.height),i=this._ctx.font;this._ctx.font="100px "+this._options.fontFamily;let o=Math.ceil(this._ctx.measureText("W").width);this._ctx.font=i;let a=o/100*r/n;return a>1&&(r=Math.floor(r/a)),Math.floor(r/this._options.spacing)}_normalizedEventToPosition(t,e){return[Math.floor(t/this._spacingX),Math.floor(e/this._spacingY)]}_updateSize(){const t=this._options,e=Math.ceil(this._ctx.measureText("W").width);this._spacingX=Math.ceil(t.spacing*e),this._spacingY=Math.ceil(t.spacing*t.fontSize),t.forceSquareRatio&&(this._spacingX=this._spacingY=Math.max(this._spacingX,this._spacingY)),this._ctx.canvas.width=t.width*this._spacingX,this._ctx.canvas.height=t.height*this._spacingY}}return t.cache=!1,t})();class d extends c{constructor(){super(),this._colorCanvas=document.createElement("canvas")}draw(t,e){let[n,r,i,o,a]=t,s=this._options.tileWidth,u=this._options.tileHeight;if(e&&(this._options.tileColorize?this._ctx.clearRect(n*s,r*u,s,u):(this._ctx.fillStyle=a,this._ctx.fillRect(n*s,r*u,s,u))),!i)return;let l=[].concat(i),c=[].concat(o),h=[].concat(a);for(let t=0;t<l.length;t++){let e=this._options.tileMap[l[t]];if(!e)throw new Error(`Char "${l[t]}" not found in tileMap`);if(this._options.tileColorize){let i=this._colorCanvas,o=i.getContext("2d");o.globalCompositeOperation="source-over",o.clearRect(0,0,s,u);let a=c[t],l=h[t];o.drawImage(this._options.tileSet,e[0],e[1],s,u,0,0,s,u),"transparent"!=a&&(o.fillStyle=a,o.globalCompositeOperation="source-atop",o.fillRect(0,0,s,u)),"transparent"!=l&&(o.fillStyle=l,o.globalCompositeOperation="destination-over",o.fillRect(0,0,s,u)),this._ctx.drawImage(i,n*s,r*u,s,u)}else this._ctx.drawImage(this._options.tileSet,e[0],e[1],s,u,n*s,r*u,s,u)}}computeSize(t,e){return[Math.floor(t/this._options.tileWidth),Math.floor(e/this._options.tileHeight)]}computeFontSize(){throw new Error("Tile backend does not understand font size")}_normalizedEventToPosition(t,e){return[Math.floor(t/this._options.tileWidth),Math.floor(e/this._options.tileHeight)]}_updateSize(){const t=this._options;this._ctx.canvas.width=t.width*t.tileWidth,this._ctx.canvas.height=t.height*t.tileHeight,this._colorCanvas.width=t.tileWidth,this._colorCanvas.height=t.tileHeight}}var _=n(6);class v extends l.a{constructor(){super(),this._uniforms={};try{this._gl=this._initWebGL()}catch(t){alert(t.message)}}static isSupported(){return!!document.createElement("canvas").getContext("webgl2",{preserveDrawingBuffer:!0})}schedule(t){requestAnimationFrame(t)}getContainer(){return this._gl.canvas}setOptions(t){super.setOptions(t),this._updateSize();let e=this._options.tileSet;e&&"complete"in e&&!e.complete?e.addEventListener("load",()=>this._updateTexture(e)):this._updateTexture(e)}draw(t,e){const n=this._gl,r=this._options;let[i,o,a,s,u]=t,l=n.canvas.height-(o+1)*r.tileHeight;if(n.scissor(i*r.tileWidth,l,r.tileWidth,r.tileHeight),e&&(r.tileColorize?n.clearColor(0,0,0,0):n.clearColor(...w(u)),n.clear(n.COLOR_BUFFER_BIT)),!a)return;let c=[].concat(a),h=[].concat(u),f=[].concat(s);n.uniform2fv(this._uniforms.targetPosRel,[i,o]);for(let t=0;t<c.length;t++){let e=this._options.tileMap[c[t]];if(!e)throw new Error(`Char "${c[t]}" not found in tileMap`);n.uniform1f(this._uniforms.colorize,r.tileColorize?1:0),n.uniform2fv(this._uniforms.tilesetPosAbs,e),r.tileColorize&&(n.uniform4fv(this._uniforms.tint,w(f[t])),n.uniform4fv(this._uniforms.bg,w(h[t]))),n.drawArrays(n.TRIANGLE_STRIP,0,4)}}clear(){const t=this._gl;t.clearColor(...w(this._options.bg)),t.scissor(0,0,t.canvas.width,t.canvas.height),t.clear(t.COLOR_BUFFER_BIT)}computeSize(t,e){return[Math.floor(t/this._options.tileWidth),Math.floor(e/this._options.tileHeight)]}computeFontSize(){throw new Error("Tile backend does not understand font size")}eventToPosition(t,e){let n=this._gl.canvas,r=n.getBoundingClientRect();return t-=r.left,e-=r.top,t*=n.width/r.width,e*=n.height/r.height,t<0||e<0||t>=n.width||e>=n.height?[-1,-1]:this._normalizedEventToPosition(t,e)}_initWebGL(){let t=document.createElement("canvas").getContext("webgl2",{preserveDrawingBuffer:!0});window.gl=t;let e=function(t,e,n){const r=t.createShader(t.VERTEX_SHADER);if(t.shaderSource(r,e),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(r)||"");const i=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(i,n),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(i)||"");const o=t.createProgram();if(t.attachShader(o,r),t.attachShader(o,i),t.linkProgram(o),!t.getProgramParameter(o,t.LINK_STATUS))throw new Error(t.getProgramInfoLog(o)||"");return o}(t,m,y);return t.useProgram(e),function(t){const e=new Float32Array([0,0,1,0,0,1,1,1]),n=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),t.enableVertexAttribArray(0),t.vertexAttribPointer(0,2,t.FLOAT,!1,0,0)}(t),g.forEach(n=>this._uniforms[n]=t.getUniformLocation(e,n)),this._program=e,t.enable(t.BLEND),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA),t.enable(t.SCISSOR_TEST),t}_normalizedEventToPosition(t,e){return[Math.floor(t/this._options.tileWidth),Math.floor(e/this._options.tileHeight)]}_updateSize(){const t=this._gl,e=this._options,n=[e.width*e.tileWidth,e.height*e.tileHeight];t.canvas.width=n[0],t.canvas.height=n[1],t.viewport(0,0,n[0],n[1]),t.uniform2fv(this._uniforms.tileSize,[e.tileWidth,e.tileHeight]),t.uniform2fv(this._uniforms.targetSize,n)}_updateTexture(t){!function(t,e){let n=t.createTexture();t.bindTexture(t.TEXTURE_2D,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e)}(this._gl,t)}}const g=["targetPosRel","tilesetPosAbs","tileSize","targetSize","colorize","bg","tint"],m="\n#version 300 es\n\nin vec2 tilePosRel;\nout vec2 tilesetPosPx;\n\nuniform vec2 tilesetPosAbs;\nuniform vec2 tileSize;\nuniform vec2 targetSize;\nuniform vec2 targetPosRel;\n\nvoid main() {\n\tvec2 targetPosPx = (targetPosRel + tilePosRel) * tileSize;\n\tvec2 targetPosNdc = ((targetPosPx / targetSize)-0.5)*2.0;\n\ttargetPosNdc.y *= -1.0;\n\n\tgl_Position = vec4(targetPosNdc, 0.0, 1.0);\n\ttilesetPosPx = tilesetPosAbs + tilePosRel * tileSize;\n}".trim(),y="\n#version 300 es\nprecision highp float;\n\nin vec2 tilesetPosPx;\nout vec4 fragColor;\nuniform sampler2D image;\nuniform bool colorize;\nuniform vec4 bg;\nuniform vec4 tint;\n\nvoid main() {\n\tfragColor = vec4(0, 0, 0, 1);\n\n\tvec4 texel = texelFetch(image, ivec2(tilesetPosPx), 0);\n\n\tif (colorize) {\n\t\ttexel.rgb = tint.a * tint.rgb + (1.0-tint.a) * texel.rgb;\n\t\tfragColor.rgb = texel.a*texel.rgb + (1.0-texel.a)*bg.rgb;\n\t\tfragColor.a = texel.a + (1.0-texel.a)*bg.a;\n\t} else {\n\t\tfragColor = texel;\n\t}\n}".trim();let b={};function w(t){if(!(t in b)){let e;if("transparent"==t)e=[0,0,0,0];else if(t.indexOf("rgba")>-1){e=(t.match(/[\d.]+/g)||[]).map(Number);for(let t=0;t<3;t++)e[t]=e[t]/255}else e=_.fromString(t).map(t=>t/255),e.push(1);b[t]=e}return b[t]}var x=n(39);const k=/%([bc]){([^}]*)}/g,A=0,T=1,S=2,j=3;function E(t,e){let n={width:0,height:1},r=C(t,e),i=0;for(let t=0;t<r.length;t++){let e=r[t];switch(e.type){case A:i+=e.value.length;break;case T:n.height++,n.width=Math.max(n.width,i),i=0}}return n.width=Math.max(n.width,i),n}function C(t,e){let n=[],r=0;t.replace(k,(function(e,i,o,a){let s=t.substring(r,a);return s.length&&n.push({type:A,value:s}),n.push({type:"c"==i?S:j,value:o.trim()}),r=a+e.length,""}));let i=t.substring(r);return i.length&&n.push({type:A,value:i}),function(t,e){e||(e=1/0);let n=0,r=0,i=-1;for(;n<t.length;){let o=t[n];if(o.type==T&&(r=0,i=-1),o.type!=A){n++;continue}for(;0==r&&" "==o.value.charAt(0);)o.value=o.value.substring(1);let a=o.value.indexOf("\n");if(-1!=a){o.value=O(t,n,a,!0);let e=o.value.split("");for(;e.length&&" "==e[e.length-1];)e.pop();o.value=e.join("")}if(o.value.length){if(r+o.value.length>e){let a=-1;for(;;){let t=o.value.indexOf(" ",a+1);if(-1==t)break;if(r+t>e)break;a=t}if(-1!=a)o.value=O(t,n,a,!0);else if(-1!=i){let e=t[i],r=e.value.lastIndexOf(" ");e.value=O(t,i,r,!0),n=i}else o.value=O(t,n,e-r,!1)}else r+=o.value.length,-1!=o.value.indexOf(" ")&&(i=n);n++}else t.splice(n,1)}t.push({type:T});let o=null;for(let e=0;e<t.length;e++){let n=t[e];switch(n.type){case A:o=n;break;case T:if(o){let t=o.value.split("");for(;t.length&&" "==t[t.length-1];)t.pop();o.value=t.join("")}o=null}}return t.pop(),t}(n,e)}function O(t,e,n,r){let i={type:T},o={type:A,value:t[e].value.substring(n+(r?1:0))};return t.splice(e+1,0,i,o),t[e].value.substring(0,n)}const M={4:[[0,-1],[1,0],[0,1],[-1,0]],8:[[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1]],6:[[-1,-1],[1,-1],[2,0],[1,1],[-1,1],[-2,0]]},I={hex:f,rect:p,tile:d,"tile-gl":v,term:x.a},P={width:80,height:25,transpose:!1,layout:"rect",fontSize:15,spacing:1,border:0,forceSquareRatio:!1,fontFamily:"monospace",fontStyle:"",fg:"#ccc",bg:"#000",tileWidth:32,tileHeight:32,tileMap:{},tileSet:null,tileColorize:!1};var L=(()=>{class t{constructor(t={}){this._data={},this._dirty=!1,this._options={},t=Object.assign({},P,t),this.setOptions(t),this.DEBUG=this.DEBUG.bind(this),this._tick=this._tick.bind(this),this._backend.schedule(this._tick)}DEBUG(t,e,n){let r=[this._options.bg,this._options.fg];this.draw(t,e,null,null,r[n%r.length])}clear(){this._data={},this._dirty=!0}setOptions(t){if(Object.assign(this._options,t),t.width||t.height||t.fontSize||t.fontFamily||t.spacing||t.layout){if(t.layout){let e=I[t.layout];this._backend=new e}this._backend.setOptions(this._options),this._dirty=!0}return this}getOptions(){return this._options}getContainer(){return this._backend.getContainer()}computeSize(t,e){return this._backend.computeSize(t,e)}computeFontSize(t,e){return this._backend.computeFontSize(t,e)}computeTileSize(t,e){return[Math.floor(t/this._options.width),Math.floor(e/this._options.height)]}eventToPosition(t){let e,n;return"touches"in t?(e=t.touches[0].clientX,n=t.touches[0].clientY):(e=t.clientX,n=t.clientY),this._backend.eventToPosition(e,n)}draw(t,e,n,r,i){r||(r=this._options.fg),i||(i=this._options.bg);let o=`${t},${e}`;this._data[o]=[t,e,n,r,i],!0!==this._dirty&&(this._dirty||(this._dirty={}),this._dirty[o]=!0)}drawText(t,e,n,r){let i=null,o=null,a=t,s=e,u=1;r||(r=this._options.width-t);let l=C(n,r);for(;l.length;){let e=l.shift();switch(e.type){case A:let n=!1,r=!1,l=!1,c=!1;for(let t=0;t<e.value.length;t++){let u=e.value.charCodeAt(t),h=e.value.charAt(t);if("term"===this._options.layout){let t=u>>8;if(17===t||t>=46&&t<=159||t>=172&&t<=215||u>=43360&&u<=43391){this.draw(a+0,s,h,i,o),this.draw(a+1,s,"\t",i,o),a+=2;continue}}l=u>65280&&u<65377||u>65500&&u<65512||u>65518,n=32==h.charCodeAt(0)||12288==h.charCodeAt(0),!c||l||n||a++,l&&!r&&a++,this.draw(a++,s,h,i,o),r=n,c=l}break;case S:i=e.value||null;break;case j:o=e.value||null;break;case T:a=t,s++,u++}}return u}_tick(){if(this._backend.schedule(this._tick),this._dirty){if(!0===this._dirty){this._backend.clear();for(let t in this._data)this._draw(t,!1)}else for(let t in this._dirty)this._draw(t,!0);this._dirty=!1}}_draw(t,e){let n=this._data[t];n[4]!=this._options.bg&&(e=!0),this._backend.draw(n,e)}}return t.Rect=p,t.Hex=f,t.Tile=d,t.TileGL=v,t.Term=x.a,t})();class F{constructor(){this.heap=[],this.timestamp=0}lessThan(t,e){return t.key==e.key?t.timestamp<e.timestamp:t.key<e.key}shift(t){this.heap=this.heap.map(({key:e,value:n,timestamp:r})=>({key:e+t,value:n,timestamp:r}))}len(){return this.heap.length}push(t,e){this.timestamp+=1;const n=this.len();this.heap.push({value:t,timestamp:this.timestamp,key:e}),this.updateUp(n)}pop(){if(0==this.len())throw new Error("no element to pop");const t=this.heap[0];return this.len()>1?(this.heap[0]=this.heap.pop(),this.updateDown(0)):this.heap.pop(),t}find(t){for(let e=0;e<this.len();e++)if(t==this.heap[e].value)return this.heap[e];return null}remove(t){let e=null;for(let n=0;n<this.len();n++)t==this.heap[n].value&&(e=n);return null!=e&&(this.len()>1?(this.heap[e]=this.heap.pop(),this.updateDown(e),!0):(this.heap.pop(),!0))}parentNode(t){return Math.floor((t-1)/2)}leftChildNode(t){return 2*t+1}rightChildNode(t){return 2*t+2}existNode(t){return t>=0&&t<this.heap.length}swap(t,e){const n=this.heap[t];this.heap[t]=this.heap[e],this.heap[e]=n}minNode(t){const e=t.filter(this.existNode.bind(this));let n=e[0];for(const t of e)this.lessThan(this.heap[t],this.heap[n])&&(n=t);return n}updateUp(t){if(0==t)return;const e=this.parentNode(t);this.existNode(e)&&this.lessThan(this.heap[t],this.heap[e])&&(this.swap(t,e),this.updateUp(e))}updateDown(t){const e=this.leftChildNode(t),n=this.rightChildNode(t);if(!this.existNode(e))return;const r=this.minNode([t,e,n]);r!=t&&(this.swap(t,r),this.updateDown(r))}debugPrint(){console.log(this.heap)}}class R{constructor(){this._time=0,this._events=new F}getTime(){return this._time}clear(){return this._events=new F,this}add(t,e){this._events.push(t,e)}get(){if(!this._events.len())return null;let{key:t,value:e}=this._events.pop();return t>0&&(this._time+=t,this._events.shift(-t)),e}getEventTime(t){const e=this._events.find(t);if(e){const{key:t}=e;return t}}remove(t){return this._events.remove(t)}}class N{constructor(){this._queue=new R,this._repeat=[],this._current=null}getTime(){return this._queue.getTime()}add(t,e){return e&&this._repeat.push(t),this}getTimeOf(t){return this._queue.getEventTime(t)}clear(){return this._queue.clear(),this._repeat=[],this._current=null,this}remove(t){let e=this._queue.remove(t),n=this._repeat.indexOf(t);return-1!=n&&this._repeat.splice(n,1),this._current==t&&(this._current=null),e}next(){return this._current=this._queue.get(),this._current}}var G={Simple:class extends N{add(t,e){return this._queue.add(t,0),super.add(t,e)}next(){return null!==this._current&&-1!=this._repeat.indexOf(this._current)&&this._queue.add(this._current,0),super.next()}},Speed:class extends N{add(t,e,n){return this._queue.add(t,void 0!==n?n:1/t.getSpeed()),super.add(t,e)}next(){return this._current&&-1!=this._repeat.indexOf(this._current)&&this._queue.add(this._current,1/this._current.getSpeed()),super.next()}},Action:class extends N{constructor(){super(),this._defaultDuration=1,this._duration=this._defaultDuration}add(t,e,n){return this._queue.add(t,n||this._defaultDuration),super.add(t,e)}clear(){return this._duration=this._defaultDuration,super.clear()}remove(t){return t==this._current&&(this._duration=this._defaultDuration),super.remove(t)}next(){return null!==this._current&&-1!=this._repeat.indexOf(this._current)&&(this._queue.add(this._current,this._duration||this._defaultDuration),this._duration=this._defaultDuration),super.next()}setDuration(t){return this._current&&(this._duration=t),this}}};class z{constructor(t,e={}){this._lightPasses=t,this._options=Object.assign({topology:8},e)}_getCircle(t,e,n){let r,i,o,a=[];switch(this._options.topology){case 4:i=1,o=[0,1],r=[M[8][7],M[8][1],M[8][3],M[8][5]];break;case 6:r=M[6],i=1,o=[-1,1];break;case 8:r=M[4],i=2,o=[-1,1];break;default:throw new Error("Incorrect topology for FOV computation")}let s=t+o[0]*n,u=e+o[1]*n;for(let t=0;t<r.length;t++)for(let e=0;e<n*i;e++)a.push([s,u]),s+=r[t][0],u+=r[t][1];return a}}const D=[[-1,0,0,1],[0,-1,1,0],[0,-1,-1,0],[-1,0,0,-1],[1,0,0,-1],[0,1,-1,0],[0,1,1,0],[1,0,0,1]];var B={DiscreteShadowcasting:class extends z{compute(t,e,n,r){if(r(t,e,0,1),!this._lightPasses(t,e))return;let i,o,a,s,u,l=[];for(let c=1;c<=n;c++){let n=this._getCircle(t,e,c),h=360/n.length;for(let t=0;t<n.length;t++)if(a=n[t][0],s=n[t][1],i=h*(t-.5),o=i+h,u=!this._lightPasses(a,s),this._visibleCoords(Math.floor(i),Math.ceil(o),u,l)&&r(a,s,c,1),2==l.length&&0==l[0]&&360==l[1])return}}_visibleCoords(t,e,n,r){if(t<0){let i=this._visibleCoords(0,e,n,r),o=this._visibleCoords(360+t,360,n,r);return i||o}let i=0;for(;i<r.length&&r[i]<t;)i++;if(i==r.length)return n&&r.push(t,e),!0;let o=0;if(i%2){for(;i<r.length&&r[i]<e;)i++,o++;return 0!=o&&(n&&(o%2?r.splice(i-o,o,e):r.splice(i-o,o)),!0)}for(;i<r.length&&r[i]<e;)i++,o++;return(t!=r[i-o]||1!=o)&&(n&&(o%2?r.splice(i-o,o,t):r.splice(i-o,o,t,e)),!0)}},PreciseShadowcasting:class extends z{compute(t,e,n,r){if(r(t,e,0,1),!this._lightPasses(t,e))return;let i,o,a,s,u,l,c=[];for(let h=1;h<=n;h++){let n=this._getCircle(t,e,h),f=n.length;for(let t=0;t<f;t++)if(i=n[t][0],o=n[t][1],s=[t?2*t-1:2*f-1,2*f],u=[2*t+1,2*f],a=!this._lightPasses(i,o),l=this._checkVisibility(s,u,a,c),l&&r(i,o,h,l),2==c.length&&0==c[0][0]&&c[1][0]==c[1][1])return}}_checkVisibility(t,e,n,r){if(t[0]>e[0]){return(this._checkVisibility(t,[t[1],t[1]],n,r)+this._checkVisibility([0,1],e,n,r))/2}let i=0,o=!1;for(;i<r.length;){let e=r[i],n=e[0]*t[1]-t[0]*e[1];if(n>=0){0!=n||i%2||(o=!0);break}i++}let a=r.length,s=!1;for(;a--;){let t=r[a],n=e[0]*t[1]-t[0]*e[1];if(n>=0){0==n&&a%2&&(s=!0);break}}let u,l=!0;if((i==a&&(o||s)||o&&s&&i+1==a&&a%2||i>a&&i%2)&&(l=!1),!l)return 0;let c=a-i+1;if(c%2)if(i%2){let t=r[i];u=(e[0]*t[1]-t[0]*e[1])/(t[1]*e[1]),n&&r.splice(i,c,e)}else{let e=r[a];u=(e[0]*t[1]-t[0]*e[1])/(t[1]*e[1]),n&&r.splice(i,c,t)}else{if(!(i%2))return n&&r.splice(i,c,t,e),1;{let t=r[i],e=r[a];u=(e[0]*t[1]-t[0]*e[1])/(t[1]*e[1]),n&&r.splice(i,c)}}return u/((e[0]*t[1]-t[0]*e[1])/(t[1]*e[1]))}},RecursiveShadowcasting:class extends z{compute(t,e,n,r){r(t,e,0,1);for(let i=0;i<D.length;i++)this._renderOctant(t,e,D[i],n,r)}compute180(t,e,n,r,i){i(t,e,0,1);let o=(r-1+8)%8,a=(r-2+8)%8,s=(r+1+8)%8;this._renderOctant(t,e,D[a],n,i),this._renderOctant(t,e,D[o],n,i),this._renderOctant(t,e,D[r],n,i),this._renderOctant(t,e,D[s],n,i)}compute90(t,e,n,r,i){i(t,e,0,1);let o=(r-1+8)%8;this._renderOctant(t,e,D[r],n,i),this._renderOctant(t,e,D[o],n,i)}_renderOctant(t,e,n,r,i){this._castVisibility(t,e,1,1,0,r+1,n[0],n[1],n[2],n[3],i)}_castVisibility(t,e,n,r,i,o,a,s,u,l,c){if(!(r<i))for(let h=n;h<=o;h++){let n=-h-1,f=-h,p=!1,d=0;for(;n<=0;){n+=1;let _=t+n*a+f*s,v=e+n*u+f*l,g=(n-.5)/(f+.5),m=(n+.5)/(f-.5);if(!(m>r)){if(g<i)break;if(n*n+f*f<o*o&&c(_,v,h,1),p){if(!this._lightPasses(_,v)){d=m;continue}p=!1,r=d}else!this._lightPasses(_,v)&&h<o&&(p=!0,this._castVisibility(t,e,h+1,r,g,o,a,s,u,l,c),d=m)}}if(p)break}}}};Math.sqrt(3),Math.sqrt(3);class H{constructor(t,e,n,r={}){this._toX=t,this._toY=e,this._passableCallback=n,this._options=Object.assign({topology:8},r),this._dirs=M[this._options.topology],8==this._options.topology&&(this._dirs=[this._dirs[0],this._dirs[2],this._dirs[4],this._dirs[6],this._dirs[1],this._dirs[3],this._dirs[5],this._dirs[7]])}_getNeighbors(t,e){let n=[];for(let r=0;r<this._dirs.length;r++){let i=this._dirs[r],o=t+i[0],a=e+i[1];this._passableCallback(o,a)&&n.push([o,a])}return n}}var U={Dijkstra:class extends H{constructor(t,e,n,r){super(t,e,n,r),this._computed={},this._todo=[],this._add(t,e,null)}compute(t,e,n){let r=t+","+e;if(r in this._computed||this._compute(t,e),!(r in this._computed))return;let i=this._computed[r];for(;i;)n(i.x,i.y),i=i.prev}_compute(t,e){for(;this._todo.length;){let n=this._todo.shift();if(n.x==t&&n.y==e)return;let r=this._getNeighbors(n.x,n.y);for(let t=0;t<r.length;t++){let e=r[t],i=e[0],o=e[1];i+","+o in this._computed||this._add(i,o,n)}}}_add(t,e,n){let r={x:t,y:e,prev:n};this._computed[t+","+e]=r,this._todo.push(r)}},AStar:class extends H{constructor(t,e,n,r={}){super(t,e,n,r),this._todo=[],this._done={}}compute(t,e,n){for(this._todo=[],this._done={},this._fromX=t,this._fromY=e,this._add(this._toX,this._toY,null);this._todo.length;){let n=this._todo.shift(),r=n.x+","+n.y;if(r in this._done)continue;if(this._done[r]=n,n.x==t&&n.y==e)break;let i=this._getNeighbors(n.x,n.y);for(let t=0;t<i.length;t++){let e=i[t],r=e[0],o=e[1];r+","+o in this._done||this._add(r,o,n)}}let r=this._done[t+","+e];if(r)for(;r;)n(r.x,r.y),r=r.prev}_add(t,e,n){let r=this._distance(t,e),i={x:t,y:e,prev:n,g:n?n.g+1:0,h:r},o=i.g+i.h;for(let t=0;t<this._todo.length;t++){let e=this._todo[t],n=e.g+e.h;if(o<n||o==n&&r<e.h)return void this._todo.splice(t,0,i)}this._todo.push(i)}_distance(t,e){switch(this._options.topology){case 4:return Math.abs(t-this._fromX)+Math.abs(e-this._fromY);case 6:let n=Math.abs(t-this._fromX),r=Math.abs(e-this._fromY);return r+Math.max(0,(n-r)/2);case 8:return Math.max(Math.abs(t-this._fromX),Math.abs(e-this._fromY))}}}};class W{constructor(t,e={}){this._reflectivityCallback=t,this._options={},e=Object.assign({passes:1,emissionThreshold:100,range:10},e),this._lights={},this._reflectivityCache={},this._fovCache={},this.setOptions(e)}setOptions(t){return Object.assign(this._options,t),t&&t.range&&this.reset(),this}setFOV(t){return this._fov=t,this._fovCache={},this}setLight(t,e,n){let r=t+","+e;return n?this._lights[r]="string"==typeof n?_.fromString(n):n:delete this._lights[r],this}clearLights(){this._lights={}}reset(){return this._reflectivityCache={},this._fovCache={},this}compute(t){let e={},n={},r={};for(let t in this._lights){let e=this._lights[t];n[t]=[0,0,0],_.add_(n[t],e)}for(let t=0;t<this._options.passes;t++)this._emitLight(n,r,e),t+1!=this._options.passes&&(n=this._computeEmitters(r,e));for(let e in r){let n=e.split(",");t(parseInt(n[0]),parseInt(n[1]),r[e])}return this}_emitLight(t,e,n){for(let r in t){let i=r.split(","),o=parseInt(i[0]),a=parseInt(i[1]);this._emitLightFromCell(o,a,t[r],e),n[r]=1}return this}_computeEmitters(t,e){let n={};for(let r in t){if(r in e)continue;let i,o=t[r];if(r in this._reflectivityCache)i=this._reflectivityCache[r];else{let t=r.split(","),e=parseInt(t[0]),n=parseInt(t[1]);i=this._reflectivityCallback(e,n),this._reflectivityCache[r]=i}if(0==i)continue;let a=[0,0,0],s=0;for(let t=0;t<3;t++){let e=Math.round(o[t]*i);a[t]=e,s+=e}s>this._options.emissionThreshold&&(n[r]=a)}return n}_emitLightFromCell(t,e,n,r){let i,o=t+","+e;i=o in this._fovCache?this._fovCache[o]:this._updateFOV(t,e);for(let t in i){let e,o=i[t];t in r?e=r[t]:(e=[0,0,0],r[t]=e);for(let t=0;t<3;t++)e[t]+=Math.round(n[t]*o)}return this}_updateFOV(t,e){let n=t+","+e,r={};this._fovCache[n]=r;let i=this._options.range;return this._fov.compute(t,e,i,function(t,e,n,o){let a=o*(1-n/i);0!=a&&(r[t+","+e]=a)}.bind(this)),r}}const $=_;var q=n(2);const X={},V={forrest_001:"forrestTheme",forrest_002:"forrestTheme",forrest_003:"forrestTheme",forrest_004:"forrestTheme",durdwin_001:"caveTheme"},Y={id:null,sound:null};function K(){X.uiClick.play()}function Z(){X.uiRollover.play()}function Q(){X.bookFlip.play()}function J(){X.bookFlip2.play()}function tt(){X.handleLeather2.play()}function et(){X.handleLeather.play()}function nt(){X.ping.play()}function rt(){X.doorOpening.play()}function it(){X.chestOpening.play()}function ot(){X.boxBreaking.play()}function at(t){const e=X[V[t]];Y.sound!==e&&(Y.id&&Y.sound.fade(.8,0,3e3,Y.id),Y.sound=e,Y.id=e.play(),Y.sound.fade(0,.8,3e3,Y.id))}function st(){Y.id&&Y.sound.pause(Y.id)}function ut(){Y.id&&Y.sound.play(Y.id)}var lt=n(68),ct=n.n(lt),ht=n(69),ft=n.n(ht),pt=n(70),dt=n.n(pt),_t=n(71),vt=n.n(_t),gt=n(72),mt=n.n(gt),yt=n(73),bt=n.n(yt),wt=n(40),xt=n.n(wt),kt=n(23),At=n.n(kt);function Tt(t,e="default"){const n=o.a.document.getElementById("log"),r=document.createElement("div"),i=document.createElement("p"),a=document.createElement("p");for(i.innerHTML=""+t,"tutorial"===e?r.className="tutorial":"critical"===e?(r.className="critical",a.innerHTML=`<small>Turn: ${o.a.Game.getTurnNumber()}</small>`):a.innerHTML=`<small>Turn: ${o.a.Game.getTurnNumber()}</small>`,r.appendChild(i),r.appendChild(a),n.appendChild(r);n.children.length>100;)n.children[0].remove();n.scrollTop=n.scrollHeight}class St{constructor(){this.currentSelection=0,this.allowedKeys=new Set(["ArrowDown","ArrowUp","Enter"])}resetState(){this.currentSelection=0}draw(t){const e=t.length+Oe;for(let t=0;t<Ee;t++)for(let n=0;n<e;n++)0===t||0===n||t===Ee-1||n===e-1?o.a.Game.display.draw(t,n,"1","grey","grey"):o.a.Game.display.draw(t,n,"1","black","black");o.a.Game.display.drawText(2,1,"%c{white}%b{black}Player Inventory");for(let e=0;e<t.length;e++){let n;n=e===this.currentSelection?`%c{white}%b{grey}${t[e].displayName} (${t[e].count})`:`%c{white}%b{black}${t[e].displayName} (${t[e].count})`,o.a.Game.display.drawText(2,e+3,n)}}handleInput(t,e){return this.allowedKeys.has(t)?"Enter"===t?(o.a.gameEventEmitter.emit("ui.select"),n=e[this.currentSelection].id,async function(t){if(!t.inventoryComponent.hasItem(n))return!1;const e=We[n];return!!await e.useFunc(e,t)&&(t.inventoryComponent.useItem(n),!0)}):("ArrowUp"===t&&this.currentSelection>0&&(o.a.gameEventEmitter.emit("ui.cursorMove"),this.currentSelection--),"ArrowDown"===t&&this.currentSelection<e.length-1&&(o.a.gameEventEmitter.emit("ui.cursorMove"),this.currentSelection++),null):null;var n}}class jt{constructor(){this.currentSelection=0,this.allowedKeys=new Set(["ArrowDown","ArrowUp","Enter"])}resetState(){this.currentSelection=0}draw(t){const e=t.length+Oe;for(let t=0;t<Ee;t++)for(let n=0;n<e;n++)0===t||0===n||t===Ee-1||n===e-1?o.a.Game.display.draw(t,n,"1","grey","grey"):o.a.Game.display.draw(t,n,"1","black","black");o.a.Game.display.drawText(2,1,"%c{white}%b{black}Spells");for(let e=0;e<t.length;e++){const n=t[e];let r;r=e===this.currentSelection?"%c{white}%b{grey}":"%c{white}%b{black}",o.a.Game.display.drawText(2,e+3,r+" "+n.displayName);let i="%c{white}%b{black}";switch(n.type){case"damage":case"wild":i+="dmg: "+n.value;break;case"effect":i+="turns: "+n.value;break;case"heal":i+="health: "+n.value}o.a.Game.display.drawText(25,e+3,i),o.a.Game.display.drawText(40,e+3,"%c{white}%b{black}cost: "+n.manaCost)}}handleInput(t,e){return this.allowedKeys.has(t)?"Enter"===t?(o.a.gameEventEmitter.emit("ui.select"),n=e[this.currentSelection].id,async function(t){if(!t.fighter.hasSpell(n))return!1;const e=$e[n],r=t.fighter.getEffectiveStats();return!(e.manaCost>r.mana)&&(!!await e.useFunc(e,t)&&(t.fighter.useMana(e.manaCost),!0))}):("ArrowUp"===t&&this.currentSelection>0&&(o.a.gameEventEmitter.emit("ui.cursorMove"),this.currentSelection--),"ArrowDown"===t&&this.currentSelection<e.length-1&&(o.a.gameEventEmitter.emit("ui.cursorMove"),this.currentSelection++),null):null;var n}}class Et{constructor(){this.state="selection",this.currentSelection=0}resetState(){this.state="selection",this.currentSelection=0}draw(t){const e=t.length+Oe+4,n=Ee;for(let t=0;t<n;t++)for(let r=0;r<e;r++)0===t||0===r||t===n-1||r===e-1?o.a.Game.display.draw(t,r,"1","grey","grey"):o.a.Game.display.draw(t,r,"1","black","black");o.a.Game.display.drawText(2,1,"%c{white}%b{black} Keyboard Bindings"),o.a.Game.display.drawText(2,3,"%c{white}%b{black} Use the arrow keys to select a binding, and enter to change it"),o.a.Game.display.drawText(2,5,"%c{white}%b{black} Use Escape to exit");for(let e=0;e<t.length;e++){const n=t[e].key;e===this.currentSelection?"selection"===this.state?o.a.Game.display.drawText(2,e+7,"%c{white}%b{grey} "+t[e].description+": "+n):o.a.Game.display.drawText(2,e+7,"%c{white}%b{grey} "+t[e].description+":"):o.a.Game.display.drawText(2,e+7,"%c{white}%b{black} "+t[e].description+": "+n)}}handleInput(t,e){if("selection"===this.state){if(!new Set(["ArrowDown","ArrowUp","Enter","Escape"]).has(t))return;if("Escape"===t)return void o.a.gameEventEmitter.emit("ui.select");"ArrowUp"===t&&this.currentSelection>0&&(o.a.gameEventEmitter.emit("ui.cursorMove"),this.currentSelection--),"ArrowDown"===t&&this.currentSelection<e.length-1&&(o.a.gameEventEmitter.emit("ui.cursorMove"),this.currentSelection++),"Enter"===t&&(o.a.gameEventEmitter.emit("ui.select"),this.state="change")}else"change"===this.state&&(o.a.gameEventEmitter.emit("ui.select"),e[this.currentSelection].key=t,this.state="selection")}}class Ct{constructor(){this.owner=null}setOwner(t){this.owner=t}interact(t){if(!this.owner.inventoryComponent||!t.inventoryComponent)throw new Error(`Missing inventoryComponent on ${this.owner} or ${t}`);{const e=this.owner.inventoryComponent.getItems();if(e.length>0){for(let n=0;n<e.length;n++){const r=e[n];Tt("Found a "+We[r.id].displayName),t.inventoryComponent.addItem(r.id,r.count),this.owner.inventoryComponent.useItem(r.id)}t===o.a.Game.player&&"chest"===this.owner.type&&o.a.gameEventEmitter.emit("chest.open")}else Tt("Empty")}}}class Ot{constructor(){this.owner=null,this.spellId=null}setOwner(t){this.owner=t}setSpell(t){this.spellId=t}interact(t){if(!t.fighter)return;if(!this.spellId)throw new Error("No spell id given");if(!(this.spellId in $e))throw new Error(this.spellId+" is not a valid spell");const e=t.fighter.addSpellById(this.spellId),n=$e[this.spellId];Tt(e?"You learned a new spell: "+n.displayName:"You already know "+n.displayName)}}class Mt{constructor(){this.owner=null,this.levelName=null}setLevel(t){this.levelName=t}setOwner(t){this.owner=t}interact(){o.a.gameEventEmitter.emit("door.open"),o.a.Game.removeObject(this.owner)}}class It{constructor(){this.owner=null,this.levelName=null}setLevel(t){this.levelName=t}setOwner(t){this.owner=t}interact(){if(!this.levelName)throw new Error("No level name has been set for load");o.a.Game.loadLevel(this.levelName),"load_door"===this.owner.type&&o.a.gameEventEmitter.emit("door.open")}}class Pt{constructor(){this.owner=null,this._inventory=new Map}setOwner(t){this.owner=t}getItems(){return[...this._inventory.keys()].map(t=>({id:t,displayName:We[t].displayName,count:this._inventory.get(t)}))}hasItem(t){return this._inventory.has(t)}addItem(t,e=1){if(!(t in We))throw new Error(t+" is not a valid item id");if(this.hasItem(t)){const n=this._inventory.get(t)+e;if(100===n)return!1;this._inventory.set(t,n)}else this._inventory.set(t,e);return this.owner===o.a.Game.player&&(o.a.gameEventEmitter.emit("tutorial.inventory"),"wild_damage_scroll"===We[t].type&&o.a.gameEventEmitter.emit("tutorial.wildSpells")),!0}useItem(t){if(!this.hasItem(t))throw new Error(`Item ${t} not in inventory`);this._inventory.set(t,this._inventory.get(t)-1),0===this._inventory.get(t)&&this._inventory.delete(t)}}class Lt{constructor(t,e,n){this.char=t,this.fgColor=e,this.bgColor=n,this.owner=null}setOwner(t){this.owner=t}draw(t,e,n){if(this.owner&&n[this.owner.y][this.owner.x].isVisibleAndLit()){const{x:n,y:r}=e.worldToScreen(this.owner.x,this.owner.y);t.draw(n,r,this.char,this.fgColor,this.bgColor)}}}class Ft{constructor(t,e){this.char=t,this.fgColor=e,this.owner=null}setOwner(t){this.owner=t}draw(t,e,n,r){if(this.owner&&n[this.owner.y][this.owner.x].isVisibleAndLit()){let i=n[this.owner.y][this.owner.x].lightingColor;const o=Kt(r,this.owner.x,this.owner.y);if(o.length>0)for(let t=0;t<o.length;t++){const e=o[t];e!==this.owner&&(e.graphics.bgColor&&(i=e.graphics.bgColor))}const{x:a,y:s}=e.worldToScreen(this.owner.x,this.owner.y);t.draw(a,s,this.char,this.fgColor,i)}}}class Rt{constructor(t,e,n){this.char=t,this.fgColor=e,this.bgColor=n,this.owner=null}setOwner(t){this.owner=t}draw(t,e,n){if(this.owner&&n[this.owner.y][this.owner.x].explored){const{x:n,y:r}=e.worldToScreen(this.owner.x,this.owner.y);t.draw(n,r,this.char,this.fgColor,this.bgColor)}}}function Nt(t){return function(e,n){return e<0||n<0||n>=t.length||e>=t[n].length||t[n][e].blocksSight?0:t[n][e].reflectivity}}class Gt{constructor(t,e){this.color=t,this.range=e}setOwner(t){this.owner=t}compute(t){const e=new B.PreciseShadowcasting(re(this.owner)),n=new W(Nt(t),{range:this.range,passes:2});n.setFOV(e),n.setLight(this.owner.x,this.owner.y,this.color),n.compute((function(e,n,r){e<0||n<0||n>=t.length||e>=t[n].length||(t[n][e].lightingColor=$.toRGB($.add($.fromString(t[n][e].lightingColor),r)))})),t[this.owner.y][this.owner.x].lightingColor=this.color}}class zt{constructor(t,e){this.color=t,this.range=e}setOwner(t){this.owner=t}compute(t){new B.PreciseShadowcasting(re(this.owner)).compute(this.owner.x,this.owner.y,100,(function(e,n){e<0||n<0||n>=t.length||e>=t[n].length||(t[n][e].visible=!0)}));const e=new B.PreciseShadowcasting(re(this.owner)),n=new W(Nt(t),{range:this.range,passes:2});n.setFOV(e),n.setLight(this.owner.x,this.owner.y,this.color),n.compute((function(e,n,r){e<0||n<0||n>=t.length||e>=t[n].length||(t[n][e].lightingColor=$.toRGB($.add($.fromString(t[n][e].lightingColor),r)),t[n][e].explored=!0)}))}}var Dt=n(41);class Bt{constructor(t,e=null){this.stats={hp:t.maxHp,maxHp:t.maxHp,mana:t.maxMana,maxMana:t.maxMana,strength:t.strength,defense:t.defense,speed:t.speed},this.deathCallback=e,this.owner=null,this.experience=t.experience,this.experienceGiven=t.experienceGiven,this.level=t.level,this.criticalChance="criticalChance"in t?t.criticalChance:.05,this.criticalDamageMultiplier=1.5,this.statusEffects=[],this.statisticEffects=[],this.ailmentSusceptibility=t.ailmentSusceptibility,this.damageAffinity=t.damageAffinity,this.knownSpells=new Set}setOwner(t){this.owner=t}act(){const t=this.getEffectiveStats(),e=Ne+this.level*Ge;this.experience>=e&&(this.level+=1,this.experience=0,this.stats.hp=t.maxHp,this.stats.mana=t.maxMana,this.stats.strength++,this.owner===o.a.Game.player&&Tt(`You reached level ${this.level}!`));for(let t=0;t<this.statusEffects.length;t++){const e=this.statusEffects[t];e.act(),0===e.turns&&(Tt(`${e.name} has ended for ${this.owner.name}`),this.statusEffects.splice(t,1))}for(let t=0;t<this.statisticEffects.length;t++){const e=this.statisticEffects[t];e.act(),0===e.turns&&(Tt(`${e.name} has ended for ${this.owner.name}`),this.statisticEffects.splice(t,1))}}takeDamage(t,e,n){const r=this.getEffectiveStats();return t*=this.damageAffinity[n],(t=Math.max(1,t-r.defense))>0&&(this.stats.hp-=t),e?Tt(`CRITICAL! ${this.owner.name} takes ${t} of ${De[n]} damage.`,"critical"):Tt(`${this.owner.name} takes ${t} ${De[n]} damage.`),this.stats.hp<=0&&(null!==this.deathCallback&&this.deathCallback(this.owner),!0)}attack(t){if(!t.fighter)return;const e=this.getEffectiveStats();let n=Math.round(e.strength),r=!1;if(u.a.getUniform()<=this.criticalChance&&(n=Math.ceil(n*this.criticalDamageMultiplier),r=!0),n>0){t.fighter.takeDamage(n,r,ze.physical)&&(this.experience+=Ue[t.type].experienceGiven)}else Tt(`${this.owner.name} attacks ${t.name}, but it's too weak!`)}heal(t){const e=this.getEffectiveStats();this.stats.hp+=t,this.stats.hp>e.maxHp&&(this.stats.hp=e.maxHp)}useMana(t){this.stats.mana=Math.max(this.stats.mana-t,0)}getEffectiveStats(){if(0===this.statisticEffects.length)return this.stats;let t=this.stats;return this.statisticEffects.forEach(e=>{t=e.modifyStats(t)}),t.maxHp<=0&&(t.maxHp=1),this.stats.hp>t.maxHp&&(this.stats.hp=t.maxHp,t.hp=t.maxHp),this.stats.mana>t.maxMana&&(this.stats.mana=t.maxMana,t.mana=t.maxMana),t}addStatusEffect(t){this.statusEffects.push(t)}getStatusEffects(){return Object(Dt.cloneDeep)(this.statusEffects)}addStatisticEffect(t){this.statisticEffects.push(t)}getStatisticEffects(){return Object(Dt.cloneDeep)(this.statisticEffects)}addSpellById(t){if(!(t in $e))throw new Error(t+" is not a valid spell id");return!this.knownSpells.has(t)&&(this.owner===o.a.Game.player&&(o.a.gameEventEmitter.emit("tutorial.spellMenu"),"wild"===$e[t].type&&o.a.gameEventEmitter.emit("tutorial.wildSpells")),this.knownSpells.add(t),!0)}getKnownSpells(){return[...this.knownSpells].map(t=>({id:t,displayName:$e[t].displayName,manaCost:$e[t].manaCost,value:$e[t].value,type:$e[t].type}))}hasSpell(t){return this.knownSpells.has(t)}getSpeed(){return this.getEffectiveStats().speed}}class Ht{constructor(t,e,n,r,i=!1,o=!1){this.type=t,this.x=e,this.y=n,this.name=r,this.blocks=i,this.blocksSight=o,this.graphics=null,this.lighting=null,this.fighter=null,this.ai=null,this.inventoryComponent=null,this.interactable=null}setGraphics(t){if(null===t&&null!==this.graphics)return this.graphics.setOwner(null),void(this.graphics=null);null===t&&null===this.graphics||(t.setOwner(this),this.graphics=t)}setLighting(t){if(null===t&&null!==this.lighting)return this.lighting.setOwner(null),void(this.lighting=null);null===t&&null===this.lighting||(t.setOwner(this),this.lighting=t)}setFighter(t){if(null===t&&null!==this.fighter)return this.fighter.setOwner(null),void(this.fighter=null);null===t&&null===this.fighter||(t.setOwner(this),this.fighter=t)}setAI(t){if(null===t&&null!==this.ai)return this.ai.setOwner(null),void(this.ai=null);null===t&&null===this.ai||(t.setOwner(this),this.ai=t)}setInventory(t){if(null===t&&null!==this.inventoryComponent)return this.inventoryComponent.setOwner(null),void(this.inventoryComponent=null);null===t&&null===this.inventoryComponent||(t.setOwner(this),this.inventoryComponent=t)}setInteractable(t){if(null===t&&null!==this.interactable)return this.interactable.setOwner(null),void(this.interactable=null);null===t&&null===this.interactable||(t.setOwner(this),this.interactable=t)}getSpeed(){return this.fighter?this.fighter.getSpeed():Re}act(t,e,n){let r=!0;if(this.ai&&"function"==typeof this.ai.act){const i=this.ai.act(t,e,n);i&&(r=i(this))}return this.fighter&&"function"==typeof this.fighter.act&&this.fighter.act(),r}}function Ut(t,e=0,n=0){if(!(t in Ue))throw new Error(t+" is not valid object id");const r=Ue[t],i=new Ht(t,e,n,r.name,r.blocks,r.blocksSight);if(r.ai)switch(r.ai){case"basic_monster_ai":i.setAI(new se(r.sightRange));break;case"patrolling_monster_ai":i.setAI(new ue(r.sightRange));break;case"chest_ai":i.setAI(new ce(r.bgColor,r.emptyColor));break;case"dropped_item_ai":i.setAI(new he);break;default:throw new Error("Unhandled AI type "+r.ai)}if(r.graphics)switch(r.graphics){case"basic_graphics":i.setGraphics(new Lt(r.char,r.fgColor,r.bgColor));break;case"transparency_graphics":i.setGraphics(new Ft(r.char,r.fgColor));break;case"draw_after_seen":i.setGraphics(new Rt(r.char,r.fgColor,r.bgColor));break;default:throw new Error("Unhandled Graphics type "+r.graphics)}if(r.lighting)switch(r.lighting){case"reflectivity":i.setLighting(new Gt(r.lightingColor,r.lightingRange));break;case"player_lighting":i.setLighting(new zt(r.lightingColor,r.lightingRange));break;default:throw new Error("Unhandled Lighting type "+r.lighting)}if(r.fighter){let t;switch(r.onDeath){case"default":t=Wt;break;case"remove_from_world":t=$t;break;default:throw new Error("Unhandled onDeath type "+r.onDeath)}switch(r.fighter){case"basic_fighter":i.setFighter(new Bt(r,t));break;default:throw new Error("Unhandled Fighter type "+r.fighter)}}if(r.inventory){switch(r.inventory){case"basic_inventory":i.setInventory(new Pt);break;default:throw new Error("Unhandled Inventory type "+r.inventory)}if(r.inventoryPool)for(let t=0;t<r.inventoryPool.length;t++)u.a.getUniform()<=r.inventoryPool[t][1]&&i.inventoryComponent.addItem(r.inventoryPool[t][0])}if(r.interactable)switch(r.interactable){case"give_items_interactable":i.setInteractable(new Ct);break;case"give_spell_interactable":i.setInteractable(new Ot);break;case"load_level_interactable":i.setInteractable(new It);break;case"door_interactable":i.setInteractable(new Mt);break;default:throw new Error("Unhandled Interactable type "+r.interactable)}return i}function Wt(t){if(Tt(t.name+" has been killed"),t.name="Remains of a "+t.name,t.blocks=!1,t.setGraphics(new Lt("%","black","red")),t.setFighter(null),t.setAI(null),t.setInteractable(null),t.inventoryComponent.getItems().length>0){const e=Ut("dropped_item",t.x,t.y);e.inventoryComponent=t.inventoryComponent,o.a.Game.addObject(e)}t.inventoryComponent=null}function $t(t){if(t.inventoryComponent.getItems().length>0){o.a.gameEventEmitter.emit("tutorial.pickUpItem");const e=Ut("dropped_item",t.x,t.y);e.inventoryComponent=t.inventoryComponent,o.a.Game.addObject(e)}"crate"===t.type&&o.a.gameEventEmitter.emit("crate.break"),"barrel"===t.type&&o.a.gameEventEmitter.emit("barrel.break"),o.a.Game.removeObject(t)}class qt{constructor(t,e,n,r,i){this.x=t,this.y=e,this.width=n,this.height=r,this.eventName=i}enter(t){"player"===t.type&&o.a.gameEventEmitter.emit(this.eventName)}}class Xt{constructor(t,e,n,r,i,o,a,s,u=!1,l=!1){this.name=t,this.char=e,this.fgColor=n,this.bgColor=r,this.fgColorExplored=i,this.bgColorExplored=o,this.blocks=a,this.blocksSight=s,this.visible=u,this.explored=l,this.reflectivity=.18,this.lightingColor=r}isVisibleAndLit(){return this.visible&&this.lightingColor!==Le}}class Vt{constructor(t,e,n,r){this.pathName=t,this.x=e,this.y=n,this.next=r}}function Yt(t,e){if(!t.properties||!t.properties.length)return null;const n=t.properties.filter(t=>t.name===e);return 0===n.length?null:n[0].value}function Kt(t,e,n){return t.filter(t=>t.x===e&&t.y===n)}function Zt(t,e,n,r){if(!Array.isArray(t)||0===t.length||!Array.isArray(t[0]))throw new Error("Bad map data");if(n<0||r<0||n>=t[0].length||r>=t.length||t[r][n].blocks)return{object:null,blocks:!0};const i=e.filter(t=>t.x===n&&t.y===r&&!0===t.blocks)[0];return i?{object:i,blocks:!0}:{object:null,blocks:!1}}function Qt(t,e,n,r){if(n>Ee||n<0||r>Ce||r<0)return;let i,o;e.blocks?e.isVisibleAndLit()?(i=e.fgColor,o=e.bgColor):e.explored?e.explored&&!e.isVisibleAndLit()&&(i=e.fgColorExplored,o=e.bgColorExplored):(i=Me,o=Me):e.isVisibleAndLit()?(i=e.fgColor,o=e.lightingColor):e.explored?(i=Pe,o=Pe):(i=Ie,o=Ie),t.draw(n,r,e.char,i,o)}function Jt(t,e){const n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n**2+r**2)}function te(t,e,n,r){const i=e.filter(t=>!xt()(t.fighter)).filter(t=>!xt()(t.ai)).filter(t=>t!==n).filter(t=>Jt(n,t)<=r);return i.length>0?u.a.getItem(i):null}function ee(t,e){return t.filter(t=>t.x<e.x&&t.x+t.width>e.x&&t.y<=e.y&&t.y+t.height>=e.y)}function ne(t,e){return function(n){const r=M[e][t],i=n.x+r[0],a=n.y+r[1],{object:s,blocks:u}=Zt(o.a.Game.map,o.a.Game.gameObjects,i,a);if(s){if(s.interactable)return s.interactable.interact(n),!0;if(s.fighter)return n.fighter.attack(s),!0}return!0!==u&&(n.x=i,n.y=a,!0)}}function re(t){return function(e,n){return t.x===e&&t.y===n||!1===function(t,e,n,r){if(!Array.isArray(t)||0===t.length||!Array.isArray(t[0]))throw new Error("Bad map data");if(n<0||r<0||n>=t[0].length||r>=t.length||t[r][n].blocksSight)return!0;const i=Kt(e,n,r);for(let t=0;t<i.length;t++)if(i[t].blocksSight)return!0;return!1}(o.a.Game.map,o.a.Game.gameObjects,e,n)}}function ie(t){return function(e,n,r,i){e===o.a.Game.player.x&&n===o.a.Game.player.y&&i>0&&(Tt(t.owner.name+" saw you"),t.state="chase")}}function oe(t,e,n){const r=new U.AStar(e,n,(i=t,function(t,e){if(i.x===t&&i.y===e)return!0;const{blocks:n}=Zt(o.a.Game.map,o.a.Game.gameObjects,t,e);return!n}),{topology:8});var i;const a=[];return r.compute(t.x,t.y,(function(t,e){a.push([t,e])})),a.shift(),a.length>0?{x:a[0][0],y:a[0][1]}:{x:null,y:null}}function ae(t,e,n,r){return mt()(M[8],(function(i){return bt()(i,[n-t,r-e])}))}class se{constructor(t){this.owner=null,this.state="wander",this.sightRange=t}setOwner(t){this.owner=t}act(t,e){if("wander"===this.state){let n,r,i,o;new B.PreciseShadowcasting(re(this.owner)).compute(this.owner.x,this.owner.y,this.sightRange,ie(this));do{o=u.a.getItem([0,1,2,3,4,5,6,7]),r=this.owner.x+M[8][o][0],i=this.owner.y+M[8][o][1],({blocks:n}=Zt(t,e,r,i))}while(!0===n);return ne(o,8)}if("chase"===this.state){const{x:t,y:e}=oe(this.owner,o.a.Game.player.x,o.a.Game.player.y);return null===t||null===e?null:ne(ae(this.owner.x,this.owner.y,t,e),8)}}}class ue{constructor(t){this.owner=null,this.state="patrol",this.sightRange=t,this.pathName=null,this.patrolTarget=null}setOwner(t){this.owner=t}setPath(t){this.pathName=t}act(t,e,n){if("patrol"===this.state){if(new B.PreciseShadowcasting(re(this.owner)).compute(this.owner.x,this.owner.y,this.sightRange,ie(this)),null===this.patrolTarget){const t=t=>t.pathName===this.pathName,e=t=>(t.distance=Jt(t,this.owner),t),r=[...n.values()].filter(t.bind(this)).map(e.bind(this)).sort((t,e)=>t.distance-e.distance);this.patrolTarget=r[0]}let{x:t,y:e}=oe(this.owner,this.patrolTarget.x,this.patrolTarget.y);return null!==t&&null!==e||(this.patrolTarget=n.get(this.patrolTarget.next),({x:t,y:e}=oe(this.owner,this.patrolTarget.x,this.patrolTarget.y))),ne(ae(this.owner.x,this.owner.y,t,e),8)}if("chase"===this.state){const{x:t,y:e}=oe(this.owner,o.a.Game.player.x,o.a.Game.player.y);return null===t||null===e?null:ne(ae(this.owner.x,this.owner.y,t,e),8)}}}class le{constructor(t,e){this.owner=null,this.oldAI=t,this.turns=e}setOwner(t){this.owner=t}act(){if(this.turns>0){let t,e,n,r;do{r=u.a.getItem([0,1,2,3,4,5,6,7]),e=this.owner.x+M[8][r][0],n=this.owner.y+M[8][r][1],({blocks:t}=Zt(o.a.Game.map,o.a.Game.gameObjects,e,n))}while(!0===t);return this.turns--,ne(r,8)}return this.owner===o.a.Game.player?Tt("You are no longer confused"):Tt(this.owner.name+" is no longer confused"),this.owner.ai=this.oldAI,null}}class ce{constructor(t,e){this.owner=null,this.bgColor=t,this.emptyColor=e}setOwner(t){this.owner=t}act(){if(!this.owner||!this.owner.inventoryComponent)throw new Error("Missing inventoryComponent for ChestAI");return 0===this.owner.inventoryComponent.getItems().length?this.owner.graphics.bgColor=this.emptyColor:this.owner.graphics.bgColor=this.bgColor,null}}class he{constructor(){this.owner=null}setOwner(t){this.owner=t}act(){if(!this.owner||!this.owner.inventoryComponent)throw new Error("Missing inventoryComponent for DroppedItemAI");return 0===this.owner.inventoryComponent.getItems().length&&o.a.Game.removeObject(this.owner),null}}var fe=n(74),pe=n.n(fe);class de{constructor(t,e,n,r=null,i=null){this.owner=t,this.name=e,this.turns=n,this.actCallback=r,this.endCallback=i}act(){this.turns--,this.actCallback&&this.actCallback(this.owner),0===this.turns&&this.endCallback&&this.endCallback(this.owner)}}class _e{constructor(t,e,n,r){this.owner=t,this.name=e,this.turns=n,this.modifier=r}act(){this.turns--}modifyStats(t){const e=pe()(t);switch(this.modifier.type){case"add":e[this.modifier.stat]+=this.modifier.value;break;case"multiply":e[this.modifier.stat]*=this.modifier.value;break;default:throw new Error("Bad StatisticEffect type "+this.modifier.type)}return e}}function ve(t,e,n){return new de(t,"Burn",n,(function(t){t.fighter&&t.fighter.takeDamage(e,!1,ze.fire),t===o.a.Game.player?Tt(`You were hurt by the burn for ${e} damage`):Tt(`${t.name} was hurt by the burn for ${e} damage`)}))}function ge(t,e){return Math.floor(Math.random()*(e-t+1)+t)}async function me(){return new Promise(t=>{o.a.window.addEventListener("keydown",t,{once:!0})})}async function ye(){return new Promise(t=>{o.a.Game.canvas.addEventListener("mousedown",t,{once:!0})})}async function be(){let t;o.a.Game.unhookMouseLook(),o.a.Game.render();do{t=await ye()}while(!t||0!==t.button);o.a.Game.hookMouseLook();const e=o.a.Game.display.eventToPosition(t);let n;const r=Kt(o.a.Game.gameObjects,e[0],e[1]);for(let t=0;t<r.length;t++)if(r[t].fighter){n=r[t];break}return n&&n.fighter?n:null}async function we(t,e){return e.fighter.hp>=e.fighter.maxHp?(e===o.a.Game.player?Tt("You are already at full health."):Tt(e.name+" tries and fails to take a health potion"),!1):(e.fighter.heal(t.value),!0)}async function xe(t){o.a.gameEventEmitter.emit("tutorial.spellTargeting");const e=await be();if(null===e)return Tt("Canceled casting"),!1;if(e.fighter.takeDamage(t.value,!1,t.damageType),e.fighter&&t.statusEffectFunc&&u.a.getUniform()<=e.fighter.ailmentSusceptibility){const n=Math.round(.0625*e.fighter.maxHp),r=ge(3,6);e.fighter.addStatusEffect(t.statusEffectFunc(e,n,r))}return!0}async function ke(t,e){let n;do{n=te(o.a.Game.map,o.a.Game.gameObjects,e,16)}while(n===e);if(null===n)return e===o.a.Game.player&&Tt("No target is close enough to use the scroll"),!1;if(n.fighter.takeDamage(t.value,!1,t.damageType),n.fighter&&t.statusEffectFunc&&u.a.getUniform()<=n.fighter.ailmentSusceptibility){const e=Math.round(.0625*n.fighter.maxHp),r=ge(3,6);n.fighter.addStatusEffect(t.statusEffectFunc(n,e,r))}return!0}async function Ae(t){o.a.gameEventEmitter.emit("tutorial.spellTargeting");const e=await be();if(null===e)return!1;Tt(e.name+" is now confused");const n=e.ai;return e.ai=new le(n,t.value),e.ai.owner=e,!0}async function Te(){return Tt("You have been granted Clairvoyance"),function(t){for(let e=0;e<t.length;e++)for(let n=0;n<t[e].length;n++)t[e][n].explored=!0}(o.a.Game.map),!0}async function Se(t,e){if(!e.fighter)throw new Error("user of castHaste must have a fighter");return!(e.fighter.getStatisticEffects().filter(t=>"Haste"===t.name).length>0)&&(e.fighter.addStatisticEffect(function(t,e){if(!t.fighter)throw new Error("user of createHasteEffect must have a fighter");return new _e(t,"Haste",e,{stat:"speed",type:"multiply",value:2})}(e,t.value)),!0)}async function je(t){const e=await be();if(null===e)return Tt("Canceled casting"),!1;return e.fighter.getStatusEffects().filter(t=>"Slow"===t.name).length>0?(Tt(e.name+" is already slowed"),!1):(Tt("Spell hits and slows "+e.name),e.fighter.addStatisticEffect(function(t,e){if(!t.fighter)throw new Error("user of createHasteEffect must have a fighter");return new _e(t,"Slow",e,{stat:"speed",type:"multiply",value:.5})}(e,t.value)),!0)}const Ee=70,Ce=45,Oe=6,Me="black",Ie="black",Pe="rgb(50, 50, 50)",Le="rgb(50, 50, 50)",Fe="#",Re=10,Ne=50,Ge=150,ze={physical:1,fire:2,electric:3,water:4,nature:5};Object.freeze(ze);const De=ct()(ze);Object.freeze(De);const Be={weak:2,normal:1,strong:.5,nullified:0};Object.freeze(Be);const He={780:{name:"Gravestone",char:"",fgColor:"white",bgColor:"brown",fgColorExplored:"white",bgColorExplored:"black",blocks:!0,blocksSight:!1,reflectivity:.18},900:{name:"empty ground",char:"",fgColor:"white",bgColor:"white",fgColorExplored:Pe,bgColorExplored:Pe,blocks:!1,blocksSight:!1,reflectivity:.18},980:{name:"A stove",char:"",fgColor:"black",bgColor:"brown",fgColorExplored:"white",bgColorExplored:"black",blocks:!0,blocksSight:!1,reflectivity:.18},1048:{name:"A wall",char:"",fgColor:"#352620",bgColor:"#352620",fgColorExplored:"rgb(20, 20, 20)",bgColorExplored:"rgb(20, 20, 20)",blocks:!0,blocksSight:!0,reflectivity:.18},1165:{name:"A tree",char:"",fgColor:"lightgreen",bgColor:"darkgreen",fgColorExplored:"grey",bgColorExplored:"black",blocks:!0,blocksSight:!0,reflectivity:.18},1543:{name:"bed",char:"",fgColor:"gold",bgColor:"white",fgColorExplored:"white",bgColorExplored:"black",blocks:!0,blocksSight:!1,reflectivity:.18},2710:{name:"A table",char:"",fgColor:"tan",bgColor:"brown",fgColorExplored:"white",bgColorExplored:"black",blocks:!0,blocksSight:!1,reflectivity:.18},2869:{name:"A chair",char:"",fgColor:"black",bgColor:"brown",fgColorExplored:"white",bgColorExplored:"black",blocks:!0,blocksSight:!1,reflectivity:.18},2936:{name:"A cabinet",char:"",fgColor:"black",bgColor:"brown",fgColorExplored:"white",bgColorExplored:"black",blocks:!0,blocksSight:!1,reflectivity:.18}};Object.freeze(He);const Ue={door:{name:"Door",graphics:"basic_graphics",ai:null,inventory:null,fighter:null,interactable:"door_interactable",char:"",fgColor:"white",bgColor:"brown",blocks:!0,blocksSight:!0},load_door:{name:"Door to new area",graphics:"draw_after_seen",ai:null,inventory:null,fighter:null,interactable:"load_level_interactable",char:"",fgColor:"white",bgColor:"black",blocks:!0,blocksSight:!0},stairs:{name:"Stairs",graphics:"draw_after_seen",ai:null,inventory:null,fighter:null,interactable:"load_level_interactable",char:"",fgColor:"white",bgColor:"black",blocks:!0,blocksSight:!1},chest:{name:"Chest",graphics:"draw_after_seen",ai:"chest_ai",fighter:null,inventory:"basic_inventory",interactable:"give_items_interactable",char:"*",fgColor:"white",bgColor:"brown",emptyColor:"purple",blocks:!0,blocksSight:!1},crate:{name:"Wooden Crate",graphics:"basic_graphics",ai:null,fighter:"basic_fighter",speed:Re,inventory:"basic_inventory",interactable:null,char:"",fgColor:"white",bgColor:"brown",emptyColor:"purple",blocks:!0,blocksSight:!1,experience:0,experienceGiven:0,maxHp:5,strength:0,defense:0,onDeath:"remove_from_world",damageAffinity:{[ze.physical]:Be.normal,[ze.fire]:Be.weak,[ze.electric]:Be.normal,[ze.water]:Be.normal,[ze.nature]:Be.normal}},barrel:{name:"Wooden Barrel",graphics:"basic_graphics",ai:null,fighter:"basic_fighter",speed:Re,inventory:"basic_inventory",interactable:null,char:"",fgColor:"white",bgColor:"brown",emptyColor:"purple",blocks:!0,blocksSight:!1,experience:0,experienceGiven:0,maxHp:3,strength:0,defense:0,onDeath:"remove_from_world",damageAffinity:{[ze.physical]:Be.normal,[ze.fire]:Be.weak,[ze.electric]:Be.normal,[ze.water]:Be.normal,[ze.nature]:Be.normal}},dead_body:{name:"Dead Body",graphics:"basic_graphics",ai:null,fighter:null,inventory:null,interactable:null,char:"%",fgColor:"black",bgColor:"red",blocks:!1,blocksSight:!1},lantern:{name:"Small Lantern",graphics:"basic_graphics",lighting:"reflectivity",lightingColor:"yellow",lightingRange:4,ai:null,fighter:null,inventory:null,interactable:null,char:"",fgColor:"black",bgColor:"yellow",blocks:!0,blocksSight:!1},campfire:{name:"Small Fire",graphics:"basic_graphics",lighting:"reflectivity",lightingColor:"orange",lightingRange:6,ai:null,fighter:null,inventory:null,interactable:null,char:"",fgColor:"black",bgColor:"orange",blocks:!0,blocksSight:!1},dropped_item:{name:"Dropped Item",graphics:"basic_graphics",ai:"dropped_item_ai",inventory:null,fighter:null,interactable:"give_items_interactable",char:"!",fgColor:"white",bgColor:"brown",blocks:!1,blocksSight:!1},magic_shrine:{name:"Magicka Shrine",graphics:"basic_graphics",ai:null,fighter:null,interactable:"give_spell_interactable",char:"",fgColor:"black",bgColor:"gold",blocks:!0,blocksSight:!1},player:{name:"The Player",graphics:"transparency_graphics",lighting:"player_lighting",lightingColor:"white",lightingRange:7,ai:null,inventory:"basic_inventory",fighter:"basic_fighter",speed:Re,interactable:null,char:"@",fgColor:"blue",blocks:!0,blocksSight:!1,level:1,experience:0,experienceGiven:0,maxHp:100,maxMana:100,strength:3,defense:1,damageAffinity:{[ze.physical]:Be.normal,[ze.fire]:Be.normal,[ze.electric]:Be.normal,[ze.water]:Be.normal,[ze.nature]:Be.normal},onDeath:"default"},goblin:{name:"Goblin",graphics:"transparency_graphics",ai:"basic_monster_ai",fighter:"basic_fighter",speed:Re,inventory:"basic_inventory",interactable:null,char:"G",fgColor:"green",blocks:!0,blocksSight:!1,level:3,experience:0,experienceGiven:50,maxHp:30,maxMana:0,strength:3,defense:1,sightRange:7,damageAffinity:{[ze.physical]:Be.normal,[ze.fire]:Be.normal,[ze.electric]:Be.normal,[ze.water]:Be.normal,[ze.nature]:Be.normal},inventoryPool:[["health_potion_weak",.25]],onDeath:"default"},goblin_brute:{name:"Goblin Brute",graphics:"basic_graphics",ai:"patrolling_monster_ai",fighter:"basic_fighter",speed:Re,inventory:"basic_inventory",interactable:null,char:"G",fgColor:"green",bgColor:"red",blocks:!0,blocksSight:!1,level:10,experience:0,experienceGiven:500,maxHp:100,maxMana:0,strength:7,defense:4,sightRange:7,damageAffinity:{[ze.physical]:Be.normal,[ze.fire]:Be.normal,[ze.electric]:Be.normal,[ze.water]:Be.normal,[ze.nature]:Be.normal},inventoryPool:[["health_potion_weak",.25],["health_potion",.1]],onDeath:"default"},rat:{name:"Rat",graphics:"transparency_graphics",ai:"basic_monster_ai",fighter:"basic_fighter",speed:Re,inventory:"basic_inventory",interactable:null,char:"r",fgColor:"brown",blocks:!0,blocksSight:!1,level:1,experience:0,experienceGiven:10,maxHp:10,maxMana:0,strength:2,defense:1,sightRange:7,damageAffinity:{[ze.physical]:Be.normal,[ze.fire]:Be.normal,[ze.electric]:Be.normal,[ze.water]:Be.normal,[ze.nature]:Be.normal},inventoryPool:[],onDeath:"default"},water_sprite:{name:"Water Sprite",graphics:"basic_graphics",ai:"basic_monster_ai",fighter:"basic_fighter",speed:Re,inventory:"basic_inventory",interactable:null,char:"s",fgColor:"white",bgColor:"blue",blocks:!0,blocksSight:!1,level:1,experience:0,experienceGiven:10,maxHp:10,maxMana:0,strength:2,defense:1,sightRange:7,damageAffinity:{[ze.physical]:Be.normal,[ze.fire]:Be.strong,[ze.electric]:Be.weak,[ze.water]:Be.nullified,[ze.nature]:Be.normal},inventoryPool:[],onDeath:"default"}};Object.freeze(Ue);const We={health_potion_weak:{displayName:"Weak Potion of Healing",value:25,type:"health",useFunc:we},health_potion:{displayName:"Potion of Healing",value:50,type:"health",useFunc:we},health_potion_strong:{displayName:"Strong Potion of Healing",value:100,type:"health",useFunc:we},lightning_scroll_weak:{displayName:"Weak Scroll of Lightning",value:20,type:"damage_scroll",useFunc:xe,damageType:ze.electric},lightning_scroll:{displayName:"Scroll of Lightning",value:50,type:"damage_scroll",useFunc:xe,damageType:ze.electric},lightning_scroll_strong:{displayName:"Strong Scroll of Lightning",value:100,type:"damage_scroll",useFunc:xe,damageType:ze.electric},fireball_scroll_weak:{displayName:"Weak Scroll of Fire",value:20,type:"damage_scroll",useFunc:xe,damageType:ze.fire,statusEffectFunc:ve},fireball_scroll:{displayName:"Scroll of Fire",value:50,type:"damage_scroll",useFunc:xe,damageType:ze.fire,statusEffectFunc:ve},fireball_scroll_strong:{displayName:"Strong Scroll of Fire",value:100,type:"damage_scroll",useFunc:xe,damageType:ze.fire,statusEffectFunc:ve},lightning_scroll_weak_wild:{displayName:"Weak Scroll of Wild Lightning",value:50,type:"wild_damage_scroll",useFunc:ke,damageType:ze.electric},lightning_scroll_wild:{displayName:"Scroll of Wild Lightning",value:100,type:"wild_damage_scroll",useFunc:ke,damageType:ze.electric},lightning_scroll_strong_wild:{displayName:"Strong Scroll of Wild Lightning",value:150,type:"wild_damage_scroll",useFunc:ke,damageType:ze.electric},fireball_scroll_weak_wild:{displayName:"Weak Scroll of Wild Fire",value:50,type:"wild_damage_scroll",useFunc:ke,damageType:ze.fire,statusEffectFunc:ve},fireball_scroll_wild:{displayName:"Scroll of Wild Fire",value:100,type:"wild_damage_scroll",useFunc:ke,damageType:ze.fire,statusEffectFunc:ve},fireball_scroll_strong_wild:{displayName:"Strong Scroll of Wild Fire",value:150,type:"wild_damage_scroll",useFunc:ke,damageType:ze.fire,statusEffectFunc:ve},confuse_scroll:{displayName:"Scroll of Confuse Enemy",value:8,type:"confuse_scroll",useFunc:Ae},clairvoyance_scroll:{displayName:"Scroll of Clairvoyance",type:"clairvoyance_scroll",useFunc:Te},haste_potion_weak:{displayName:"Weak Potion of Haste",value:5,type:"haste",useFunc:Se},slow_poison_weak:{displayName:"Weak Poison of Slow",value:5,type:"slow",useFunc:je}};Object.freeze(We);const $e={lightning_bolt:{displayName:"Lightning Bolt",manaCost:50,value:20,type:"damage",damageType:ze.electric,useFunc:xe},wild_lightning_bolt:{displayName:"Lightning Bolt",manaCost:60,value:30,type:"wild",damageType:ze.electric,useFunc:ke},fireball:{displayName:"Fireball",manaCost:50,value:20,type:"damage",damageType:ze.fire,useFunc:xe},wild_fireball:{displayName:"Wild Fireball",manaCost:60,value:30,type:"wild",damageType:ze.fire,useFunc:ke},confuse:{displayName:"Confuse",manaCost:50,value:8,type:"effect",useFunc:Ae},clairvoyance:{displayName:"Clairvoyance",manaCost:50,type:"passive",useFunc:Te},lesser_heal:{displayName:"Lesser Heal",manaCost:50,value:25,type:"heal",useFunc:we},heal:{displayName:"Heal",manaCost:50,value:50,type:"heal",useFunc:we},greater_heal:{displayName:"Greater Heal",manaCost:50,value:100,type:"heal",useFunc:we},lesser_haste:{displayName:"Lesser Haste",manaCost:100,value:6,type:"effect",useFunc:Se},lesser_slow:{displayName:"Lesser Slow",manaCost:100,value:6,type:"effect",useFunc:je}};Object.freeze($e);const qe={forrest_001:ft.a,durdwin_001:dt.a,dev_room:vt.a};Object.freeze(qe);const Xe={gameplay:1,openingCinematic:2,winCinematic:3,loseCinematic:4,pauseMenu:5,inventoryMenu:6,spellMenu:7};Object.freeze(Xe);class Ve{constructor(){this.x=0,this.y=0,this.following=null}follow(t){this.following=t}update(t){this.x=Math.floor(this.following.x-Ee/2),this.y=Math.floor(this.following.y-(Ce-Oe)/2),this.x=Math.max(0,Math.min(this.x,t.length)),this.y=Math.max(0,Math.min(this.y,t[0].length))}worldToScreen(t,e){return{x:t-this.x,y:e-this.y}}screenToWorld(t,e){return{x:t+this.x,y:e+this.y}}}const Ye={movement:!1,attack:!1,inventory:!1,spellMenu:!1,spellTargeting:!1,wildSpells:!1};function Ke(){Ye.movement||(Tt("Move with WASD and QEZC. Look at things with the mouse.","tutorial"),Ye.movement=!0)}function Ze(){Ye.attack||(Tt("Move into an enemy's tile to attack","tutorial"),nt(),Ye.attack=!0)}function Qe(){Ye.inventory||(Tt("Use i to open your inventory","tutorial"),nt(),Ye.inventory=!0)}function Je(){Ye.spellMenu||(Tt("Press m to open your spells","tutorial"),nt(),Ye.spellMenu=!0)}function tn(){Ye.spellMenu||(Tt("Press g pick up items","tutorial"),nt(),Ye.spellMenu=!0)}function en(){Ye.spellTargeting||(Tt("Left click on an enemy to target it, click elsewhere to cancel","tutorial"),nt(),Ye.spellTargeting=!0)}function nn(){Ye.wildSpells||(Tt("Wild spells will randomly target an enemy within range. Use them carefully.","tutorial"),nt(),Ye.wildSpells=!0)}function rn(t){const[e,n]=o.a.Game.display.eventToPosition(t),r=Kt(o.a.Game.gameObjects,e,n)[0],i=o.a.Game.map[n][e];i.isVisibleAndLit()?r&&r.name&&r.ai&&r.ai.state?"wander"===r.ai.state?Tt("A "+r.name+", it hasn't seen you."):Tt("A "+r.name):r&&r.name?Tt(r.name):r||Tt(i.name):Tt("Can't see what's there.")}o.a.gameEventEmitter=new s.a;o.a.window=window,o.a.document=document,o.a.Game=new class{constructor(){this.state=Xe.openingCinematic,this.canvas=null,this.display=null,this.player=null,this.scheduler=new G.Speed,this.gameObjects=[],this.map=[],this.volumes=[],this.pathNodes=[],this.totalTurns=0;{this.display=new L({width:Ee,height:Ce,fontSize:13,forceSquareRatio:!0}),this.canvas=this.display.getContainer(),o.a.document.getElementById("canvas").prepend(this.canvas);const t=o.a.document.getElementById("loading");t.parentNode.removeChild(t)}this.keyCommands=[{key:"w",description:"Move Up",command:ne(0,8)},{key:"e",description:"Move Up Right",command:ne(1,8)},{key:"d",description:"Move Right",command:ne(2,8)},{key:"c",description:"Move Down Right",command:ne(3,8)},{key:"s",description:"Move Down",command:ne(4,8)},{key:"z",description:"Move Down Left",command:ne(5,8)},{key:"a",description:"Move Left",command:ne(6,8)},{key:"q",description:"Move Up Left",command:ne(7,8)},{key:"i",description:"Inventory",command:function(){return o.a.gameEventEmitter.emit("ui.openInventory"),o.a.Game.state=Xe.inventoryMenu,!1}},{key:"g",description:"Get Item",command:function(t){const e=o.a.Game.gameObjects.filter(e=>"dropped_item"===e.type&&e.x===t.x&&e.y===t.y);return e.length>0?(e[0].interactable.interact(t),!0):(Tt("There's no item to pick up"),!1)}},{key:"m",description:"Spells",command:function(){return o.a.gameEventEmitter.emit("ui.openSpells"),o.a.Game.state=Xe.spellMenu,!1}}],this.keyBindingMenu=new Et,this.inventoryMenu=new St,this.spellSelectionMenu=new jt,this.gameCamera=new Ve}reset(){this.player=Ut("player",1,1),this.map=[],this.gameObjects=[],this.totalTurns=0,this.scheduler.clear(),this.scheduler.add(this.player),this.gameCamera.follow(this.player),this.loadLevel("forrest_001");o.a.document.getElementById("log").innerHTML=""}async startGameplay(){this.display.drawText(Ee-(Ee-28),22,"%c{white}Loading Sounds");try{await async function(){await Promise.all([new Promise((function(t,e){X.uiClick=new q.Howl({src:["bin/sounds/click.mp3"],onload:t,onloaderror:e})})),new Promise((function(t,e){X.uiRollover=new q.Howl({src:["bin/sounds/rollover.mp3"],onload:t,onloaderror:e})})),new Promise((function(t,e){X.bookFlip=new q.Howl({src:["bin/sounds/book_flip.mp3"],onload:t,onloaderror:e})})),new Promise((function(t,e){X.bookFlip2=new q.Howl({src:["bin/sounds/book_flip2.mp3"],onload:t,onloaderror:e})})),new Promise((function(t,e){X.handleLeather=new q.Howl({src:["bin/sounds/handle_small_leather1.mp3"],onload:t,onloaderror:e})})),new Promise((function(t,e){X.handleLeather2=new q.Howl({src:["bin/sounds/handle_small_leather2.mp3"],onload:t,onloaderror:e})})),new Promise((function(t,e){X.ping=new q.Howl({src:["bin/sounds/ping.mp3"],onload:t,onloaderror:e,volume:.2})})),new Promise((function(t,e){X.doorOpening=new q.Howl({src:["bin/sounds/door_open.mp3"],onload:t,onloaderror:e,volume:.5})})),new Promise((function(t,e){X.chestOpening=new q.Howl({src:["bin/sounds/chest_open.mp3"],onload:t,onloaderror:e,volume:.5})})),new Promise((function(t,e){X.boxBreaking=new q.Howl({src:["bin/sounds/box_break.mp3"],onload:t,onloaderror:e,volume:.1})})),new Promise((function(t,e){X.forrestTheme=new q.Howl({src:["bin/sounds/water_prelude.mp3"],onload:t,onloaderror:e,volume:0,loop:!0})}))])}()}catch(t){return this.display.clear(),void this.display.drawText(Ee-(Ee-10),22,"%c{white}Error loading game files, please reload the page")}X.caveTheme=new q.Howl({src:["bin/sounds/unpromised.mp3"],volume:0,loop:!0}),o.a.gameEventEmitter.on("ui.openInventory",tt),o.a.gameEventEmitter.on("ui.closeInventory",et),o.a.gameEventEmitter.on("ui.openSpells",Q),o.a.gameEventEmitter.on("ui.closeSpells",J),o.a.gameEventEmitter.on("ui.openKeybinding",st),o.a.gameEventEmitter.on("ui.openKeybinding",K),o.a.gameEventEmitter.on("ui.closeKeybinding",ut),o.a.gameEventEmitter.on("ui.closeKeybinding",K),o.a.gameEventEmitter.on("ui.select",K),o.a.gameEventEmitter.on("ui.cursorMove",Z),o.a.gameEventEmitter.on("level.loaded",at),o.a.gameEventEmitter.on("door.open",rt),o.a.gameEventEmitter.on("chest.open",it),o.a.gameEventEmitter.on("crate.break",ot),o.a.gameEventEmitter.on("barrel.break",ot),o.a.gameEventEmitter.on("tutorial.start",Ke),o.a.gameEventEmitter.on("tutorial.attacking",Ze),o.a.gameEventEmitter.on("tutorial.inventory",Qe),o.a.gameEventEmitter.on("tutorial.spellMenu",Je),o.a.gameEventEmitter.on("tutorial.pickUpItem",tn),o.a.gameEventEmitter.on("tutorial.spellTargeting",en),o.a.gameEventEmitter.on("tutorial.wildSpells",nn),this.player=Ut("player",1,1),this.scheduler.add(this.player),this.gameCamera.follow(this.player),o.a.gameEventEmitter.emit("tutorial.start"),this.mainLoop()}render(){switch(this.state){case Xe.gameplay:this.display.clear(),this.gameCamera.update(this.map),function(t){for(let e=0;e<t.length;e++)for(let n=0;n<t[e].length;n++)t[e][n].visible=!1,t[e][n].lightingColor=Le}(this.map),this.gameObjects.filter(t=>t.lighting&&"function"==typeof t.lighting.compute).forEach(t=>t.lighting.compute(this.map)),function(t,e,n){for(let r=0;r<n.length;r++)for(let i=0;i<n[r].length;i++){const{x:o,y:a}=e.worldToScreen(i,r);Qt(t,n[r][i],o,a)}}(this.display,this.gameCamera,this.map),this.gameObjects.filter(t=>t.graphics&&"function"==typeof t.graphics.draw).sort((t,e)=>!t.fighter&&e.fighter?-1:t.fighter||e.fighter?t.fighter&&!e.fighter?1:0:-1).forEach(t=>t.graphics.draw(this.display,this.gameCamera,this.map,this.gameObjects)),function(t,e){for(let e=0;e<Ee;e++)for(let n=0;n<Oe;n++)t.draw(e,Ce-(Oe-n),Fe,"blue","blue");const n=e.fighter.getEffectiveStats();t.drawText(1,Ce-Oe,"%c{white}%b{blue}HP: "+n.hp+"/"+n.maxHp),t.drawText(14,Ce-Oe,"%c{white}%b{blue}Mana: "+n.mana+"/"+n.maxMana),t.drawText(30,Ce-Oe,"%c{white}%b{blue}STR: "+n.strength),t.drawText(38,Ce-Oe,"%c{white}%b{blue}DEF: "+n.defense),t.drawText(54,Ce-Oe,"%c{white}%b{blue}EXP: "+e.fighter.experience+"/"+(Ne+e.fighter.level*Ge))}(this.display,this.player);break;case Xe.pauseMenu:this.keyBindingMenu.draw(this.keyCommands);break;case Xe.inventoryMenu:this.inventoryMenu.draw(this.player.inventoryComponent.getItems());break;case Xe.spellMenu:this.spellSelectionMenu.draw(this.player.fighter.getKnownSpells());break;case Xe.openingCinematic:this.display.clear(),this.display.drawText(Ee-(Ee-7),12,"%c{white}Your country is being overrun by the forces of darkness"),this.display.drawText(Ee-(Ee-8),15,"%c{white}Tales tell of a weapon of great power lost in the"),this.display.drawText(Ee-(Ee-4),16,"%c{white}lands beyond the dwarf stronghold Durdwin, under the Red Hills."),this.display.drawText(Ee-(Ee-17),18,"%c{white}None who have entered have returned"),this.display.drawText(Ee-(Ee-14),20,"%c{white}It is the last hope of a desperate people"),this.display.drawText(Ee-(Ee-16),21,"%c{white}You have volunteered to retrieve it"),this.display.drawText(Ee-(Ee-24),27,"%c{white}Press [enter] to start");break;case Xe.loseCinematic:this.display.clear(),this.display.drawText(Ee-(Ee-5),12,"%c{white}You have died, and the last hope of your people dies with you"),this.display.drawText(Ee-(Ee-18),24,"%c{white}Press [enter] to restart the game");break;case Xe.winCinematic:this.display.clear(),this.display.drawText(Ee-(Ee-12),12,"%c{white}You have reached the bottom and have retrieved"),this.display.drawText(Ee-(Ee-16),13,"%c{white}the fabled weapon and saved your people"),this.display.drawText(Ee-(Ee-18),24,"%c{white}Press [enter] to restart the game");break;default:throw new Error("Unknown state "+this.state)}}loadLevel(t){const{map:e,playerLocation:n,objects:r,volumes:i,pathNodes:a}=function(t){if(!(t in qe))throw new Error(t+" is not a valid level");const e=qe[t],n=e.tileheight,r=[],i=[],o=[],a=new Map;let s=null;const u=At()(e.layers.filter(t=>"Tile Layer"===t.name),"[0]"),l=At()(e.layers.filter(t=>"Object Layer"===t.name),"[0]");if(!u)throw new Error("No tile layer in map "+t);if(!l)throw new Error("No object layer in map "+t);const c=u.data.map(t=>{if(!(t in He))throw new Error(t+" is not valid tile");const e=He[t];return new Xt(e.name,e.char,e.fgColor,e.bgColor,e.fgColorExplored,e.bgColorExplored,e.blocks,e.blocksSight)});for(let t=0;t<c.length;t+=e.width)r.push(c.slice(t,t+e.width));return l.objects.forEach(t=>{if(t.point)if("object"===t.type){const e=Yt(t,"objectType"),r=Yt(t,"inventory"),o=Yt(t,"levelName"),a=Yt(t,"spellId"),u=Yt(t,"pathName");if(!e)throw new Error("No id for "+t.name);if("player"===e)s=[Math.floor(t.x/n),Math.floor(t.y/n)];else{const s=Ut(e,Math.floor(t.x/n),Math.floor(t.y/n));r&&s.inventoryComponent&&r.split(",").forEach(t=>s.inventoryComponent.addItem(t)),o&&s.interactable&&s.interactable.setLevel&&s.interactable.setLevel(o),a&&s.interactable&&s.interactable.setSpell&&s.interactable.setSpell(a),u&&s.ai&&s.ai.setPath&&s.ai.setPath(u),i.push(s)}}else{if("path_node"!==t.type)throw new Error("Unrecognized object type "+t.type);{const e=Yt(t,"next"),r=Yt(t,"pathName"),i=Math.floor(t.x/n),o=Math.floor(t.y/n);a.set(t.id,new Vt(r,i,o,e))}}else if("Rectangle"===t.type){const e=Math.floor(t.x/n),r=Math.floor(t.y/n),i=Math.ceil(t.width/n),a=Math.ceil(t.height/n);if("trigger_volume"===Yt("type")){const t=Yt("event");o.push(new qt(e,r,i,a,t))}}}),{map:r,playerLocation:s,objects:i,volumes:o,pathNodes:a}}(t);this.map=e,r.push(this.player),this.gameObjects=r,this.volumes=i,this.pathNodes=a,this.player.x=n[0],this.player.y=n[1],this.scheduler.clear(),this.gameObjects.forEach(t=>this.scheduler.add(t,!0)),o.a.gameEventEmitter.emit("level.loaded",t)}async handleInput(){let t;do{this.render();const e=await me();if(e.preventDefault(),this.state===Xe.gameplay){if("Escape"===e.key){o.a.gameEventEmitter.emit("ui.openKeybinding"),this.state=Xe.pauseMenu;continue}if(-1===this.keyCommands.map(t=>t.key).indexOf(e.key)){t=!1;continue}t=(0,this.keyCommands.filter(t=>t.key===e.key)[0].command)(this.player)}else if(this.state===Xe.pauseMenu){if("Escape"===e.key){o.a.gameEventEmitter.emit("ui.closeKeybinding"),this.state=Xe.gameplay,this.keyBindingMenu.resetState(),this.render();continue}this.keyBindingMenu.handleInput(e.key,this.keyCommands)}else if(this.state===Xe.inventoryMenu){if("Escape"===e.key){o.a.gameEventEmitter.emit("ui.closeInventory"),this.state=Xe.gameplay,this.inventoryMenu.resetState(),this.render();continue}const n=this.inventoryMenu.handleInput(e.key,this.player.inventoryComponent.getItems());n&&(this.state=Xe.gameplay,this.render(),t=await n(this.player),t||(this.state=Xe.inventoryMenu))}else if(this.state===Xe.spellMenu){if("Escape"===e.key){o.a.gameEventEmitter.emit("ui.closeSpells"),this.state=Xe.gameplay,this.spellSelectionMenu.resetState(),this.render();continue}const n=this.spellSelectionMenu.handleInput(e.key,this.player.fighter.getKnownSpells());n&&(this.state=Xe.gameplay,this.render(),t=await n(this.player),t||(this.state=Xe.spellMenu))}else this.state===Xe.openingCinematic?"Enter"===e.key&&(this.hookMouseLook(),this.loadLevel("forrest_001"),this.state=Xe.gameplay):this.state===Xe.winCinematic?"Enter"===e.key&&(this.reset(),this.state=Xe.gameplay):this.state===Xe.loseCinematic&&"Enter"===e.key&&(this.reset(),this.state=Xe.gameplay)}while(!t)}async mainLoop(){for(;;){const t=this.scheduler.next();t===this.player&&(this.totalTurns++,await this.handleInput()),t.act(this.map,this.gameObjects,this.pathNodes),(null===this.player.fighter||this.player.fighter.hp<=0)&&(this.state=Xe.loseCinematic);const e=ee(this.volumes,t);e.length&&e.forEach(e=>e.enter(t))}}hookMouseLook(){this.canvas.addEventListener("mousedown",rn)}unhookMouseLook(){this.canvas.removeEventListener("mousedown",rn)}addObject(t){this.gameObjects.push(t),this.scheduler.add(this.gameObjects[this.gameObjects.length-1],!0)}removeObject(t){this.gameObjects.splice(this.gameObjects.indexOf(t),1),this.scheduler.remove(t)}getTurnNumber(){return this.totalTurns}},o.a.Game.startGameplay()}]);