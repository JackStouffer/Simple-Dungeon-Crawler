!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=18)}([function(e,t,i){var n=i(14),r=i(15);void 0===r.globals&&(r.globals=n),e.exports=n},function(e,t,i){"use strict";const n=2.3283064365386963e-10;class r{constructor(){this._seed=0,this._s0=0,this._s1=0,this._s2=0,this._c=0}getSeed(){return this._seed}setSeed(e){return e=e<1?1/e:e,this._seed=e,this._s0=(e>>>0)*n,e=69069*e+1>>>0,this._s1=e*n,e=69069*e+1>>>0,this._s2=e*n,this._c=1,this}getUniform(){let e=2091639*this._s0+this._c*n;return this._s0=this._s1,this._s1=this._s2,this._c=0|e,this._s2=e-this._c,this._s2}getUniformInt(e,t){let i=Math.max(e,t),n=Math.min(e,t);return Math.floor(this.getUniform()*(i-n+1))+n}getNormal(e=0,t=1){let i,n,r;do{i=2*this.getUniform()-1,n=2*this.getUniform()-1,r=i*i+n*n}while(r>1||0==r);return e+i*Math.sqrt(-2*Math.log(r)/r)*t}getPercentage(){return 1+Math.floor(100*this.getUniform())}getItem(e){return e.length?e[Math.floor(this.getUniform()*e.length)]:null}shuffle(e){let t=[],i=e.slice();for(;i.length;){let e=i.indexOf(this.getItem(i));t.push(i.splice(e,1)[0])}return t}getWeightedValue(e){let t=0;for(let i in e)t+=e[i];let i,n=this.getUniform()*t,r=0;for(i in e)if(r+=e[i],n<r)return i;return i}getState(){return[this._s0,this._s1,this._s2,this._c]}setState(e){return this._s0=e[0],this._s1=e[1],this._s2=e[2],this._c=e[3],this}clone(){return(new r).setState(this.getState())}}t.a=(new r).setSeed(Date.now())},function(e,t,i){"use strict";function n(e,t){return(e%t+t)%t}function r(e,t=0,i=1){return e<t?t:e>i?i:e}function o(e){return e.charAt(0).toUpperCase()+e.substring(1)}function s(e,...t){let i=s.map;return e.replace(/%(?:([a-z]+)|(?:{([^}]+)}))/gi,(function(n,r,s,a){if("%"==e.charAt(a-1))return n.substring(1);if(!t.length)return n;let l=t[0],h=(r||s).split(","),c=h.shift()||"",u=i[c.toLowerCase()];if(!u)return n;l=t.shift();let p=l[u].apply(l,h),d=c.charAt(0);return d!=d.toLowerCase()&&(p=o(p)),p}))}i.r(t),i.d(t,"mod",(function(){return n})),i.d(t,"clamp",(function(){return r})),i.d(t,"capitalize",(function(){return o})),i.d(t,"format",(function(){return s})),s.map={s:"toString"}},function(e,t,i){"use strict";i.r(t),i.d(t,"fromString",(function(){return o})),i.d(t,"add",(function(){return s})),i.d(t,"add_",(function(){return a})),i.d(t,"multiply",(function(){return l})),i.d(t,"multiply_",(function(){return h})),i.d(t,"interpolate",(function(){return c})),i.d(t,"lerp",(function(){return u})),i.d(t,"interpolateHSL",(function(){return p})),i.d(t,"lerpHSL",(function(){return d})),i.d(t,"randomize",(function(){return g})),i.d(t,"rgb2hsl",(function(){return f})),i.d(t,"hsl2rgb",(function(){return y})),i.d(t,"toRGB",(function(){return _})),i.d(t,"toHex",(function(){return v}));var n=i(2),r=i(1);function o(e){let t,i;if(e in w)t=w[e];else{if("#"==e.charAt(0)){let i=(e.match(/[0-9a-f]/gi)||[]).map(e=>parseInt(e,16));if(3==i.length)t=i.map(e=>17*e);else{for(let e=0;e<3;e++)i[e+1]+=16*i[e],i.splice(e,1);t=i}}else t=(i=e.match(/rgb\(([0-9, ]+)\)/i))?i[1].split(/\s*,\s*/).map(e=>parseInt(e)):[0,0,0];w[e]=t}return t.slice()}function s(e,...t){let i=e.slice();for(let e=0;e<3;e++)for(let n=0;n<t.length;n++)i[e]+=t[n][e];return i}function a(e,...t){for(let i=0;i<3;i++)for(let n=0;n<t.length;n++)e[i]+=t[n][i];return e}function l(e,...t){let i=e.slice();for(let e=0;e<3;e++){for(let n=0;n<t.length;n++)i[e]*=t[n][e]/255;i[e]=Math.round(i[e])}return i}function h(e,...t){for(let i=0;i<3;i++){for(let n=0;n<t.length;n++)e[i]*=t[n][i]/255;e[i]=Math.round(e[i])}return e}function c(e,t,i=.5){let n=e.slice();for(let r=0;r<3;r++)n[r]=Math.round(n[r]+i*(t[r]-e[r]));return n}const u=c;function p(e,t,i=.5){let n=f(e),r=f(t);for(let e=0;e<3;e++)n[e]+=i*(r[e]-n[e]);return y(n)}const d=p;function g(e,t){t instanceof Array||(t=Math.round(r.a.getNormal(0,t)));let i=e.slice();for(let e=0;e<3;e++)i[e]+=t instanceof Array?Math.round(r.a.getNormal(0,t[e])):t;return i}function f(e){let t,i=e[0]/255,n=e[1]/255,r=e[2]/255,o=Math.max(i,n,r),s=Math.min(i,n,r),a=0,l=(o+s)/2;if(o==s)t=0;else{let e=o-s;switch(t=l>.5?e/(2-o-s):e/(o+s),o){case i:a=(n-r)/e+(n<r?6:0);break;case n:a=(r-i)/e+2;break;case r:a=(i-n)/e+4}a/=6}return[a,t,l]}function m(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function y(e){let t=e[2];if(0==e[1])return t=Math.round(255*t),[t,t,t];{let i=e[1],n=t<.5?t*(1+i):t+i-t*i,r=2*t-n,o=m(r,n,e[0]+1/3),s=m(r,n,e[0]),a=m(r,n,e[0]-1/3);return[Math.round(255*o),Math.round(255*s),Math.round(255*a)]}}function _(e){return`rgb(${e.map(e=>Object(n.clamp)(e,0,255)).join(",")})`}function v(e){return"#"+e.map(e=>Object(n.clamp)(e,0,255).toString(16).padStart(2,"0")).join("")}const w={black:[0,0,0],navy:[0,0,128],darkblue:[0,0,139],mediumblue:[0,0,205],blue:[0,0,255],darkgreen:[0,100,0],green:[0,128,0],teal:[0,128,128],darkcyan:[0,139,139],deepskyblue:[0,191,255],darkturquoise:[0,206,209],mediumspringgreen:[0,250,154],lime:[0,255,0],springgreen:[0,255,127],aqua:[0,255,255],cyan:[0,255,255],midnightblue:[25,25,112],dodgerblue:[30,144,255],forestgreen:[34,139,34],seagreen:[46,139,87],darkslategray:[47,79,79],darkslategrey:[47,79,79],limegreen:[50,205,50],mediumseagreen:[60,179,113],turquoise:[64,224,208],royalblue:[65,105,225],steelblue:[70,130,180],darkslateblue:[72,61,139],mediumturquoise:[72,209,204],indigo:[75,0,130],darkolivegreen:[85,107,47],cadetblue:[95,158,160],cornflowerblue:[100,149,237],mediumaquamarine:[102,205,170],dimgray:[105,105,105],dimgrey:[105,105,105],slateblue:[106,90,205],olivedrab:[107,142,35],slategray:[112,128,144],slategrey:[112,128,144],lightslategray:[119,136,153],lightslategrey:[119,136,153],mediumslateblue:[123,104,238],lawngreen:[124,252,0],chartreuse:[127,255,0],aquamarine:[127,255,212],maroon:[128,0,0],purple:[128,0,128],olive:[128,128,0],gray:[128,128,128],grey:[128,128,128],skyblue:[135,206,235],lightskyblue:[135,206,250],blueviolet:[138,43,226],darkred:[139,0,0],darkmagenta:[139,0,139],saddlebrown:[139,69,19],darkseagreen:[143,188,143],lightgreen:[144,238,144],mediumpurple:[147,112,216],darkviolet:[148,0,211],palegreen:[152,251,152],darkorchid:[153,50,204],yellowgreen:[154,205,50],sienna:[160,82,45],brown:[165,42,42],darkgray:[169,169,169],darkgrey:[169,169,169],lightblue:[173,216,230],greenyellow:[173,255,47],paleturquoise:[175,238,238],lightsteelblue:[176,196,222],powderblue:[176,224,230],firebrick:[178,34,34],darkgoldenrod:[184,134,11],mediumorchid:[186,85,211],rosybrown:[188,143,143],darkkhaki:[189,183,107],silver:[192,192,192],mediumvioletred:[199,21,133],indianred:[205,92,92],peru:[205,133,63],chocolate:[210,105,30],tan:[210,180,140],lightgray:[211,211,211],lightgrey:[211,211,211],palevioletred:[216,112,147],thistle:[216,191,216],orchid:[218,112,214],goldenrod:[218,165,32],crimson:[220,20,60],gainsboro:[220,220,220],plum:[221,160,221],burlywood:[222,184,135],lightcyan:[224,255,255],lavender:[230,230,250],darksalmon:[233,150,122],violet:[238,130,238],palegoldenrod:[238,232,170],lightcoral:[240,128,128],khaki:[240,230,140],aliceblue:[240,248,255],honeydew:[240,255,240],azure:[240,255,255],sandybrown:[244,164,96],wheat:[245,222,179],beige:[245,245,220],whitesmoke:[245,245,245],mintcream:[245,255,250],ghostwhite:[248,248,255],salmon:[250,128,114],antiquewhite:[250,235,215],linen:[250,240,230],lightgoldenrodyellow:[250,250,210],oldlace:[253,245,230],red:[255,0,0],fuchsia:[255,0,255],magenta:[255,0,255],deeppink:[255,20,147],orangered:[255,69,0],tomato:[255,99,71],hotpink:[255,105,180],coral:[255,127,80],darkorange:[255,140,0],lightsalmon:[255,160,122],orange:[255,165,0],lightpink:[255,182,193],pink:[255,192,203],gold:[255,215,0],peachpuff:[255,218,185],navajowhite:[255,222,173],moccasin:[255,228,181],bisque:[255,228,196],mistyrose:[255,228,225],blanchedalmond:[255,235,205],papayawhip:[255,239,213],lavenderblush:[255,240,245],seashell:[255,245,238],cornsilk:[255,248,220],lemonchiffon:[255,250,205],floralwhite:[255,250,240],snow:[255,250,250],yellow:[255,255,0],lightyellow:[255,255,224],ivory:[255,255,240],white:[255,255,255]}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{getContainer(){return null}setOptions(e){this._options=e}}},function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return s}));var n=i(5),r=i(3);function o(e){let t=r.fromString(e);return 36*Math.floor(t[0]*(6/256))+6*Math.floor(t[1]*(6/256))+1*Math.floor(t[2]*(6/256))+16}class s extends n.a{constructor(){super(),this._offset=[0,0],this._cursor=[-1,-1],this._lastColor=""}schedule(e){setTimeout(e,1e3/60)}setOptions(e){super.setOptions(e);let t=[e.width,e.height],i=this.computeSize();this._offset=i.map((e,i)=>Math.floor((e-t[i])/2))}clear(){e.stdout.write(`[0;48;5;${o(this._options.bg)}m[2J`)}draw(t,i){let[n,r,s,a,l]=t,h=this._offset[0]+n,c=this._offset[1]+r,u=this.computeSize();if(h<0||h>=u[0])return;if(c<0||c>=u[1])return;if(h===this._cursor[0]&&c===this._cursor[1]||(e.stdout.write(function(e,t){return`[${t+1};${e+1}H`}(h,c)),this._cursor[0]=h,this._cursor[1]=c),i&&(s||(s=" ")),!s)return;let p=function(e,t){return`[0;38;5;${o(e)};48;5;${o(t)}m`}(a,l);if(p!==this._lastColor&&(e.stdout.write(p),this._lastColor=p),"\t"!=s){let t=[].concat(s);e.stdout.write(t[0])}this._cursor[0]++,this._cursor[0]>=u[0]&&(this._cursor[0]=0,this._cursor[1]++)}computeFontSize(){throw new Error("Terminal backend has no notion of font size")}eventToPosition(e,t){return[e,t]}computeSize(){return[e.stdout.columns,e.stdout.rows]}}}).call(this,i(17))},function(e,t,i){"use strict";var n,r="object"==typeof Reflect?Reflect:null,o=r&&"function"==typeof r.apply?r.apply:function(e,t,i){return Function.prototype.apply.call(e,t,i)};n=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(i,n){function r(){void 0!==o&&e.removeListener("error",o),i([].slice.call(arguments))}var o;"error"!==t&&(o=function(i){e.removeListener(t,r),n(i)},e.once("error",o)),e.once(t,r)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var l=10;function h(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function u(e,t,i,n){var r,o,s,a;if(h(i),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,i.listener?i.listener:i),o=e._events),s=o[t]),void 0===s)s=o[t]=i,++e._eventsCount;else if("function"==typeof s?s=o[t]=n?[i,s]:[s,i]:n?s.unshift(i):s.push(i),(r=c(e))>0&&s.length>r&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,a=l,console&&console.warn&&console.warn(a)}return e}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,i){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},r=p.bind(n);return r.listener=i,n.wrapFn=r,r}function g(e,t,i){var n=e._events;if(void 0===n)return[];var r=n[t];return void 0===r?[]:"function"==typeof r?i?[r.listener||r]:[r]:i?function(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}(r):m(r,r.length)}function f(e){var t=this._events;if(void 0!==t){var i=t[e];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function m(e,t){for(var i=new Array(t),n=0;n<t;++n)i[n]=e[n];return i}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var n="error"===e,r=this._events;if(void 0!==r)n=n&&void 0===r.error;else if(!n)return!1;if(n){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=r[e];if(void 0===l)return!1;if("function"==typeof l)o(l,this,t);else{var h=l.length,c=m(l,h);for(i=0;i<h;++i)o(c[i],this,t)}return!0},a.prototype.addListener=function(e,t){return u(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return u(this,e,t,!0)},a.prototype.once=function(e,t){return h(t),this.on(e,d(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return h(t),this.prependListener(e,d(this,e,t)),this},a.prototype.removeListener=function(e,t){var i,n,r,o,s;if(h(t),void 0===(n=this._events))return this;if(void 0===(i=n[e]))return this;if(i===t||i.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,i.listener||t));else if("function"!=typeof i){for(r=-1,o=i.length-1;o>=0;o--)if(i[o]===t||i[o].listener===t){s=i[o].listener,r=o;break}if(r<0)return this;0===r?i.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(i,r),1===i.length&&(n[e]=i[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,i,n;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete i[e]),this;if(0===arguments.length){var r,o=Object.keys(i);for(n=0;n<o.length;++n)"removeListener"!==(r=o[n])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=i[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},a.prototype.listeners=function(e){return g(this,e,!0)},a.prototype.rawListeners=function(e){return g(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},a.prototype.listenerCount=f,a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t,i){(function(e){var t;t={compressionlevel:-1,editorsettings:{export:{target:"."}},height:39,infinite:!1,layers:[{data:[1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,1543,1048,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,1048,900,900,900,900,900,1048,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,1165,1165,900,900,900,900,1048,900,900,980,2936,2936,1048,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,1165,1165,1165,900,900,900,1048,1048,1048,1048,1048,1048,1048,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,2869,900,900,900,900,2869,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,2869,900,900,2869,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,1165,1165,1165,1165,1165,1165,900,780,900,900,780,900,900,780,900,900,780,900,900,780,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,1165,1165,1165,1165,1165,1165,900,780,900,900,780,900,900,780,900,900,780,900,900,780,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,780,900,900,780,900,900,780,900,900,780,900,900,780,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165],height:39,id:1,name:"Tile Layer 1",opacity:1,type:"tilelayer",visible:!0,width:70,x:0,y:0},{draworder:"topdown",id:2,name:"Object Layer 1",objects:[{height:0,id:1,name:"Fire",point:!0,properties:[{name:"id",type:"string",value:"campfire"}],rotation:0,type:"",visible:!0,width:0,x:1359.43345152199,y:474.20204354433},{height:0,id:2,name:"Crate",point:!0,properties:[{name:"id",type:"string",value:"crate"},{name:"inventory",type:"string",value:"health_potion_weak"}],rotation:0,type:"",visible:!0,width:0,x:1519.48935537457,y:440.741072766735},{height:0,id:3,name:"Crate",point:!0,properties:[{name:"id",type:"string",value:"crate"},{name:"inventory",type:"string",value:""}],rotation:0,type:"",visible:!0,width:0,x:1492.09888714889,y:438.227878496818},{height:0,id:4,name:"Goblin",point:!0,properties:[{name:"id",type:"string",value:"goblin"}],rotation:0,type:"",visible:!0,width:0,x:1443.79118357932,y:520.959011276967},{height:0,id:5,name:"Rat",point:!0,properties:[{name:"id",type:"string",value:"rat"}],rotation:0,type:"",visible:!0,width:0,x:1245.83210514049,y:763.561757996511},{height:0,id:6,name:"Goblin",point:!0,properties:[{name:"id",type:"string",value:"goblin"}],rotation:0,type:"",visible:!0,width:0,x:496.566841292543,y:217.461803109063},{height:0,id:7,name:"Barrel",point:!0,properties:[{name:"id",type:"string",value:"barrel"},{name:"inventory",type:"string",value:""}],rotation:0,type:"",visible:!0,width:0,x:1105.27396337073,y:529.648827795078},{height:0,id:8,name:"Barrel",point:!0,properties:[{name:"id",type:"string",value:"barrel"},{name:"inventory",type:"string",value:""}],rotation:0,type:"",visible:!0,width:0,x:1104.24125747701,y:568.292697425079},{height:0,id:9,name:"Door",point:!0,properties:[{name:"id",type:"string",value:"door"}],rotation:0,type:"",visible:!0,width:0,x:558.804418453541,y:151.072124756335},{height:0,id:10,name:"Barrel",point:!0,properties:[{name:"id",type:"string",value:"barrel"},{name:"inventory",type:"string",value:""}],rotation:0,type:"",visible:!0,width:0,x:595.193249453778,y:217.73525201537},{height:0,id:11,name:"Dead Body",point:!0,properties:[{name:"id",type:"string",value:"dead_body"}],rotation:0,type:"",visible:!0,width:0,x:656.219392752204,y:180.818202365705},{height:0,id:12,name:"Player",point:!0,properties:[{name:"id",type:"string",value:"player"}],rotation:0,type:"",visible:!0,width:0,x:13.8355111452728,y:625.672559569562},{height:0,id:13,name:"Load Door",point:!0,properties:[{name:"id",type:"string",value:"load_door"},{name:"levelName",type:"string",value:"forrest_002"}],rotation:0,type:"",visible:!0,width:0,x:1710.30519759869,y:630.284396617986},{height:0,id:16,name:"Chest",point:!0,properties:[{name:"id",type:"string",value:"chest"},{name:"inventory",type:"string",value:"confuse_scroll"}],rotation:0,type:"",visible:!0,width:0,x:1073.2833237161,y:1112.95441431044},{height:31.7176047570887,id:19,name:"Attacking Tutorial",properties:[{name:"event",type:"string",value:"tutorial.attacking"},{name:"type",type:"string",value:"trigger_volume"}],rotation:0,type:"Rectangle",visible:!0,width:64.5444802463356,x:351.869652825507,y:160.047793152268},{height:31.7176,id:20,name:"Attacking Tutorial",properties:[{name:"event",type:"string",value:"tutorial.attacking"},{name:"type",type:"string",value:"trigger_volume"}],rotation:0,type:"Rectangle",visible:!0,width:64.1585486298727,x:1055.33871101891,y:768.394384098803}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],nextlayerid:3,nextobjectid:21,orientation:"orthogonal",renderorder:"right-down",tiledversion:"1.3.4",tileheight:32,tilesets:[{firstgid:1,source:"DungeonCrawl_ProjectUtumnoTileset.tsx"}],tilewidth:32,type:"map",version:1.2,width:70},"undefined"==typeof onTileMapLoaded?("undefined"==typeof TileMaps&&(TileMaps={}),TileMaps.forrest_001=t):onTileMapLoaded("forrest_001",t),e&&e.exports&&(e.exports=t)}).call(this,i(4)(e))},function(e,t,i){(function(e){var t;t={compressionlevel:-1,editorsettings:{export:{target:"."}},height:39,infinite:!1,layers:[{data:[900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,900,1165,900,900,900,1165,1165,1165,1165,900,1165,1165,1165,1165,900,1165,1165,1165,1165,900,1165,900,900,1165,900,900,1165,1165,1165,1165,900,1165,900,900,900,1165,1165,1165,900,1165,1165,1165,1165,900,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,1165,900,1165,900,900,900,1165,900,900,1165,900,1165,900,900,900,900,1165,900,900,900,900,1165,900,900,1165,900,900,1165,900,900,1165,900,1165,900,900,900,1165,900,1165,900,1165,900,900,900,900,1165,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,900,1165,900,900,900,1165,900,900,1165,900,1165,900,900,900,900,1165,900,900,900,900,1165,900,900,1165,900,900,1165,900,900,1165,900,1165,900,900,900,1165,900,1165,900,1165,900,900,900,900,1165,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,1165,900,900,900,1165,1165,1165,1165,900,1165,900,900,900,900,1165,1165,1165,900,900,1165,1165,1165,1165,900,900,1165,900,900,1165,900,1165,900,900,900,1165,900,1165,900,1165,1165,1165,900,900,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,1165,900,900,900,1165,900,900,1165,900,1165,900,900,900,900,1165,900,900,900,900,1165,900,900,1165,900,900,1165,900,900,1165,900,1165,900,900,900,1165,900,1165,900,1165,900,900,900,900,1165,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,1165,1165,1165,900,1165,900,900,1165,900,1165,1165,1165,1165,900,1165,1165,1165,1165,900,1165,900,900,1165,900,900,1165,1165,1165,1165,900,1165,1165,1165,900,1165,1165,1165,900,1165,1165,1165,1165,900,1165,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900],height:39,id:1,name:"Tile Layer 1",opacity:1,type:"tilelayer",visible:!0,width:70,x:0,y:0},{draworder:"topdown",id:2,name:"Object Layer 1",objects:[{height:0,id:1,name:"Player",point:!0,properties:[{name:"id",type:"string",value:"player"}],rotation:0,type:"",visible:!0,width:0,x:144.772117962466,y:747.98927613941},{height:0,id:2,name:"Load Door",point:!0,properties:[{name:"id",type:"string",value:"load_door"},{name:"levelName",type:"string",value:"forrest_003"}],rotation:0,type:"",visible:!0,width:0,x:1085.7908847185,y:721.179624664879},{height:0,id:3,name:"Load Door",point:!0,properties:[{name:"id",type:"string",value:"load_door"},{name:"levelName",type:"string",value:"forrest_002"}],rotation:0,type:"",visible:!0,width:0,x:75.0670241286862,y:753.351206434316}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],nextlayerid:3,nextobjectid:4,orientation:"orthogonal",renderorder:"right-down",tiledversion:"1.3.4",tileheight:32,tilesets:[{firstgid:1,source:"DungeonCrawl_ProjectUtumnoTileset.tsx"}],tilewidth:32,type:"map",version:1.2,width:70},"undefined"==typeof onTileMapLoaded?("undefined"==typeof TileMaps&&(TileMaps={}),TileMaps.forrest_002=t):onTileMapLoaded("forrest_002",t),e&&e.exports&&(e.exports=t)}).call(this,i(4)(e))},function(e,t,i){(function(e){var t;t={compressionlevel:-1,editorsettings:{export:{target:"."}},height:39,infinite:!1,layers:[{data:[900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,900,1165,900,900,900,1165,1165,1165,1165,900,1165,1165,1165,1165,900,1165,1165,1165,1165,900,1165,900,900,1165,900,900,1165,1165,1165,1165,900,1165,900,900,900,1165,1165,1165,900,1165,1165,1165,1165,900,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,1165,900,1165,900,900,900,1165,900,900,1165,900,1165,900,900,900,900,1165,900,900,900,900,1165,900,900,1165,900,900,1165,900,900,1165,900,1165,900,900,900,1165,900,1165,900,1165,900,900,900,900,1165,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,900,1165,900,900,900,1165,900,900,1165,900,1165,900,900,900,900,1165,900,900,900,900,1165,900,900,1165,900,900,1165,900,900,1165,900,1165,900,900,900,1165,900,1165,900,1165,900,900,900,900,1165,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,1165,900,900,900,1165,1165,1165,1165,900,1165,900,900,900,900,1165,1165,1165,900,900,1165,1165,1165,1165,900,900,1165,900,900,1165,900,1165,900,900,900,1165,900,1165,900,1165,1165,1165,900,900,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,1165,900,900,900,1165,900,900,1165,900,1165,900,900,900,900,1165,900,900,900,900,1165,900,900,1165,900,900,1165,900,900,1165,900,1165,900,900,900,1165,900,1165,900,1165,900,900,900,900,1165,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,900,900,900,900,1165,1165,1165,900,1165,900,900,1165,900,1165,1165,1165,1165,900,1165,1165,1165,1165,900,1165,900,900,1165,900,900,1165,1165,1165,1165,900,1165,1165,1165,900,1165,1165,1165,900,1165,1165,1165,1165,900,1165,900,900,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900],height:39,id:1,name:"Tile Layer 1",opacity:1,type:"tilelayer",visible:!0,width:70,x:0,y:0},{draworder:"topdown",id:2,name:"Object Layer 1",objects:[{height:0,id:4,name:"Player",point:!0,properties:[{name:"id",type:"string",value:"player"}],rotation:0,type:"",visible:!0,width:0,x:222.742046820313,y:729.815970019151},{height:0,id:5,name:"Load Door",point:!0,properties:[{name:"id",type:"string",value:"load_door"},{name:"levelName",type:"string",value:"forrest_004"}],rotation:0,type:"",visible:!0,width:0,x:1163.76004682031,y:703.006970019151},{height:0,id:6,name:"Load Door",point:!0,properties:[{name:"id",type:"string",value:"load_door"},{name:"levelName",type:"string",value:"forrest_002"}],rotation:0,type:"",visible:!0,width:0,x:153.037046820313,y:735.177970019151}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],nextlayerid:3,nextobjectid:7,orientation:"orthogonal",renderorder:"right-down",tiledversion:"1.3.4",tileheight:32,tilesets:[{firstgid:1,source:"DungeonCrawl_ProjectUtumnoTileset.tsx"}],tilewidth:32,type:"map",version:1.2,width:70},"undefined"==typeof onTileMapLoaded?("undefined"==typeof TileMaps&&(TileMaps={}),TileMaps.forrest_003=t):onTileMapLoaded("forrest_003",t),e&&e.exports&&(e.exports=t)}).call(this,i(4)(e))},function(e,t,i){(function(e){var t;t={compressionlevel:-1,editorsettings:{export:{target:"."}},height:39,infinite:!1,layers:[{data:[1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1165,1165,1165,1165,1165,900,900,900,900,900,900,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1165,1165,1165,1165,1165,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1165,1165,1165,1165,1165,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1165,1165,1165,1165,1165,900,900,900,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1165,1165,1165,1165,1165,900,900,900,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1165,1165,1165,1165,1165,900,900,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1165,1165,1165,1165,1165,900,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1165,1165,1165,1165,1165,900,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1165,1165,1165,1165,1165,900,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1165,1165,1165,1165,1165,900,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1165,1165,1165,1165,1165,900,900,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1165,1165,1165,1165,1165,900,900,900,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1165,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1165,1165,1165,1165,1165,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,900,900,900,900,900,900,900,900,900,900,900,900,900,1165,1165,1165,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1165,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048],height:39,id:1,name:"World",opacity:1,type:"tilelayer",visible:!0,width:70,x:0,y:0},{draworder:"topdown",id:4,name:"Object Layer 1",objects:[{height:0,id:4,name:"Player",point:!0,properties:[{name:"id",type:"string",value:"player"}],rotation:0,type:"",visible:!0,width:0,x:10.9504247622752,y:631.994160204148},{height:0,id:5,name:"Rat",point:!0,properties:[{name:"id",type:"string",value:"rat"}],rotation:0,type:"",visible:!0,width:0,x:1034.21306581315,y:637.979450172237},{height:0,id:10,name:"Rat",point:!0,properties:[{name:"id",type:"string",value:"rat"}],rotation:0,type:"",visible:!0,width:0,x:946.647780925402,y:1192.16241737488},{height:0,id:11,name:"Door",point:!0,properties:[{name:"id",type:"string",value:"load_door"},{name:"levelName",type:"string",value:"durdwin_001"}],rotation:0,type:"",visible:!0,width:0,x:1553.3522190746,y:567.853960595562},{height:0,id:12,name:"Lantern",point:!0,properties:[{name:"id",type:"string",value:"lantern"}],rotation:0,type:"",visible:!0,width:0,x:1492.09884474265,y:443.42795991692},{height:0,id:17,name:"Crate",point:!0,properties:[{name:"id",type:"string",value:"crate"},{name:"inventory",type:"string",value:"health_potion_weak"}],rotation:0,type:"",visible:!0,width:0,x:528.565696038229,y:52.1822201259912},{height:0,id:18,name:"Lantern",point:!0,properties:[{name:"id",type:"string",value:"lantern"}],rotation:0,type:"",visible:!0,width:0,x:1488.32909637162,y:695.632077651953},{height:0,id:19,name:"Rat",point:!0,properties:[{name:"id",type:"string",value:"rat"}],rotation:0,type:"",visible:!0,width:0,x:681.765657499422,y:97.0649410677145}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],nextlayerid:5,nextobjectid:20,orientation:"orthogonal",renderorder:"right-down",tiledversion:"1.3.4",tileheight:32,tilesets:[{firstgid:1,source:"DungeonCrawl_ProjectUtumnoTileset.tsx"}],tilewidth:32,type:"map",version:1.2,width:70},"undefined"==typeof onTileMapLoaded?("undefined"==typeof TileMaps&&(TileMaps={}),TileMaps.forrest_004=t):onTileMapLoaded("forrest_004",t),e&&e.exports&&(e.exports=t)}).call(this,i(4)(e))},function(e,t,i){(function(e){var t;t={compressionlevel:-1,editorsettings:{export:{target:"."}},height:39,infinite:!1,layers:[{data:[1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,2936,2936,2936,900,1048,1048,1048,900,900,900,900,900,900,900,2869,900,900,900,2869,900,900,900,2869,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,1048,1048,1048,900,900,900,900,900,2710,2710,2710,2710,2710,2710,2710,2710,2710,2710,2710,2710,2710,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,1048,1048,1048,900,900,900,900,900,2710,2710,2710,2710,2710,2710,2710,2710,2710,2710,2710,2710,2710,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,2869,900,900,900,2869,900,900,900,2869,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,1048,1048,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,1048,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,1048,1048,1048,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,1048,1048,1048,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048],height:39,id:1,name:"World",opacity:1,type:"tilelayer",visible:!0,width:70,x:0,y:0},{draworder:"topdown",id:4,name:"Object Layer 1",objects:[{height:0,id:4,name:"Player",point:!0,properties:[{name:"id",type:"string",value:"player"}],rotation:0,type:"",visible:!0,width:0,x:48.9730893444762,y:727.91157376972},{height:0,id:5,name:"Golbin",point:!0,properties:[{name:"id",type:"string",value:"goblin"}],rotation:0,type:"",visible:!0,width:0,x:644.193719444052,y:712.330540708638},{height:0,id:6,name:"Chest",point:!0,properties:[{name:"id",type:"string",value:"chest"},{name:"inventory",type:"string",value:"health_potion_weak,lightning_scroll_weak"}],rotation:0,type:"",visible:!0,width:0,x:341.526275397425,y:948.672967850652},{height:0,id:7,name:"Stairs",point:!0,properties:[{name:"id",type:"string",value:"stairs"},{name:"levelName",type:"string",value:"level_2"}],rotation:0,type:"",visible:!0,width:0,x:1202.30788561211,y:247.937747564976},{height:0,id:8,name:"Crate",point:!0,properties:[{name:"id",type:"string",value:"crate"},{name:"inventory",type:"string",value:"health_potion_weak"}],rotation:0,type:"",visible:!0,width:0,x:370.617261554132,y:949.94792690583},{height:0,id:9,name:"Crate",point:!0,properties:[{name:"id",type:"string",value:"crate"},{name:"inventory",type:"string",value:""}],rotation:0,type:"",visible:!0,width:0,x:944.729776321084,y:725.333340842067},{height:0,id:11,name:"Crate",point:!0,properties:[{name:"id",type:"string",value:"crate"},{name:"inventory",type:"string",value:"health_potion_weak"}],rotation:0,type:"",visible:!0,width:0,x:943.603906892819,y:760.182468483655},{height:0,id:12,name:"Golbin",point:!0,properties:[{name:"id",type:"string",value:"goblin"}],rotation:0,type:"",visible:!0,width:0,x:340.545596044442,y:1083.26097831731},{height:0,id:14,name:"Fire",point:!0,properties:[{name:"id",type:"string",value:"campfire"}],rotation:0,type:"",visible:!0,width:0,x:658.781710294825,y:237.201980125518},{height:0,id:15,name:"Fire",point:!0,properties:[{name:"id",type:"string",value:"campfire"}],rotation:0,type:"",visible:!0,width:0,x:786.258618604088,y:238.296842869239},{height:0,id:16,name:"Fire",point:!0,properties:[{name:"id",type:"string",value:"campfire"}],rotation:0,type:"",visible:!0,width:0,x:910.850368936736,y:239.506471513245},{height:0,id:17,name:"Lantern",point:!0,properties:[{name:"id",type:"string",value:"lantern"}],rotation:0,type:"",visible:!0,width:0,x:209.265755413088,y:951.97774283295},{height:0,id:18,name:"Golbin",point:!0,properties:[{name:"id",type:"string",value:"goblin"}],rotation:0,type:"",visible:!0,width:0,x:949.558485544938,y:145.155437280755},{height:0,id:19,name:"Golbin",point:!0,properties:[{name:"id",type:"string",value:"goblin"}],rotation:0,type:"",visible:!0,width:0,x:622.958751663239,y:147.574694568767},{height:0,id:20,name:"Rat",point:!0,properties:[{name:"id",type:"string",value:"rat"}],rotation:0,type:"",visible:!0,width:0,x:244.344986089271,y:226.200556429176},{height:0,id:22,name:"Load Door",point:!0,properties:[{name:"id",type:"string",value:"load_door"},{name:"levelName",type:"string",value:"forrest_0004"}],rotation:0,type:"",visible:!0,width:0,x:14.605418138987,y:723.203769140165},{height:0,id:29,name:"Door",point:!0,properties:[{name:"id",type:"string",value:"door"}],rotation:0,type:"",visible:!0,width:0,x:526.910048927362,y:728.264960481746}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],nextlayerid:5,nextobjectid:30,orientation:"orthogonal",renderorder:"right-down",tiledversion:"1.3.4",tileheight:32,tilesets:[{firstgid:1,source:"DungeonCrawl_ProjectUtumnoTileset.tsx"}],tilewidth:32,type:"map",version:1.2,width:70},"undefined"==typeof onTileMapLoaded?("undefined"==typeof TileMaps&&(TileMaps={}),TileMaps.durdwin_001=t):onTileMapLoaded("durdwin_001",t),e&&e.exports&&(e.exports=t)}).call(this,i(4)(e))},function(e,t,i){(function(e){var t;t={compressionlevel:-1,editorsettings:{export:{target:"."}},height:39,infinite:!1,layers:[{data:[1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,1048,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,1048,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,1048,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,1048,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,1048,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,1048,1048,1048,1048,1048,1048,1048,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048,1048],height:39,id:1,name:"Tile Layer 1",opacity:1,type:"tilelayer",visible:!0,width:70,x:0,y:0},{draworder:"topdown",id:2,name:"Object Layer 1",objects:[{height:0,id:1,name:"Player",point:!0,properties:[{name:"id",type:"string",value:"player"}],rotation:0,type:"",visible:!0,width:0,x:880.250035462825,y:754.192197850584},{height:0,id:2,name:"Door",point:!0,properties:[{name:"id",type:"string",value:"door"}],rotation:0,type:"",visible:!0,width:0,x:1297.45889387145,y:627.80269058296},{height:0,id:3,name:"Goblin",point:!0,properties:[{name:"id",type:"string",value:"goblin"}],rotation:0,type:"",visible:!0,width:0,x:1297.45889387145,y:488.789237668161},{height:0,id:4,name:"Chest",point:!0,properties:[{name:"id",type:"string",value:"chest"},{name:"inventory",type:"string",value:"health_potion_weak,lightning_scroll_weak"}],rotation:0,type:"",visible:!0,width:0,x:1166.46397769314,y:887.051192293996},{height:0,id:5,name:"Lantern",point:!0,properties:[{name:"id",type:"string",value:"lantern"}],rotation:0,type:"",visible:!0,width:0,x:1139.76083707025,y:757.847533632287},{height:0,id:6,name:"Chest",point:!0,properties:[{name:"id",type:"string",value:"chest"},{name:"inventory",type:"string",value:"health_potion_weak,health_potion_weak"}],rotation:0,type:"",visible:!0,width:0,x:1038.86397608371,y:887.144992526158},{height:0,id:7,name:"Magika Shrine",point:!0,properties:[{name:"id",type:"string",value:"magic_shrine"},{name:"spellId",type:"string",value:"lightning_bolt"}],rotation:0,type:"",visible:!0,width:0,x:1425.26158445441,y:760.837070254111},{height:0,id:8,name:"Crate",point:!0,properties:[{name:"id",type:"string",value:"crate"},{name:"inventory",type:"string",value:"health_potion_weak"}],rotation:0,type:"",visible:!0,width:0,x:1135.27653213752,y:887.144992526158},{height:0,id:9,name:"Door",point:!0,properties:[{name:"id",type:"string",value:"door"}],rotation:0,type:"",visible:!0,width:0,x:1039.61136023916,y:630.792227204783},{height:0,id:10,name:"Goblin Brute",point:!0,properties:[{name:"id",type:"string",value:"goblin_brute"}],rotation:0,type:"",visible:!0,width:0,x:1043.34828101644,y:507.473841554559},{height:0,id:11,name:"Barrel",point:!0,properties:[{name:"id",type:"string",value:"barrel"},{name:"inventory",type:"string",value:"health_potion"}],rotation:0,type:"",visible:!0,width:0,x:1202.4730820996,y:883.664199192463}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],nextlayerid:3,nextobjectid:12,orientation:"orthogonal",renderorder:"right-down",tiledversion:"1.3.4",tileheight:32,tilesets:[{firstgid:1,source:"DungeonCrawl_ProjectUtumnoTileset.tsx"}],tilewidth:32,type:"map",version:1.2,width:70},"undefined"==typeof onTileMapLoaded?("undefined"==typeof TileMaps&&(TileMaps={}),TileMaps.dev_room=t):onTileMapLoaded("dev_room",t),e&&e.exports&&(e.exports=t)}).call(this,i(4)(e))},function(e,t,i){"use strict";i.r(t),t.default={}},function(e,t,i){"use strict";(function(t){e.exports=function(){if("object"==typeof globalThis)return globalThis;var e;try{e=this||new Function("return this")()}catch(e){if("object"==typeof window)return window;if("object"==typeof self)return self;if(void 0!==t)return t}return e}()}).call(this,i(16))},function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t){var i,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(i===setTimeout)return setTimeout(e,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(e){i=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var l,h=[],c=!1,u=-1;function p(){c&&l&&(c=!1,l.length?h=l.concat(h):u=-1,h.length&&d())}function d(){if(!c){var e=a(p);c=!0;for(var t=h.length;t;){for(l=h,h=[];++u<t;)l&&l[u].run();u=-1,t=h.length}l=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function f(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];h.push(new g(e,t)),1!==h.length||c||a(d)},g.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=f,r.addListener=f,r.once=f,r.off=f,r.removeListener=f,r.removeAllListeners=f,r.emit=f,r.prependListener=f,r.prependOnceListener=f,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,i){"use strict";i.r(t);var n={};i.r(n),i.d(n,"TYPE_TEXT",(function(){return x})),i.d(n,"TYPE_NEWLINE",(function(){return k})),i.d(n,"TYPE_FG",(function(){return C})),i.d(n,"TYPE_BG",(function(){return S})),i.d(n,"measure",(function(){return T})),i.d(n,"tokenize",(function(){return E}));var r=i(0),o=i.n(r),s=i(1),a=i(5);class l extends a.a{constructor(){super(),this._ctx=document.createElement("canvas").getContext("2d")}schedule(e){requestAnimationFrame(e)}getContainer(){return this._ctx.canvas}setOptions(e){super.setOptions(e);const t=`${e.fontStyle?e.fontStyle+" ":""} ${e.fontSize}px ${e.fontFamily}`;this._ctx.font=t,this._updateSize(),this._ctx.font=t,this._ctx.textAlign="center",this._ctx.textBaseline="middle"}clear(){this._ctx.fillStyle=this._options.bg,this._ctx.fillRect(0,0,this._ctx.canvas.width,this._ctx.canvas.height)}eventToPosition(e,t){let i=this._ctx.canvas,n=i.getBoundingClientRect();return e-=n.left,t-=n.top,e*=i.width/n.width,t*=i.height/n.height,e<0||t<0||e>=i.width||t>=i.height?[-1,-1]:this._normalizedEventToPosition(e,t)}}var h=i(2);class c extends l{constructor(){super(),this._spacingX=0,this._spacingY=0,this._hexSize=0}draw(e,t){let[i,n,r,o,s]=e,a=[(i+1)*this._spacingX,n*this._spacingY+this._hexSize];if(this._options.transpose&&a.reverse(),t&&(this._ctx.fillStyle=s,this._fill(a[0],a[1])),!r)return;this._ctx.fillStyle=o;let l=[].concat(r);for(let e=0;e<l.length;e++)this._ctx.fillText(l[e],a[0],Math.ceil(a[1]))}computeSize(e,t){return this._options.transpose&&(e+=t,e-=t=e-t),[Math.floor(e/this._spacingX)-1,Math.floor((t-2*this._hexSize)/this._spacingY+1)]}computeFontSize(e,t){this._options.transpose&&(e+=t,e-=t=e-t);let i=2*e/((this._options.width+1)*Math.sqrt(3))-1,n=t/(2+1.5*(this._options.height-1)),r=Math.min(i,n),o=this._ctx.font;this._ctx.font="100px "+this._options.fontFamily;let s=Math.ceil(this._ctx.measureText("W").width);this._ctx.font=o;let a=s/100;r=Math.floor(r)+1;let l=2*r/(this._options.spacing*(1+a/Math.sqrt(3)));return Math.ceil(l)-1}_normalizedEventToPosition(e,t){let i;this._options.transpose?(e+=t,e-=t=e-t,i=this._ctx.canvas.width):i=this._ctx.canvas.height;let n=i/this._options.height;return t=Math.floor(t/n),Object(h.mod)(t,2)?(e-=this._spacingX,e=1+2*Math.floor(e/(2*this._spacingX))):e=2*Math.floor(e/(2*this._spacingX)),[e,t]}_fill(e,t){let i=this._hexSize,n=this._options.border;const r=this._ctx;r.beginPath(),this._options.transpose?(r.moveTo(e-i+n,t),r.lineTo(e-i/2+n,t+this._spacingX-n),r.lineTo(e+i/2-n,t+this._spacingX-n),r.lineTo(e+i-n,t),r.lineTo(e+i/2-n,t-this._spacingX+n),r.lineTo(e-i/2+n,t-this._spacingX+n),r.lineTo(e-i+n,t)):(r.moveTo(e,t-i+n),r.lineTo(e+this._spacingX-n,t-i/2+n),r.lineTo(e+this._spacingX-n,t+i/2-n),r.lineTo(e,t+i-n),r.lineTo(e-this._spacingX+n,t+i/2-n),r.lineTo(e-this._spacingX+n,t-i/2+n),r.lineTo(e,t-i+n)),r.fill()}_updateSize(){const e=this._options,t=Math.ceil(this._ctx.measureText("W").width);let i,n;this._hexSize=Math.floor(e.spacing*(e.fontSize+t/Math.sqrt(3))/2),this._spacingX=this._hexSize*Math.sqrt(3)/2,this._spacingY=1.5*this._hexSize,e.transpose?(i="height",n="width"):(i="width",n="height"),this._ctx.canvas[i]=Math.ceil((e.width+1)*this._spacingX),this._ctx.canvas[n]=Math.ceil((e.height-1)*this._spacingY+2*this._hexSize)}}var u=(()=>{class e extends l{constructor(){super(),this._spacingX=0,this._spacingY=0,this._canvasCache={}}setOptions(e){super.setOptions(e),this._canvasCache={}}draw(t,i){e.cache?this._drawWithCache(t):this._drawNoCache(t,i)}_drawWithCache(e){let t,[i,n,r,o,s]=e,a=""+r+o+s;if(a in this._canvasCache)t=this._canvasCache[a];else{let e=this._options.border;t=document.createElement("canvas");let i=t.getContext("2d");if(t.width=this._spacingX,t.height=this._spacingY,i.fillStyle=s,i.fillRect(e,e,t.width-e,t.height-e),r){i.fillStyle=o,i.font=this._ctx.font,i.textAlign="center",i.textBaseline="middle";let e=[].concat(r);for(let t=0;t<e.length;t++)i.fillText(e[t],this._spacingX/2,Math.ceil(this._spacingY/2))}this._canvasCache[a]=t}this._ctx.drawImage(t,i*this._spacingX,n*this._spacingY)}_drawNoCache(e,t){let[i,n,r,o,s]=e;if(t){let e=this._options.border;this._ctx.fillStyle=s,this._ctx.fillRect(i*this._spacingX+e,n*this._spacingY+e,this._spacingX-e,this._spacingY-e)}if(!r)return;this._ctx.fillStyle=o;let a=[].concat(r);for(let e=0;e<a.length;e++)this._ctx.fillText(a[e],(i+.5)*this._spacingX,Math.ceil((n+.5)*this._spacingY))}computeSize(e,t){return[Math.floor(e/this._spacingX),Math.floor(t/this._spacingY)]}computeFontSize(e,t){let i=Math.floor(e/this._options.width),n=Math.floor(t/this._options.height),r=this._ctx.font;this._ctx.font="100px "+this._options.fontFamily;let o=Math.ceil(this._ctx.measureText("W").width);this._ctx.font=r;let s=o/100*n/i;return s>1&&(n=Math.floor(n/s)),Math.floor(n/this._options.spacing)}_normalizedEventToPosition(e,t){return[Math.floor(e/this._spacingX),Math.floor(t/this._spacingY)]}_updateSize(){const e=this._options,t=Math.ceil(this._ctx.measureText("W").width);this._spacingX=Math.ceil(e.spacing*t),this._spacingY=Math.ceil(e.spacing*e.fontSize),e.forceSquareRatio&&(this._spacingX=this._spacingY=Math.max(this._spacingX,this._spacingY)),this._ctx.canvas.width=e.width*this._spacingX,this._ctx.canvas.height=e.height*this._spacingY}}return e.cache=!1,e})();class p extends l{constructor(){super(),this._colorCanvas=document.createElement("canvas")}draw(e,t){let[i,n,r,o,s]=e,a=this._options.tileWidth,l=this._options.tileHeight;if(t&&(this._options.tileColorize?this._ctx.clearRect(i*a,n*l,a,l):(this._ctx.fillStyle=s,this._ctx.fillRect(i*a,n*l,a,l))),!r)return;let h=[].concat(r),c=[].concat(o),u=[].concat(s);for(let e=0;e<h.length;e++){let t=this._options.tileMap[h[e]];if(!t)throw new Error(`Char "${h[e]}" not found in tileMap`);if(this._options.tileColorize){let r=this._colorCanvas,o=r.getContext("2d");o.globalCompositeOperation="source-over",o.clearRect(0,0,a,l);let s=c[e],h=u[e];o.drawImage(this._options.tileSet,t[0],t[1],a,l,0,0,a,l),"transparent"!=s&&(o.fillStyle=s,o.globalCompositeOperation="source-atop",o.fillRect(0,0,a,l)),"transparent"!=h&&(o.fillStyle=h,o.globalCompositeOperation="destination-over",o.fillRect(0,0,a,l)),this._ctx.drawImage(r,i*a,n*l,a,l)}else this._ctx.drawImage(this._options.tileSet,t[0],t[1],a,l,i*a,n*l,a,l)}}computeSize(e,t){return[Math.floor(e/this._options.tileWidth),Math.floor(t/this._options.tileHeight)]}computeFontSize(){throw new Error("Tile backend does not understand font size")}_normalizedEventToPosition(e,t){return[Math.floor(e/this._options.tileWidth),Math.floor(t/this._options.tileHeight)]}_updateSize(){const e=this._options;this._ctx.canvas.width=e.width*e.tileWidth,this._ctx.canvas.height=e.height*e.tileHeight,this._colorCanvas.width=e.tileWidth,this._colorCanvas.height=e.tileHeight}}var d=i(3);class g extends a.a{constructor(){super(),this._uniforms={};try{this._gl=this._initWebGL()}catch(e){alert(e.message)}}static isSupported(){return!!document.createElement("canvas").getContext("webgl2",{preserveDrawingBuffer:!0})}schedule(e){requestAnimationFrame(e)}getContainer(){return this._gl.canvas}setOptions(e){super.setOptions(e),this._updateSize();let t=this._options.tileSet;t&&"complete"in t&&!t.complete?t.addEventListener("load",()=>this._updateTexture(t)):this._updateTexture(t)}draw(e,t){const i=this._gl,n=this._options;let[r,o,s,a,l]=e,h=i.canvas.height-(o+1)*n.tileHeight;if(i.scissor(r*n.tileWidth,h,n.tileWidth,n.tileHeight),t&&(n.tileColorize?i.clearColor(0,0,0,0):i.clearColor(...v(l)),i.clear(i.COLOR_BUFFER_BIT)),!s)return;let c=[].concat(s),u=[].concat(l),p=[].concat(a);i.uniform2fv(this._uniforms.targetPosRel,[r,o]);for(let e=0;e<c.length;e++){let t=this._options.tileMap[c[e]];if(!t)throw new Error(`Char "${c[e]}" not found in tileMap`);i.uniform1f(this._uniforms.colorize,n.tileColorize?1:0),i.uniform2fv(this._uniforms.tilesetPosAbs,t),n.tileColorize&&(i.uniform4fv(this._uniforms.tint,v(p[e])),i.uniform4fv(this._uniforms.bg,v(u[e]))),i.drawArrays(i.TRIANGLE_STRIP,0,4)}}clear(){const e=this._gl;e.clearColor(...v(this._options.bg)),e.scissor(0,0,e.canvas.width,e.canvas.height),e.clear(e.COLOR_BUFFER_BIT)}computeSize(e,t){return[Math.floor(e/this._options.tileWidth),Math.floor(t/this._options.tileHeight)]}computeFontSize(){throw new Error("Tile backend does not understand font size")}eventToPosition(e,t){let i=this._gl.canvas,n=i.getBoundingClientRect();return e-=n.left,t-=n.top,e*=i.width/n.width,t*=i.height/n.height,e<0||t<0||e>=i.width||t>=i.height?[-1,-1]:this._normalizedEventToPosition(e,t)}_initWebGL(){let e=document.createElement("canvas").getContext("webgl2",{preserveDrawingBuffer:!0});window.gl=e;let t=function(e,t,i){const n=e.createShader(e.VERTEX_SHADER);if(e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw new Error(e.getShaderInfoLog(n)||"");const r=e.createShader(e.FRAGMENT_SHADER);if(e.shaderSource(r,i),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))throw new Error(e.getShaderInfoLog(r)||"");const o=e.createProgram();if(e.attachShader(o,n),e.attachShader(o,r),e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS))throw new Error(e.getProgramInfoLog(o)||"");return o}(e,m,y);return e.useProgram(t),function(e){const t=new Float32Array([0,0,1,0,0,1,1,1]),i=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,i),e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW),e.enableVertexAttribArray(0),e.vertexAttribPointer(0,2,e.FLOAT,!1,0,0)}(e),f.forEach(i=>this._uniforms[i]=e.getUniformLocation(t,i)),this._program=t,e.enable(e.BLEND),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA),e.enable(e.SCISSOR_TEST),e}_normalizedEventToPosition(e,t){return[Math.floor(e/this._options.tileWidth),Math.floor(t/this._options.tileHeight)]}_updateSize(){const e=this._gl,t=this._options,i=[t.width*t.tileWidth,t.height*t.tileHeight];e.canvas.width=i[0],e.canvas.height=i[1],e.viewport(0,0,i[0],i[1]),e.uniform2fv(this._uniforms.tileSize,[t.tileWidth,t.tileHeight]),e.uniform2fv(this._uniforms.targetSize,i)}_updateTexture(e){!function(e,t){let i=e.createTexture();e.bindTexture(e.TEXTURE_2D,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t)}(this._gl,e)}}const f=["targetPosRel","tilesetPosAbs","tileSize","targetSize","colorize","bg","tint"],m="\n#version 300 es\n\nin vec2 tilePosRel;\nout vec2 tilesetPosPx;\n\nuniform vec2 tilesetPosAbs;\nuniform vec2 tileSize;\nuniform vec2 targetSize;\nuniform vec2 targetPosRel;\n\nvoid main() {\n\tvec2 targetPosPx = (targetPosRel + tilePosRel) * tileSize;\n\tvec2 targetPosNdc = ((targetPosPx / targetSize)-0.5)*2.0;\n\ttargetPosNdc.y *= -1.0;\n\n\tgl_Position = vec4(targetPosNdc, 0.0, 1.0);\n\ttilesetPosPx = tilesetPosAbs + tilePosRel * tileSize;\n}".trim(),y="\n#version 300 es\nprecision highp float;\n\nin vec2 tilesetPosPx;\nout vec4 fragColor;\nuniform sampler2D image;\nuniform bool colorize;\nuniform vec4 bg;\nuniform vec4 tint;\n\nvoid main() {\n\tfragColor = vec4(0, 0, 0, 1);\n\n\tvec4 texel = texelFetch(image, ivec2(tilesetPosPx), 0);\n\n\tif (colorize) {\n\t\ttexel.rgb = tint.a * tint.rgb + (1.0-tint.a) * texel.rgb;\n\t\tfragColor.rgb = texel.a*texel.rgb + (1.0-texel.a)*bg.rgb;\n\t\tfragColor.a = texel.a + (1.0-texel.a)*bg.a;\n\t} else {\n\t\tfragColor = texel;\n\t}\n}".trim();let _={};function v(e){if(!(e in _)){let t;if("transparent"==e)t=[0,0,0,0];else if(e.indexOf("rgba")>-1){t=(e.match(/[\d.]+/g)||[]).map(Number);for(let e=0;e<3;e++)t[e]=t[e]/255}else t=d.fromString(e).map(e=>e/255),t.push(1);_[e]=t}return _[e]}var w=i(6);const b=/%([bc]){([^}]*)}/g,x=0,k=1,C=2,S=3;function T(e,t){let i={width:0,height:1},n=E(e,t),r=0;for(let e=0;e<n.length;e++){let t=n[e];switch(t.type){case x:r+=t.value.length;break;case k:i.height++,i.width=Math.max(i.width,r),r=0}}return i.width=Math.max(i.width,r),i}function E(e,t){let i=[],n=0;e.replace(b,(function(t,r,o,s){let a=e.substring(n,s);return a.length&&i.push({type:x,value:a}),i.push({type:"c"==r?C:S,value:o.trim()}),n=s+t.length,""}));let r=e.substring(n);return r.length&&i.push({type:x,value:r}),function(e,t){t||(t=1/0);let i=0,n=0,r=-1;for(;i<e.length;){let o=e[i];if(o.type==k&&(n=0,r=-1),o.type!=x){i++;continue}for(;0==n&&" "==o.value.charAt(0);)o.value=o.value.substring(1);let s=o.value.indexOf("\n");if(-1!=s){o.value=M(e,i,s,!0);let t=o.value.split("");for(;t.length&&" "==t[t.length-1];)t.pop();o.value=t.join("")}if(o.value.length){if(n+o.value.length>t){let s=-1;for(;;){let e=o.value.indexOf(" ",s+1);if(-1==e)break;if(n+e>t)break;s=e}if(-1!=s)o.value=M(e,i,s,!0);else if(-1!=r){let t=e[r],n=t.value.lastIndexOf(" ");t.value=M(e,r,n,!0),i=r}else o.value=M(e,i,t-n,!1)}else n+=o.value.length,-1!=o.value.indexOf(" ")&&(r=i);i++}else e.splice(i,1)}e.push({type:k});let o=null;for(let t=0;t<e.length;t++){let i=e[t];switch(i.type){case x:o=i;break;case k:if(o){let e=o.value.split("");for(;e.length&&" "==e[e.length-1];)e.pop();o.value=e.join("")}o=null}}return e.pop(),e}(i,t)}function M(e,t,i,n){let r={type:k},o={type:x,value:e[t].value.substring(i+(n?1:0))};return e.splice(t+1,0,r,o),e[t].value.substring(0,i)}const L={4:[[0,-1],[1,0],[0,1],[-1,0]],8:[[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1]],6:[[-1,-1],[1,-1],[2,0],[1,1],[-1,1],[-2,0]]},O={hex:c,rect:u,tile:p,"tile-gl":g,term:w.a},P={width:80,height:25,transpose:!1,layout:"rect",fontSize:15,spacing:1,border:0,forceSquareRatio:!1,fontFamily:"monospace",fontStyle:"",fg:"#ccc",bg:"#000",tileWidth:32,tileHeight:32,tileMap:{},tileSet:null,tileColorize:!1};var A=(()=>{class e{constructor(e={}){this._data={},this._dirty=!1,this._options={},e=Object.assign({},P,e),this.setOptions(e),this.DEBUG=this.DEBUG.bind(this),this._tick=this._tick.bind(this),this._backend.schedule(this._tick)}DEBUG(e,t,i){let n=[this._options.bg,this._options.fg];this.draw(e,t,null,null,n[i%n.length])}clear(){this._data={},this._dirty=!0}setOptions(e){if(Object.assign(this._options,e),e.width||e.height||e.fontSize||e.fontFamily||e.spacing||e.layout){if(e.layout){let t=O[e.layout];this._backend=new t}this._backend.setOptions(this._options),this._dirty=!0}return this}getOptions(){return this._options}getContainer(){return this._backend.getContainer()}computeSize(e,t){return this._backend.computeSize(e,t)}computeFontSize(e,t){return this._backend.computeFontSize(e,t)}computeTileSize(e,t){return[Math.floor(e/this._options.width),Math.floor(t/this._options.height)]}eventToPosition(e){let t,i;return"touches"in e?(t=e.touches[0].clientX,i=e.touches[0].clientY):(t=e.clientX,i=e.clientY),this._backend.eventToPosition(t,i)}draw(e,t,i,n,r){n||(n=this._options.fg),r||(r=this._options.bg);let o=`${e},${t}`;this._data[o]=[e,t,i,n,r],!0!==this._dirty&&(this._dirty||(this._dirty={}),this._dirty[o]=!0)}drawText(e,t,i,n){let r=null,o=null,s=e,a=t,l=1;n||(n=this._options.width-e);let h=E(i,n);for(;h.length;){let t=h.shift();switch(t.type){case x:let i=!1,n=!1,h=!1,c=!1;for(let e=0;e<t.value.length;e++){let l=t.value.charCodeAt(e),u=t.value.charAt(e);if("term"===this._options.layout){let e=l>>8;if(17===e||e>=46&&e<=159||e>=172&&e<=215||l>=43360&&l<=43391){this.draw(s+0,a,u,r,o),this.draw(s+1,a,"\t",r,o),s+=2;continue}}h=l>65280&&l<65377||l>65500&&l<65512||l>65518,i=32==u.charCodeAt(0)||12288==u.charCodeAt(0),!c||h||i||s++,h&&!n&&s++,this.draw(s++,a,u,r,o),n=i,c=h}break;case C:r=t.value||null;break;case S:o=t.value||null;break;case k:s=e,a++,l++}}return l}_tick(){if(this._backend.schedule(this._tick),this._dirty){if(!0===this._dirty){this._backend.clear();for(let e in this._data)this._draw(e,!1)}else for(let e in this._dirty)this._draw(e,!0);this._dirty=!1}}_draw(e,t){let i=this._data[e];i[4]!=this._options.bg&&(t=!0),this._backend.draw(i,t)}}return e.Rect=u,e.Hex=c,e.Tile=p,e.TileGL=g,e.Term=w.a,e})();class G{constructor(){this.heap=[],this.timestamp=0}lessThan(e,t){return e.key==t.key?e.timestamp<t.timestamp:e.key<t.key}shift(e){this.heap=this.heap.map(({key:t,value:i,timestamp:n})=>({key:t+e,value:i,timestamp:n}))}len(){return this.heap.length}push(e,t){this.timestamp+=1;const i=this.len();this.heap.push({value:e,timestamp:this.timestamp,key:t}),this.updateUp(i)}pop(){if(0==this.len())throw new Error("no element to pop");const e=this.heap[0];return this.len()>1?(this.heap[0]=this.heap.pop(),this.updateDown(0)):this.heap.pop(),e}find(e){for(let t=0;t<this.len();t++)if(e==this.heap[t].value)return this.heap[t];return null}remove(e){let t=null;for(let i=0;i<this.len();i++)e==this.heap[i].value&&(t=i);return null!=t&&(this.len()>1?(this.heap[t]=this.heap.pop(),this.updateDown(t),!0):(this.heap.pop(),!0))}parentNode(e){return Math.floor((e-1)/2)}leftChildNode(e){return 2*e+1}rightChildNode(e){return 2*e+2}existNode(e){return e>=0&&e<this.heap.length}swap(e,t){const i=this.heap[e];this.heap[e]=this.heap[t],this.heap[t]=i}minNode(e){const t=e.filter(this.existNode.bind(this));let i=t[0];for(const e of t)this.lessThan(this.heap[e],this.heap[i])&&(i=e);return i}updateUp(e){if(0==e)return;const t=this.parentNode(e);this.existNode(t)&&this.lessThan(this.heap[e],this.heap[t])&&(this.swap(e,t),this.updateUp(t))}updateDown(e){const t=this.leftChildNode(e),i=this.rightChildNode(e);if(!this.existNode(t))return;const n=this.minNode([e,t,i]);n!=e&&(this.swap(e,n),this.updateDown(n))}debugPrint(){console.log(this.heap)}}class j{constructor(){this._time=0,this._events=new G}getTime(){return this._time}clear(){return this._events=new G,this}add(e,t){this._events.push(e,t)}get(){if(!this._events.len())return null;let{key:e,value:t}=this._events.pop();return e>0&&(this._time+=e,this._events.shift(-e)),t}getEventTime(e){const t=this._events.find(e);if(t){const{key:e}=t;return e}}remove(e){return this._events.remove(e)}}class I{constructor(){this._queue=new j,this._repeat=[],this._current=null}getTime(){return this._queue.getTime()}add(e,t){return t&&this._repeat.push(e),this}getTimeOf(e){return this._queue.getEventTime(e)}clear(){return this._queue.clear(),this._repeat=[],this._current=null,this}remove(e){let t=this._queue.remove(e),i=this._repeat.indexOf(e);return-1!=i&&this._repeat.splice(i,1),this._current==e&&(this._current=null),t}next(){return this._current=this._queue.get(),this._current}}var N={Simple:class extends I{add(e,t){return this._queue.add(e,0),super.add(e,t)}next(){return null!==this._current&&-1!=this._repeat.indexOf(this._current)&&this._queue.add(this._current,0),super.next()}},Speed:class extends I{add(e,t,i){return this._queue.add(e,void 0!==i?i:1/e.getSpeed()),super.add(e,t)}next(){return this._current&&-1!=this._repeat.indexOf(this._current)&&this._queue.add(this._current,1/this._current.getSpeed()),super.next()}},Action:class extends I{constructor(){super(),this._defaultDuration=1,this._duration=this._defaultDuration}add(e,t,i){return this._queue.add(e,i||this._defaultDuration),super.add(e,t)}clear(){return this._duration=this._defaultDuration,super.clear()}remove(e){return e==this._current&&(this._duration=this._defaultDuration),super.remove(e)}next(){return null!==this._current&&-1!=this._repeat.indexOf(this._current)&&(this._queue.add(this._current,this._duration||this._defaultDuration),this._duration=this._defaultDuration),super.next()}setDuration(e){return this._current&&(this._duration=e),this}}};class R{constructor(e,t={}){this._lightPasses=e,this._options=Object.assign({topology:8},t)}_getCircle(e,t,i){let n,r,o,s=[];switch(this._options.topology){case 4:r=1,o=[0,1],n=[L[8][7],L[8][1],L[8][3],L[8][5]];break;case 6:n=L[6],r=1,o=[-1,1];break;case 8:n=L[4],r=2,o=[-1,1];break;default:throw new Error("Incorrect topology for FOV computation")}let a=e+o[0]*i,l=t+o[1]*i;for(let e=0;e<n.length;e++)for(let t=0;t<i*r;t++)s.push([a,l]),a+=n[e][0],l+=n[e][1];return s}}const F=[[-1,0,0,1],[0,-1,1,0],[0,-1,-1,0],[-1,0,0,-1],[1,0,0,-1],[0,1,-1,0],[0,1,1,0],[1,0,0,1]];var D={DiscreteShadowcasting:class extends R{compute(e,t,i,n){if(n(e,t,0,1),!this._lightPasses(e,t))return;let r,o,s,a,l,h=[];for(let c=1;c<=i;c++){let i=this._getCircle(e,t,c),u=360/i.length;for(let e=0;e<i.length;e++)if(s=i[e][0],a=i[e][1],r=u*(e-.5),o=r+u,l=!this._lightPasses(s,a),this._visibleCoords(Math.floor(r),Math.ceil(o),l,h)&&n(s,a,c,1),2==h.length&&0==h[0]&&360==h[1])return}}_visibleCoords(e,t,i,n){if(e<0){let r=this._visibleCoords(0,t,i,n),o=this._visibleCoords(360+e,360,i,n);return r||o}let r=0;for(;r<n.length&&n[r]<e;)r++;if(r==n.length)return i&&n.push(e,t),!0;let o=0;if(r%2){for(;r<n.length&&n[r]<t;)r++,o++;return 0!=o&&(i&&(o%2?n.splice(r-o,o,t):n.splice(r-o,o)),!0)}for(;r<n.length&&n[r]<t;)r++,o++;return(e!=n[r-o]||1!=o)&&(i&&(o%2?n.splice(r-o,o,e):n.splice(r-o,o,e,t)),!0)}},PreciseShadowcasting:class extends R{compute(e,t,i,n){if(n(e,t,0,1),!this._lightPasses(e,t))return;let r,o,s,a,l,h,c=[];for(let u=1;u<=i;u++){let i=this._getCircle(e,t,u),p=i.length;for(let e=0;e<p;e++)if(r=i[e][0],o=i[e][1],a=[e?2*e-1:2*p-1,2*p],l=[2*e+1,2*p],s=!this._lightPasses(r,o),h=this._checkVisibility(a,l,s,c),h&&n(r,o,u,h),2==c.length&&0==c[0][0]&&c[1][0]==c[1][1])return}}_checkVisibility(e,t,i,n){if(e[0]>t[0]){return(this._checkVisibility(e,[e[1],e[1]],i,n)+this._checkVisibility([0,1],t,i,n))/2}let r=0,o=!1;for(;r<n.length;){let t=n[r],i=t[0]*e[1]-e[0]*t[1];if(i>=0){0!=i||r%2||(o=!0);break}r++}let s=n.length,a=!1;for(;s--;){let e=n[s],i=t[0]*e[1]-e[0]*t[1];if(i>=0){0==i&&s%2&&(a=!0);break}}let l,h=!0;if((r==s&&(o||a)||o&&a&&r+1==s&&s%2||r>s&&r%2)&&(h=!1),!h)return 0;let c=s-r+1;if(c%2)if(r%2){let e=n[r];l=(t[0]*e[1]-e[0]*t[1])/(e[1]*t[1]),i&&n.splice(r,c,t)}else{let t=n[s];l=(t[0]*e[1]-e[0]*t[1])/(e[1]*t[1]),i&&n.splice(r,c,e)}else{if(!(r%2))return i&&n.splice(r,c,e,t),1;{let e=n[r],t=n[s];l=(t[0]*e[1]-e[0]*t[1])/(e[1]*t[1]),i&&n.splice(r,c)}}return l/((t[0]*e[1]-e[0]*t[1])/(e[1]*t[1]))}},RecursiveShadowcasting:class extends R{compute(e,t,i,n){n(e,t,0,1);for(let r=0;r<F.length;r++)this._renderOctant(e,t,F[r],i,n)}compute180(e,t,i,n,r){r(e,t,0,1);let o=(n-1+8)%8,s=(n-2+8)%8,a=(n+1+8)%8;this._renderOctant(e,t,F[s],i,r),this._renderOctant(e,t,F[o],i,r),this._renderOctant(e,t,F[n],i,r),this._renderOctant(e,t,F[a],i,r)}compute90(e,t,i,n,r){r(e,t,0,1);let o=(n-1+8)%8;this._renderOctant(e,t,F[n],i,r),this._renderOctant(e,t,F[o],i,r)}_renderOctant(e,t,i,n,r){this._castVisibility(e,t,1,1,0,n+1,i[0],i[1],i[2],i[3],r)}_castVisibility(e,t,i,n,r,o,s,a,l,h,c){if(!(n<r))for(let u=i;u<=o;u++){let i=-u-1,p=-u,d=!1,g=0;for(;i<=0;){i+=1;let f=e+i*s+p*a,m=t+i*l+p*h,y=(i-.5)/(p+.5),_=(i+.5)/(p-.5);if(!(_>n)){if(y<r)break;if(i*i+p*p<o*o&&c(f,m,u,1),d){if(!this._lightPasses(f,m)){g=_;continue}d=!1,n=g}else!this._lightPasses(f,m)&&u<o&&(d=!0,this._castVisibility(e,t,u+1,n,y,o,s,a,l,h,c),g=_)}}if(d)break}}}};Math.sqrt(3),Math.sqrt(3);class z{constructor(e,t,i,n={}){this._toX=e,this._toY=t,this._passableCallback=i,this._options=Object.assign({topology:8},n),this._dirs=L[this._options.topology],8==this._options.topology&&(this._dirs=[this._dirs[0],this._dirs[2],this._dirs[4],this._dirs[6],this._dirs[1],this._dirs[3],this._dirs[5],this._dirs[7]])}_getNeighbors(e,t){let i=[];for(let n=0;n<this._dirs.length;n++){let r=this._dirs[n],o=e+r[0],s=t+r[1];this._passableCallback(o,s)&&i.push([o,s])}return i}}var U={Dijkstra:class extends z{constructor(e,t,i,n){super(e,t,i,n),this._computed={},this._todo=[],this._add(e,t,null)}compute(e,t,i){let n=e+","+t;if(n in this._computed||this._compute(e,t),!(n in this._computed))return;let r=this._computed[n];for(;r;)i(r.x,r.y),r=r.prev}_compute(e,t){for(;this._todo.length;){let i=this._todo.shift();if(i.x==e&&i.y==t)return;let n=this._getNeighbors(i.x,i.y);for(let e=0;e<n.length;e++){let t=n[e],r=t[0],o=t[1];r+","+o in this._computed||this._add(r,o,i)}}}_add(e,t,i){let n={x:e,y:t,prev:i};this._computed[e+","+t]=n,this._todo.push(n)}},AStar:class extends z{constructor(e,t,i,n={}){super(e,t,i,n),this._todo=[],this._done={}}compute(e,t,i){for(this._todo=[],this._done={},this._fromX=e,this._fromY=t,this._add(this._toX,this._toY,null);this._todo.length;){let i=this._todo.shift(),n=i.x+","+i.y;if(n in this._done)continue;if(this._done[n]=i,i.x==e&&i.y==t)break;let r=this._getNeighbors(i.x,i.y);for(let e=0;e<r.length;e++){let t=r[e],n=t[0],o=t[1];n+","+o in this._done||this._add(n,o,i)}}let n=this._done[e+","+t];if(n)for(;n;)i(n.x,n.y),n=n.prev}_add(e,t,i){let n=this._distance(e,t),r={x:e,y:t,prev:i,g:i?i.g+1:0,h:n},o=r.g+r.h;for(let e=0;e<this._todo.length;e++){let t=this._todo[e],i=t.g+t.h;if(o<i||o==i&&n<t.h)return void this._todo.splice(e,0,r)}this._todo.push(r)}_distance(e,t){switch(this._options.topology){case 4:return Math.abs(e-this._fromX)+Math.abs(t-this._fromY);case 6:let i=Math.abs(e-this._fromX),n=Math.abs(t-this._fromY);return n+Math.max(0,(i-n)/2);case 8:return Math.max(Math.abs(e-this._fromX),Math.abs(t-this._fromY))}}}};class H{constructor(e,t={}){this._reflectivityCallback=e,this._options={},t=Object.assign({passes:1,emissionThreshold:100,range:10},t),this._lights={},this._reflectivityCache={},this._fovCache={},this.setOptions(t)}setOptions(e){return Object.assign(this._options,e),e&&e.range&&this.reset(),this}setFOV(e){return this._fov=e,this._fovCache={},this}setLight(e,t,i){let n=e+","+t;return i?this._lights[n]="string"==typeof i?d.fromString(i):i:delete this._lights[n],this}clearLights(){this._lights={}}reset(){return this._reflectivityCache={},this._fovCache={},this}compute(e){let t={},i={},n={};for(let e in this._lights){let t=this._lights[e];i[e]=[0,0,0],d.add_(i[e],t)}for(let e=0;e<this._options.passes;e++)this._emitLight(i,n,t),e+1!=this._options.passes&&(i=this._computeEmitters(n,t));for(let t in n){let i=t.split(",");e(parseInt(i[0]),parseInt(i[1]),n[t])}return this}_emitLight(e,t,i){for(let n in e){let r=n.split(","),o=parseInt(r[0]),s=parseInt(r[1]);this._emitLightFromCell(o,s,e[n],t),i[n]=1}return this}_computeEmitters(e,t){let i={};for(let n in e){if(n in t)continue;let r,o=e[n];if(n in this._reflectivityCache)r=this._reflectivityCache[n];else{let e=n.split(","),t=parseInt(e[0]),i=parseInt(e[1]);r=this._reflectivityCallback(t,i),this._reflectivityCache[n]=r}if(0==r)continue;let s=[0,0,0],a=0;for(let e=0;e<3;e++){let t=Math.round(o[e]*r);s[e]=t,a+=t}a>this._options.emissionThreshold&&(i[n]=s)}return i}_emitLightFromCell(e,t,i,n){let r,o=e+","+t;r=o in this._fovCache?this._fovCache[o]:this._updateFOV(e,t);for(let e in r){let t,o=r[e];e in n?t=n[e]:(t=[0,0,0],n[e]=t);for(let e=0;e<3;e++)t[e]+=Math.round(i[e]*o)}return this}_updateFOV(e,t){let i=e+","+t,n={};this._fovCache[i]=n;let r=this._options.range;return this._fov.compute(e,t,r,function(e,t,i,o){let s=o*(1-i/r);0!=s&&(n[e+","+t]=s)}.bind(this)),n}}const X=d;var B=i(7),W=i.n(B),Y=i(8),q=i.n(Y),$=i(9),V=i.n($),K=i(10),J=i.n(K),Q=i(11),Z=i.n(Q),ee=i(12),te=i.n(ee),ie=i(13),ne=i.n(ie);class re{constructor(e,t,i,n,r){this.x=e,this.y=t,this.width=i,this.height=n,this.eventName=r}enter(e){"player"===e.type&&o.a.gameEventEmitter.emit(this.eventName)}exit(){}}class oe{constructor(e,t,i,n,r,o,s,a,l=!1,h=!1){this.name=e,this.char=t,this.fgColor=i,this.bgColor=n,this.fgColorExplored=r,this.bgColorExplored=o,this.blocks=s,this.blocksSight=a,this.visible=l,this.explored=h,this.reflectivity=.18,this.lightingColor=n}isVisibleAndLit(){return this.visible&&this.lightingColor!==$e}}function se(e){if(!(e in ot))throw new Error(e+" is not a valid level");const t=ot[e],i=t.tileheight,n=[],r=[],o=[];let s=null;if(t.width!==He&&t.height!==Xe)throw new Error(`Loaded map ${name} doesn't match world width/height`);if(2!==t.layers.length)throw new Error(`Loaded map ${name} should only have two layers`);const a=t.layers[0].data.map(e=>{if(!(e in tt))throw new Error(e+" is not valid tile");const t=tt[e];return new oe(t.name,t.char,t.fgColor,t.bgColor,t.fgColorExplored,t.bgColorExplored,t.blocks,t.blocksSight)});for(let e=0;e<a.length;e+=He)n.push(a.slice(e,e+He));return t.layers[1].objects.forEach(e=>{function t(t){if(!e.properties||!e.properties.length)return null;const i=e.properties.filter(e=>e.name===t);return 0===i.length?null:i[0].value}if(e.point){let n;const o=t("id"),a=t("inventory"),l=t("levelName"),h=t("spellId");if(!o)throw new Error("No id for "+e.name);"player"===o?s=[Math.floor(e.x/i),Math.floor(e.y/i)]:(n=vt(o,Math.floor(e.x/i),Math.floor(e.y/i)),a&&n.inventoryComponent&&a.split(",").forEach(e=>n.inventoryComponent.addItem(e)),l&&n.interactable&&n.interactable.setLevel&&n.interactable.setLevel(l),h&&n.interactable&&n.interactable.setSpell&&n.interactable.setSpell(h),r.push(n))}else if("Rectangle"===e.type){const n=Math.floor(e.x/i),r=Math.floor(e.y/i),s=Math.ceil(e.width/i),a=Math.ceil(e.height/i);if("trigger_volume"===t("type")){const e=t("event");o.push(new re(n,r,s,a,e))}}}),{map:n,playerLocation:s,objects:r,volumes:o}}function ae(e,t,i){return e.filter(e=>e.x===t&&e.y===i)}function le(e,t,i,n){if(!Array.isArray(e)||0===e.length||!Array.isArray(e[0]))throw new Error("Bad map data");if(i<0||n<0||i>=e[0].length||n>=e.length||e[n][i].blocks)return!0;const r=t.filter(e=>e.x===i&&e.y===n&&!0===e.blocks)[0];return r||null}function he(e,t,i,n){let r,o;t.blocks?t.isVisibleAndLit()?(r=t.fgColor,o=t.bgColor):t.explored?t.explored&&!t.isVisibleAndLit()&&(r=We,o=We):(r=Be,o=Be):t.isVisibleAndLit()?(r=t.fgColor,o=t.lightingColor):t.explored?(r=qe,o=qe):(r=Ye,o=Ye),e.draw(i,n,t.char,r,o)}function ce(e,t){const i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i**2+n**2)}function ue(e,t){return e.filter(e=>e.x<t.x&&e.x+e.width>t.x&&e.y<=t.y&&e.y+e.height>=t.y)}function pe(e,t){return function(i){const n=L[t][e],r=i.x+n[0],s=i.y+n[1],a=le(o.a.Game.map,o.a.Game.gameObjects,r,s);if(!0===a)return!1;if(a){if(a.interactable)return a.interactable.interact(i),!0;if(a.fighter)return i.fighter.attack(a),!0}return i.x=r,i.y=s,!0}}function de(e){for(let t=0;t<ze;t++)for(let i=0;i<De;i++)e.draw(i,t,Ke,"black","black")}function ge(e,t="default"){const i=o.a.document.getElementById("log"),n=document.createElement("div"),r=document.createElement("p"),s=document.createElement("p");for(r.innerHTML=""+e,"tutorial"===t?n.className="tutorial":s.innerHTML=`<small>Turn: ${o.a.Game.getTurnNumber()}</small>`,n.appendChild(r),n.appendChild(s),i.appendChild(n);i.children.length>100;)i.children[0].remove();i.scrollTop=i.scrollHeight}class fe{constructor(){this.currentSelection=0,this.allowedKeys=new Set(["ArrowDown","ArrowUp","Enter"])}resetState(){this.currentSelection=0}draw(e){const t=e.length+Ue;for(let e=0;e<De;e++)for(let i=0;i<t;i++)0===e||0===i||e===De-1||i===t-1?o.a.Game.display.draw(e,i,"1","grey","grey"):o.a.Game.display.draw(e,i,"1","black","black");o.a.Game.display.drawText(2,1,"%c{white}%b{black}Player Inventory");for(let t=0;t<e.length;t++){let i;i=t===this.currentSelection?`%c{white}%b{grey}${e[t].displayName} (${e[t].count})`:`%c{white}%b{black}${e[t].displayName} (${e[t].count})`,o.a.Game.display.drawText(2,t+3,i)}}handleInput(e,t){return this.allowedKeys.has(e)?"Enter"===e?(i=t[this.currentSelection].id,async function(e){if(!e.inventoryComponent.hasItem(i))return!1;const t=nt[i];return!!await t.useFunc(t,e)&&(e.inventoryComponent.useItem(i),!0)}):("ArrowUp"===e&&this.currentSelection>0&&this.currentSelection--,"ArrowDown"===e&&this.currentSelection<t.length-1&&this.currentSelection++,null):null;var i}}class me{constructor(){this.currentSelection=0,this.allowedKeys=new Set(["ArrowDown","ArrowUp","Enter"])}resetState(){this.currentSelection=0}draw(e){const t=e.length+Ue;for(let e=0;e<De;e++)for(let i=0;i<t;i++)0===e||0===i||e===De-1||i===t-1?o.a.Game.display.draw(e,i,"1","grey","grey"):o.a.Game.display.draw(e,i,"1","black","black");o.a.Game.display.drawText(2,1,"%c{white}%b{black}Spells");for(let t=0;t<e.length;t++){const i=e[t];let n;n=t===this.currentSelection?"%c{white}%b{grey}":"%c{white}%b{black}",o.a.Game.display.drawText(2,t+3,n+" "+i.displayName);let r="%c{white}%b{black}";switch(i.type){case"damage":r+="dmg: "+i.value;break;case"effect":r+="turns: "+i.value;break;case"heal":r+="health: "+i.value}o.a.Game.display.drawText(25,t+3,r),o.a.Game.display.drawText(40,t+3,"%c{white}%b{black}cost: "+i.manaCost)}}handleInput(e,t){return this.allowedKeys.has(e)?"Enter"===e?(i=t[this.currentSelection].id,async function(e){if(!e.fighter.hasSpell(i))return!1;const t=rt[i];return!(t.manaCost>e.fighter.mana)&&(!!await t.useFunc(t,e)&&(e.fighter.useMana(t.manaCost),!0))}):("ArrowUp"===e&&this.currentSelection>0&&this.currentSelection--,"ArrowDown"===e&&this.currentSelection<t.length-1&&this.currentSelection++,null):null;var i}}class ye{constructor(){this.state="selection",this.currentSelection=0}resetState(){this.state="selection",this.currentSelection=0}draw(e){const t=e.length+Ue+4,i=De;for(let e=0;e<i;e++)for(let n=0;n<t;n++)0===e||0===n||e===i-1||n===t-1?o.a.Game.display.draw(e,n,"1","grey","grey"):o.a.Game.display.draw(e,n,"1","black","black");o.a.Game.display.drawText(2,1,"%c{white}%b{black} Keyboard Bindings"),o.a.Game.display.drawText(2,3,"%c{white}%b{black} Use the arrow keys to select a binding, and enter to change it"),o.a.Game.display.drawText(2,5,"%c{white}%b{black} Use Escape to exit");for(let t=0;t<e.length;t++){const i=e[t].key;t===this.currentSelection?"selection"===this.state?o.a.Game.display.drawText(2,t+7,"%c{white}%b{grey} "+e[t].description+": "+i):o.a.Game.display.drawText(2,t+7,"%c{white}%b{grey} "+e[t].description+":"):o.a.Game.display.drawText(2,t+7,"%c{white}%b{black} "+e[t].description+": "+i)}}handleInput(e,t){if("selection"===this.state){if(!new Set(["ArrowDown","ArrowUp","Enter","Escape"]).has(e))return;if("Escape"===e)return;"ArrowUp"===e&&this.currentSelection>0&&this.currentSelection--,"ArrowDown"===e&&this.currentSelection<t.length-1&&this.currentSelection++,"Enter"===e&&(this.state="change")}else"change"===this.state&&(t[this.currentSelection].key=e,this.state="selection")}}function _e(e){return function(t,i){return e.x===t&&e.y===i||null===le(o.a.Game.map,o.a.Game.gameObjects,t,i)}}function ve(e){return function(t,i){return e.x===t&&e.y===i||!1===function(e,t,i,n){if(!Array.isArray(e)||0===e.length||!Array.isArray(e[0]))throw new Error("Bad map data");if(i<0||n<0||i>=e[0].length||n>=e.length||e[n][i].blocksSight)return!0;const r=ae(t,i,n);for(let e=0;e<r.length;e++)if(r[e].blocksSight)return!0;return!1}(o.a.Game.map,o.a.Game.gameObjects,t,i)}}function we(e){return function(t,i,n,r){t===o.a.Game.player.x&&i===o.a.Game.player.y&&r>0&&(ge(e.owner.name+" saw you"),e.state="chase")}}class be{constructor(e){this.owner=null,this.state="wander",this.sightRange=e}setOwner(e){this.owner=e}async act(){if("wander"===this.state){let e,t,i;new D.PreciseShadowcasting(ve(this.owner)).compute(this.owner.x,this.owner.y,this.sightRange,we(this));do{const n=L[8][s.a.getItem([0,1,2,3,4,5,6,7])];t=this.owner.x+n[0],i=this.owner.y+n[1],e=le(o.a.Game.map,o.a.Game.gameObjects,t,i)}while(null!==e);this.owner.x=t,this.owner.y=i}else if("chase"===this.state){let e=o.a.Game.player.x,t=o.a.Game.player.y;const i=new U.AStar(e,t,_e(this.owner),{topology:8}),n=[];if(i.compute(this.owner.x,this.owner.y,(function(e,t){n.push([e,t])})),n.shift(),1===n.length)this.owner.fighter.attack(o.a.Game.player);else{if(0===n.length)return;e=n[0][0],t=n[0][1],this.owner.x=e,this.owner.y=t}}}}class xe{constructor(e){this.owner=null,this.state="patrol",this.sightRange=e,this.patrolTarget=null}setOwner(e){this.owner=e}async act(){if("patrol"===this.state){new D.PreciseShadowcasting(ve(this.owner)).compute(this.owner.x,this.owner.y,this.sightRange,we(this)),null===this.patrolTarget&&(this.patrolTarget=function(e,t){let i=0,n=0;for(;le(e,t,i,n);)i=Math.floor(s.a.getUniform()*e[0].length),n=Math.floor(s.a.getUniform()*e.length);return{x:i,y:n}}(o.a.Game.map,o.a.Game.gameObjects));const t=new U.AStar(this.patrolTarget.x,this.patrolTarget.y,_e(this.owner),{topology:8}),i=[];function e(e,t){i.push([e,t])}if(t.compute(this.owner.x,this.owner.y,e),i.shift(),0===i.length)return void(this.patrolTarget=null);this.owner.x=i[0][0],this.owner.y=i[0][1]}else if("chase"===this.state){const t=new U.AStar(o.a.Game.player.x,o.a.Game.player.y,ve(this.owner),{topology:8}),i=[];function e(e,t){i.push([e,t])}if(t.compute(this.owner.x,this.owner.y,e),i.shift(),1===i.length)this.owner.fighter.attack(o.a.Game.player);else{if(0===i.length)return;this.owner.x=i[0][0],this.owner.y=i[0][1]}}}}class ke{constructor(e,t){this.owner=null,this.oldAI=e,this.turns=t}setOwner(e){this.owner=e}async act(){if(this.turns>0){let e,t,i;do{const n=L[8][s.a.getItem([0,1,2,3,4,5,6,7])];t=this.owner.x+n[0],i=this.owner.y+n[1],e=le(o.a.Game.map,o.a.Game.gameObjects,t,i)}while(null!==e);this.owner.x=t,this.owner.y=i}else this.owner===o.a.Game.player?ge("You are no longer confused"):ge(this.owner.name+" is no longer confused"),this.owner.ai=this.oldAI;this.turns--}}class Ce{constructor(e,t){this.owner=null,this.bgColor=e,this.emptyColor=t}setOwner(e){this.owner=e}async act(){if(!this.owner||!this.owner.inventoryComponent)throw new Error("Missing inventoryComponent for ChestAI");0===this.owner.inventoryComponent.getItems().length?this.owner.graphics.bgColor=this.emptyColor:this.owner.graphics.bgColor=this.bgColor}}class Se{constructor(){this.owner=null}setOwner(e){this.owner=e}async act(){if(!this.owner||!this.owner.inventoryComponent)throw new Error("Missing inventoryComponent for DroppedItemAI");0===this.owner.inventoryComponent.getItems().length&&o.a.Game.removeObject(this.owner)}}class Te{constructor(e,t,i,n=null,r=null){this.owner=e,this.name=t,this.turns=i,this.actCallback=n,this.endCallback=r}act(){this.turns--,this.actCallback&&this.actCallback(this.owner),0===this.turns&&this.endCallback&&this.endCallback(this.owner)}}function Ee(e,t,i){return new Te(e,"Burn",i,(function(e){e.fighter&&e.fighter.takeDamage(null,t),e===o.a.Game.player?ge(`You were hurt by the burn for ${t} damage`):ge(`${e.name} was hurt by the burn for ${t} damage`)}))}function Me(e,t){return Math.floor(Math.random()*(t-e+1)+e)}async function Le(){return new Promise(e=>{o.a.window.addEventListener("keydown",e,{once:!0})})}async function Oe(){return new Promise(e=>{o.a.Game.canvas.addEventListener("mousedown",e,{once:!0})})}async function Pe(){let e;o.a.Game.unhookMouseLook(),o.a.Game.render();do{e=await Oe()}while(!e||0!==e.button);o.a.Game.hookMouseLook();const t=o.a.Game.display.eventToPosition(e);let i;const n=ae(o.a.Game.gameObjects,t[0],t[1]);for(let e=0;e<n.length;e++)if(n[e].fighter){i=n[e];break}return i&&i.fighter?i:null}async function Ae(e,t){return t.fighter.hp>=t.fighter.maxHp?(t===o.a.Game.player?ge("You are already at full health."):ge(t.name+" tries and fails to take a health potion"),!1):(t.fighter.heal(e.value),!0)}async function Ge(e,t){ge("Left click on an enemy to target it, click elsewhere to cancel");const i=await Pe();if(null===i)return ge("Canceled casting"),!1;if(ge(`Spell hits ${i.name} for ${e.value} damage`),i.fighter.takeDamage(t,e.value,e.damageType),i.fighter&&e.statusEffectFunc&&s.a.getUniform()<=i.fighter.ailmentSusceptibility){const t=Math.round(.0625*i.fighter.maxHp),n=Me(3,6);i.fighter.addStatusEffect(e.statusEffectFunc(i,t,n))}return!0}async function je(e,t){const i=function(e,t,i,n){let r=null,o=n+1;for(let n=0;n<t.length;n++){const s=t[n];if(void 0!==s.fighter&&null!==s.fighter&&s!==i&&e[s.y][s.x].visible){const e=ce(i,s);e<o&&(r=s,o=e)}}return r}(o.a.Game.map,o.a.Game.gameObjects,t,8);if(null===i)return t===o.a.Game.player&&ge("No target is close enough to use the scroll"),!1;if(ge(`Spell hits ${i.name} for ${e.value} damage`),i.fighter.takeDamage(t,e.value,e.damageType),i.fighter&&e.statusEffectFunc&&s.a.getUniform()<=i.fighter.ailmentSusceptibility){const t=Math.round(.0625*i.fighter.maxHp),n=Me(3,6);i.fighter.addStatusEffect(e.statusEffectFunc(i,t,n))}return!0}async function Ie(e){ge("Left click on an enemy to target it, click elsewhere to cancel");const t=await Pe();if(null===t)return!1;ge(t.name+" is now confused");const i=t.ai;return t.ai=new ke(i,e.value),t.ai.owner=t,!0}async function Ne(){return ge("You have been granted Clairvoyance"),function(e){for(let t=0;t<e.length;t++)for(let i=0;i<e[t].length;i++)e[t][i].explored=!0}(o.a.Game.map),!0}async function Re(e,t){if(!t.fighter)throw new Error("user of castHaste must have a fighter");return!(t.fighter.getStatusEffects().filter(e=>"Haste"===e.name).length>0)&&(t.fighter.addStatusEffect(function(e,t){if(!e.fighter)throw new Error("user of createHasteEffect must have a fighter");const i=e.fighter.getSpeed();return e.fighter.speed=Math.floor(2*i),new Te(e,"Haste",t,null,(function(e){e.fighter.setSpeed(i)}))}(t,e.value)),!0)}async function Fe(e){const t=await Pe();if(null===t)return ge("Canceled casting"),!1;return t.fighter.getStatusEffects().filter(e=>"Slow"===e.name).length>0?(ge(t.name+" is already slowed"),!1):(ge("Spell hits and slows "+t.name),t.fighter.addStatusEffect(function(e,t){const i=e.fighter.getSpeed();return e.fighter.speed=Math.floor(i/2),new Te(e,"Slow",t,null,(function(e){e.fighter.setSpeed(i)}))}(t,e.value)),!0)}const De=70,ze=45,Ue=6,He=De,Xe=ze-Ue-1,Be="black",We="rgb(20, 20, 20)",Ye="black",qe="rgb(50, 50, 50)",$e="rgb(50, 50, 50)",Ve="#",Ke=".",Je=50,Qe=150,Ze={physical:1,fire:2,lightning:3,ice:4,nature:5};Object.freeze(Ze);const et={weak:.5,normal:1,strong:2,nullified:0};Object.freeze(et);const tt={780:{name:"Gravestone",char:"ߡ",fgColor:"darkgrey",bgColor:"white",fgColorExplored:We,bgColorExplored:We,blocks:!0,blocksSight:!1,reflectivity:.18},900:{name:"empty ground",char:"",fgColor:"white",bgColor:"white",fgColorExplored:qe,bgColorExplored:qe,blocks:!1,blocksSight:!1,reflectivity:.18},980:{name:"stove",char:"⌻",fgColor:"black",bgColor:"brown",fgColorExplored:We,bgColorExplored:We,blocks:!0,blocksSight:!1,reflectivity:.18},1048:{name:"A wall",char:"",fgColor:"#352620",bgColor:"#352620",fgColorExplored:We,bgColorExplored:We,blocks:!0,blocksSight:!0,reflectivity:.18},1165:{name:"A tree",char:"ቸ",fgColor:"lightgreen",bgColor:"darkgreen",fgColorExplored:We,bgColorExplored:We,blocks:!0,blocksSight:!0,reflectivity:.18},1543:{name:"bed",char:"▃",fgColor:"gold",bgColor:"white",fgColorExplored:We,bgColorExplored:We,blocks:!0,blocksSight:!1,reflectivity:.18},2710:{name:"A table",char:"Π",fgColor:"tan",bgColor:"brown",fgColorExplored:We,bgColorExplored:We,blocks:!0,blocksSight:!1,reflectivity:.18},2869:{name:"A chair",char:"п",fgColor:"black",bgColor:"brown",fgColorExplored:We,bgColorExplored:We,blocks:!0,blocksSight:!1,reflectivity:.18},2936:{name:"A cabinet",char:"⌹",fgColor:"black",bgColor:"brown",fgColorExplored:We,bgColorExplored:We,blocks:!0,blocksSight:!1,reflectivity:.18}};Object.freeze(tt);const it={door:{name:"Door",graphics:"basic_graphics",ai:null,inventory:null,fighter:null,interactable:"door_interactable",char:"ᢂ",fgColor:"white",bgColor:"brown",blocks:!0,blocksSight:!0},load_door:{name:"Door to new area",graphics:"draw_after_seen",ai:null,inventory:null,fighter:null,interactable:"load_level_interactable",char:"ᢂ",fgColor:"white",bgColor:"black",blocks:!0,blocksSight:!0},stairs:{name:"Stairs",graphics:"draw_after_seen",ai:null,inventory:null,fighter:null,interactable:"load_level_interactable",char:"ᝐ",fgColor:"white",bgColor:"black",blocks:!0,blocksSight:!1},chest:{name:"Chest",graphics:"draw_after_seen",ai:"chest_ai",fighter:null,inventory:"basic_inventory",interactable:"give_items_interactable",char:"*",fgColor:"white",bgColor:"brown",emptyColor:"purple",blocks:!0,blocksSight:!1},crate:{name:"Wooden Crate",graphics:"basic_graphics",ai:null,fighter:"basic_fighter",speed:10,inventory:"basic_inventory",interactable:null,char:"☒",fgColor:"white",bgColor:"brown",emptyColor:"purple",blocks:!0,blocksSight:!1,experience:0,experienceGiven:0,maxHp:5,strength:0,defense:0,onDeath:"remove_from_world"},barrel:{name:"Wooden Barrel",graphics:"basic_graphics",ai:null,fighter:"basic_fighter",speed:10,inventory:"basic_inventory",interactable:null,char:"⌭",fgColor:"white",bgColor:"brown",emptyColor:"purple",blocks:!0,blocksSight:!1,experience:0,experienceGiven:0,maxHp:3,strength:0,defense:0,onDeath:"remove_from_world"},dead_body:{name:"Dead Body",graphics:"basic_graphics",ai:null,fighter:null,inventory:null,interactable:null,char:"%",fgColor:"black",bgColor:"red",blocks:!1,blocksSight:!1},lantern:{name:"Small Lantern",graphics:"basic_graphics",lighting:"reflectivity",lightingColor:"yellow",lightingRange:4,ai:null,fighter:null,inventory:null,interactable:null,char:"ᛡ",fgColor:"black",bgColor:"yellow",blocks:!0,blocksSight:!1},campfire:{name:"Small Fire",graphics:"basic_graphics",lighting:"reflectivity",lightingColor:"orange",lightingRange:6,ai:null,fighter:null,inventory:null,interactable:null,char:"ж",fgColor:"black",bgColor:"orange",blocks:!0,blocksSight:!1},dropped_item:{name:"Dropped Item",graphics:"basic_graphics",ai:"dropped_item_ai",inventory:null,fighter:null,interactable:"give_items_interactable",char:"!",fgColor:"white",bgColor:"brown",blocks:!1,blocksSight:!1},magic_shrine:{name:"Magicka Shrine",graphics:"basic_graphics",ai:null,fighter:null,interactable:"give_spell_interactable",char:"۞",fgColor:"black",bgColor:"gold",blocks:!0,blocksSight:!1},player:{name:"The Player",graphics:"basic_graphics",lighting:"player_lighting",lightingColor:"white",lightingRange:7,ai:null,inventory:"basic_inventory",fighter:"basic_fighter",speed:10,interactable:null,char:"@",fgColor:"blue",blocks:!0,blocksSight:!1,bgColor:"transparent",level:1,experience:0,experienceGiven:0,maxHp:100,maxMana:100,strength:3,defense:1,damageAffinity:{[Ze.physical]:et.normal,[Ze.fire]:et.normal,[Ze.lightning]:et.normal,[Ze.ice]:et.normal,[Ze.nature]:et.normal},onDeath:"default"},goblin:{name:"Goblin",graphics:"basic_graphics",ai:"basic_monster_ai",fighter:"basic_fighter",speed:10,inventory:"basic_inventory",interactable:null,char:"G",fgColor:"green",bgColor:"transparent",blocks:!0,blocksSight:!1,level:3,experience:0,experienceGiven:50,maxHp:30,maxMana:0,strength:3,defense:1,sightRange:7,damageAffinity:{[Ze.physical]:et.normal,[Ze.fire]:et.normal,[Ze.lightning]:et.normal,[Ze.ice]:et.normal,[Ze.nature]:et.normal},inventoryPool:[["health_potion_weak",.25]],onDeath:"default"},goblin_brute:{name:"Goblin Brute",graphics:"basic_graphics",ai:"patrolling_monster_ai",fighter:"basic_fighter",speed:10,inventory:"basic_inventory",interactable:null,char:"G",fgColor:"green",bgColor:"red",blocks:!0,blocksSight:!1,level:10,experience:0,experienceGiven:500,maxHp:100,maxMana:0,strength:7,defense:4,sightRange:7,damageAffinity:{[Ze.physical]:et.normal,[Ze.fire]:et.normal,[Ze.lightning]:et.normal,[Ze.ice]:et.normal,[Ze.nature]:et.normal},inventoryPool:[["health_potion_weak",.25],["health_potion",.1]],onDeath:"default"},rat:{name:"Rat",graphics:"basic_graphics",ai:"basic_monster_ai",fighter:"basic_fighter",speed:10,inventory:"basic_inventory",interactable:null,char:"r",fgColor:"brown",bgColor:"transparent",blocks:!0,blocksSight:!1,level:1,experience:0,experienceGiven:10,maxHp:10,maxMana:0,strength:2,defense:1,sightRange:7,damageAffinity:{[Ze.physical]:et.normal,[Ze.fire]:et.normal,[Ze.lightning]:et.normal,[Ze.ice]:et.normal,[Ze.nature]:et.normal},inventoryPool:[],onDeath:"default"}};Object.freeze(it);const nt={health_potion_weak:{displayName:"Weak Potion of Healing",value:25,type:"health",useFunc:Ae},health_potion:{displayName:"Potion of Healing",value:50,type:"health",useFunc:Ae},health_potion_strong:{displayName:"Strong Potion of Healing",value:100,type:"health",useFunc:Ae},lightning_scroll_weak:{displayName:"Weak Scroll of Lightning",value:20,type:"damage_scroll",useFunc:Ge,damageType:Ze.lightning},lightning_scroll:{displayName:"Scroll of Lightning",value:50,type:"damage_scroll",useFunc:Ge,damageType:Ze.lightning},lightning_scroll_strong:{displayName:"Strong Scroll of Lightning",value:100,type:"damage_scroll",useFunc:Ge,damageType:Ze.lightning},fireball_scroll_weak:{displayName:"Weak Scroll of Fire",value:20,type:"damage_scroll",useFunc:Ge,damageType:Ze.fire,statusEffectFunc:Ee},fireball_scroll:{displayName:"Scroll of Fire",value:50,type:"damage_scroll",useFunc:Ge,damageType:Ze.fire,statusEffectFunc:Ee},fireball_scroll_strong:{displayName:"Strong Scroll of Fire",value:100,type:"damage_scroll",useFunc:Ge,damageType:Ze.fire,statusEffectFunc:Ee},lightning_scroll_weak_wild:{displayName:"Weak Scroll of Wild Lightning",value:50,type:"wild_damage_scroll",useFunc:je,damageType:Ze.lightning},lightning_scroll_wild:{displayName:"Scroll of Wild Lightning",value:100,type:"wild_damage_scroll",useFunc:je,damageType:Ze.lightning},lightning_scroll_strong_wild:{displayName:"Strong Scroll of Wild Lightning",value:150,type:"wild_damage_scroll",useFunc:je,damageType:Ze.lightning},fireball_scroll_weak_wild:{displayName:"Weak Scroll of Wild Fire",value:50,type:"wild_damage_scroll",useFunc:je,damageType:Ze.fire,statusEffectFunc:Ee},fireball_scroll_wild:{displayName:"Scroll of Wild Fire",value:100,type:"wild_damage_scroll",useFunc:je,damageType:Ze.fire,statusEffectFunc:Ee},fireball_scroll_strong_wild:{displayName:"Strong Scroll of Wild Fire",value:150,type:"wild_damage_scroll",useFunc:je,damageType:Ze.fire,statusEffectFunc:Ee},confuse_scroll:{displayName:"Scroll of Confuse Enemy",value:8,type:"confuse_scroll",useFunc:Ie},clairvoyance_scroll:{displayName:"Scroll of Clairvoyance",type:"clairvoyance_scroll",useFunc:Ne},haste_potion_weak:{displayName:"Weak Potion of Haste",value:5,type:"haste",useFunc:Re},slow_poison_weak:{displayName:"Weak Poison of Slow",value:5,type:"slow",useFunc:Fe}};Object.freeze(nt);const rt={lightning_bolt:{displayName:"Lightning Bolt",manaCost:50,value:20,type:"damage",damageType:Ze.lightning,useFunc:Ge},fireball:{displayName:"Fireball",manaCost:50,value:20,type:"damage",damageType:Ze.fire,useFunc:Ge},confuse:{displayName:"Confuse",manaCost:50,value:8,type:"effect",useFunc:Ie},clairvoyance:{displayName:"Clairvoyance",manaCost:50,type:"passive",useFunc:Ne},lesser_heal:{displayName:"Lesser Heal",manaCost:50,value:25,type:"heal",useFunc:Ae},heal:{displayName:"Heal",manaCost:50,value:50,type:"heal",useFunc:Ae},greater_heal:{displayName:"Greater Heal",manaCost:50,value:100,type:"heal",useFunc:Ae},lesser_haste:{displayName:"Lesser Haste",manaCost:100,value:5,type:"effect",useFunc:Re},lesser_slow:{displayName:"Lesser Slow",manaCost:100,value:5,type:"effect",useFunc:Fe}};Object.freeze(rt);const ot={forrest_001:q.a,forrest_002:V.a,forrest_003:J.a,forrest_004:Z.a,durdwin_001:te.a,dev_room:ne.a};Object.freeze(ot);const st={gameplay:1,openingCinematic:2,winCinematic:3,loseCinematic:4,pauseMenu:5,inventoryMenu:6,spellMenu:7};Object.freeze(st);class at{constructor(){this.owner=null}setOwner(e){this.owner=e}interact(e){if(!this.owner.inventoryComponent||!e.inventoryComponent)throw new Error(`Missing inventoryComponent on ${this.owner} or ${e}`);{const t=this.owner.inventoryComponent.getItems();if(t.length>0)for(let i=0;i<t.length;i++){const n=t[i];ge("Found a "+nt[n.id].displayName),e.inventoryComponent.addItem(n.id,n.count),this.owner.inventoryComponent.useItem(n.id)}else ge("Empty")}}}class lt{constructor(){this.owner=null,this.spellId=null}setOwner(e){this.owner=e}setSpell(e){this.spellId=e}interact(e){if(!e.fighter)return;if(!this.spellId)throw new Error("No spell id given");if(!(this.spellId in rt))throw new Error(this.spellId+" is not a valid spell");const t=e.fighter.addSpellById(this.spellId),i=rt[this.spellId];ge(t?"You learned a new spell: "+i.name:"You already know "+i.name)}}class ht{constructor(){this.owner=null,this.levelName=null}setLevel(e){this.levelName=e}setOwner(e){this.owner=e}interact(){o.a.Game.removeObject(this.owner)}}class ct{constructor(){this.owner=null,this.levelName=null}setLevel(e){this.levelName=e}setOwner(e){this.owner=e}interact(){if(!this.levelName)throw new Error("No level name has been set for load");o.a.Game.loadLevel(this.levelName)}}class ut{constructor(){this.owner=null,this._inventory={}}setOwner(e){this.owner=e}getItems(){return Reflect.ownKeys(this._inventory).map(e=>({id:e,displayName:nt[e].displayName,count:this._inventory[e]}))}hasItem(e){return e in this._inventory}addItem(e,t=1){if(e in this._inventory){const i=this._inventory[e]+t;if(100===i)return!1;this._inventory[e]=i}else this._inventory[e]=t;return!0}useItem(e){if(!(e in this._inventory))throw new Error(`Item ${e} not in inventory`);this._inventory[e]--,0===this._inventory[e]&&delete this._inventory[e]}}class pt{constructor(e,t,i){this.char=e,this.fgColor=t,this.bgColor=i,this.owner=null}setOwner(e){this.owner=e}draw(e,t){this.owner&&t[this.owner.y][this.owner.x].isVisibleAndLit()&&e.draw(this.owner.x,this.owner.y,this.char,this.fgColor,this.bgColor)}}class dt{constructor(e,t,i){this.char=e,this.fgColor=t,this.bgColor=i,this.owner=null}setOwner(e){this.owner=e}draw(e,t){this.owner&&t[this.owner.y][this.owner.x].explored&&e.draw(this.owner.x,this.owner.y,this.char,this.fgColor,this.bgColor)}}function gt(e){return function(t,i){return t<0||i<0||t>=He||i>=Xe||e[i][t].blocksSight?0:e[i][t].reflectivity}}class ft{constructor(e,t){this.color=e,this.range=t}setOwner(e){this.owner=e}compute(e){const t=new D.PreciseShadowcasting(ve(this.owner)),i=new H(gt(e),{range:this.range,passes:2});i.setFOV(t),i.setLight(this.owner.x,this.owner.y,this.color),i.compute((function(t,i,n){t<0||i<0||t>=He||i>=Xe||(e[i][t].lightingColor=X.toRGB(X.add(X.fromString(e[i][t].lightingColor),n)))})),e[this.owner.y][this.owner.x].lightingColor=this.color}}class mt{constructor(e,t){this.color=e,this.range=t}setOwner(e){this.owner=e}compute(e){new D.PreciseShadowcasting(ve(this.owner)).compute(this.owner.x,this.owner.y,100,(function(t,i){t<0||i<0||t>=He||i>=Xe||(e[i][t].visible=!0)}));const t=new D.PreciseShadowcasting(ve(this.owner)),i=new H(gt(e),{range:this.range,passes:2});i.setFOV(t),i.setLight(this.owner.x,this.owner.y,this.color),i.compute((function(t,i,n){t<0||i<0||t>=He||i>=Xe||(e[i][t].lightingColor=X.toRGB(X.add(X.fromString(e[i][t].lightingColor),n)),e[i][t].explored=!0)}))}}class yt{constructor(e,t=null){this.hp=e.maxHp,this.maxHp=e.maxHp,this.mana=e.maxMana,this.maxMana=e.maxMana,this.strength=e.strength,this.defense=e.defense,this.speed=e.speed,this.deathCallback=t,this.owner=null,this.experience=e.experience,this.experienceGiven=e.experienceGiven,this.level=e.level,this.criticalChance="criticalChance"in e?e.criticalChance:.05,this.criticalDamageMultipler=1.5,this.statusEffects=[],this.ailmentSusceptibility=e.ailmentSusceptibility,this.knownSpells=new Set}setOwner(e){this.owner=e}async act(){const e=Je+this.level*Qe;if(this.experience>=e&&(this.level+=1,this.experience=0,this.hp=this.maxHp,this.mana=this.maxMana,this.strength++,this.owner===o.a.Game.player&&ge(`You reached level ${this.level}!`)),this.statusEffects.length>0)for(let e=0;e<this.statusEffects.length;e++){const t=this.statusEffects[e];t.act(),0===t.turns&&(ge(`${t.name} has ended for ${this.owner.name}`),this.statusEffects.splice(e,1))}}takeDamage(e,t){t>0&&(this.hp-=t),this.hp<=0&&(e.fighter.experience+=this.experienceGiven,null!==this.deathCallback&&this.deathCallback(this.owner))}attack(e){if(!e.fighter)return;let t=Math.round(Math.max(1,this.strength-e.fighter.defense)),i=!1;s.a.getUniform()<=this.criticalChance&&(t=Math.ceil(t*this.criticalDamageMultipler),i=!0),t>0?(ge(i?"CRITICAL! "+this.owner.name+" attacks "+e.name+" for "+t+" damage.":this.owner.name+" attacks "+e.name+" for "+t+" damage."),e.fighter.takeDamage(this.owner,t)):ge(this.owner.name+" attacks "+e.name+", but it's too weak!")}heal(e){this.hp+=e,this.hp>this.maxHp&&(this.hp=this.maxHp)}useMana(e){this.mana=Math.max(this.mana-e,0)}addStatusEffect(e){this.statusEffects.push(e)}getStatusEffects(){return[...this.statusEffects]}addSpellById(e){return!this.knownSpells.has(e)&&(this.knownSpells.add(e),!0)}getKnownSpells(){return[...this.knownSpells].map(e=>({id:e,displayName:rt[e].displayName,manaCost:rt[e].manaCost,value:rt[e].value,type:rt[e].type}))}hasSpell(e){return this.knownSpells.has(e)}getSpeed(){return this.speed}setSpeed(e){this.speed=e}}class _t{constructor(e,t,i,n,r=!1,o=!1){this.type=e,this.x=t,this.y=i,this.name=n,this.blocks=r,this.blocksSight=o,this.graphics=null,this.lighting=null,this.fighter=null,this.ai=null,this.inventoryComponent=null,this.interactable=null}setGraphics(e){e.setOwner(this),this.graphics=e}setLighting(e){e.setOwner(this),this.lighting=e}setFighter(e){e.setOwner(this),this.fighter=e}setAI(e){e.setOwner(this),this.ai=e}setInventory(e){e.setOwner(this),this.inventoryComponent=e}setInteractable(e){e.setOwner(this),this.interactable=e}getSpeed(){return this.fighter?this.fighter.getSpeed():10}async act(e=null){let t=!0;return this.ai&&"function"==typeof this.ai.act&&(t=await this.ai.act(e)),this.fighter&&"function"==typeof this.fighter.act&&await this.fighter.act(),t}}function vt(e,t=0,i=0){if(!(e in it))throw new Error(e+" is not valid object id");const n=it[e],r=new _t(e,t,i,n.name,n.blocks,n.blocksSight);if(n.ai)switch(n.ai){case"basic_monster_ai":r.setAI(new be(n.sightRange));break;case"patrolling_monster_ai":r.setAI(new xe(n.sightRange));break;case"chest_ai":r.setAI(new Ce(n.bgColor,n.emptyColor));break;case"dropped_item_ai":r.setAI(new Se);break;default:throw new Error("Unhandled AI type "+n.ai)}if(n.graphics)switch(n.graphics){case"basic_graphics":r.setGraphics(new pt(n.char,n.fgColor,n.bgColor));break;case"draw_after_seen":r.setGraphics(new dt(n.char,n.fgColor,n.bgColor));break;default:throw new Error("Unhandled Graphics type "+n.graphics)}if(n.lighting)switch(n.lighting){case"reflectivity":r.setLighting(new ft(n.lightingColor,n.lightingRange));break;case"player_lighting":r.setLighting(new mt(n.lightingColor,n.lightingRange));break;default:throw new Error("Unhandled Lighting type "+n.lighting)}if(n.fighter){let e;switch(n.onDeath){case"default":e=wt;break;case"remove_from_world":e=bt;break;default:throw new Error("Unhandled onDeath type "+n.onDeath)}switch(n.fighter){case"basic_fighter":r.setFighter(new yt(n,e));break;default:throw new Error("Unhandled Fighter type "+n.fighter)}}if(n.inventory){switch(n.inventory){case"basic_inventory":r.setInventory(new ut);break;default:throw new Error("Unhandled Inventory type "+n.inventory)}if(n.inventoryPool)for(let e=0;e<n.inventoryPool.length;e++)s.a.getUniform()<=n.inventoryPool[e][1]&&r.inventoryComponent.addItem(n.inventoryPool[e][0])}if(n.interactable)switch(n.interactable){case"give_items_interactable":r.setInteractable(new at);break;case"give_spell_interactable":r.setInteractable(new lt);break;case"load_level_interactable":r.setInteractable(new ct);break;case"door_interactable":r.setInteractable(new ht);break;default:throw new Error("Unhandled Interactable type "+n.interactable)}return r}function wt(e){if(ge(e.name+" has been killed"),e.graphics.char="%",e.graphics.fgColor="black",e.graphics.bgColor="red",e.blocks=!1,e.fighter=null,e.ai=null,e.interactable=null,e.name="Remains of a "+e.name,e.inventoryComponent.getItems().length>0){const t=vt("dropped_item",e.x,e.y);t.inventoryComponent=e.inventoryComponent,o.a.Game.addObject(t)}e.inventoryComponent=null}function bt(e){if(e.inventoryComponent.getItems().length>0){const t=vt("dropped_item",e.x,e.y);t.inventoryComponent=e.inventoryComponent,o.a.Game.addObject(t)}o.a.Game.removeObject(e)}const xt={movement:!1,attack:!1};function kt(e){const[t,i]=o.a.Game.display.eventToPosition(e),n=ae(o.a.Game.gameObjects,t,i)[0],r=o.a.Game.map[i][t];r.isVisibleAndLit()?n&&n.name&&n.ai&&n.ai.state?"wander"===n.ai.state?ge("A "+n.name+", it hasn't seen you."):ge("A "+n.name):n&&n.name?ge(n.name):n||ge(r.name):ge("Can't see what's there.")}o.a.gameEventEmitter=new W.a,o.a.gameEventEmitter.on("tutorial.start",(function(){xt.movement||(ge("Move with WASD and QEZC. Look at things with the mouse.","tutorial"),xt.movement=!0)})),o.a.gameEventEmitter.on("tutorial.attacking",(function(){xt.attack||(ge("Move into an enemy's tile to attack","tutorial"),xt.attack=!0)}));o.a.window=window,o.a.document=document,o.a.Game=new class{constructor(){this.state=st.openingCinematic,this.canvas=null,this.display=null,this.player=null,this.scheduler=new N.Speed,this.gameObjects=[],this.map=[],this.totalTurns=0,this.display=new A({width:De,height:ze,fontSize:13,forceSquareRatio:!0}),this.canvas=this.display.getContainer(),o.a.document.getElementById("canvas").prepend(this.canvas),this.keyCommands=[{key:"w",description:"Move Up",command:pe(0,8)},{key:"e",description:"Move Up Right",command:pe(1,8)},{key:"d",description:"Move Right",command:pe(2,8)},{key:"c",description:"Move Down Right",command:pe(3,8)},{key:"s",description:"Move Down",command:pe(4,8)},{key:"z",description:"Move Down Left",command:pe(5,8)},{key:"a",description:"Move Left",command:pe(6,8)},{key:"q",description:"Move Up Left",command:pe(7,8)},{key:"i",description:"Inventory",command:function(){return o.a.Game.state=st.inventoryMenu,!1}},{key:"g",description:"Get Item",command:function(e){const t=o.a.Game.gameObjects.filter(t=>"dropped_item"===t.type&&t.x===e.x&&t.y===e.y);return t.length>0?(t[0].interactable.interact(e),!0):(ge("There's no item to pick up"),!1)}},{key:"m",description:"Spells",command:function(){return o.a.Game.state=st.spellMenu,!1}}],this.keyBindingMenu=new ye,this.inventoryMenu=new fe,this.spellSelectionMenu=new me}reset(){this.player=vt("player",1,1),this.map=[],this.gameObjects=[],this.totalTurns=0,this.scheduler.clear(),this.loadLevel("forrest_001");o.a.document.getElementById("log").innerHTML=""}startGameplay(){this.hookMouseLook(),this.player=vt("player",1,1),this.loadLevel("forrest_001"),o.a.gameEventEmitter.emit("tutorial.start"),this.mainLoop()}render(){switch(this.state){case st.gameplay:!function(e){for(let t=0;t<e.length;t++)for(let i=0;i<e[t].length;i++)e[t][i].visible=!1,e[t][i].lightingColor=$e}(this.map),this.gameObjects.filter(e=>e.lighting&&"function"==typeof e.lighting.compute).forEach(e=>e.lighting.compute(this.map)),this.player.lighting.compute(this.map),function(e,t){for(let i=0;i<t.length;i++)for(let n=0;n<t[i].length;n++)he(e,t[i][n],n,i)}(this.display,this.map),this.gameObjects.filter(e=>e.graphics&&"function"==typeof e.graphics.draw).sort((e,t)=>!e.fighter&&t.fighter?-1:e.fighter||t.fighter?e.fighter&&!t.fighter?1:0:-1).forEach(e=>e.graphics.draw(this.display,this.map)),this.player.graphics.draw(this.display,this.map),function(e,t){for(let t=0;t<De;t++)for(let i=0;i<Ue;i++)e.draw(t,ze-(Ue-i),Ve,"blue","blue");e.drawText(1,ze-Ue,"%c{white}%b{blue}HP: "+t.fighter.hp+"/"+t.fighter.maxHp),e.drawText(14,ze-Ue,"%c{white}%b{blue}Mana: "+t.fighter.mana+"/"+t.fighter.maxMana),e.drawText(30,ze-Ue,"%c{white}%b{blue}STR: "+t.fighter.strength),e.drawText(38,ze-Ue,"%c{white}%b{blue}DEF: "+t.fighter.defense),e.drawText(54,ze-Ue,"%c{white}%b{blue}EXP: "+t.fighter.experience+"/"+(Je+t.fighter.level*Qe))}(this.display,this.player);break;case st.pauseMenu:this.keyBindingMenu.draw(this.keyCommands);break;case st.inventoryMenu:this.inventoryMenu.draw(this.player.inventoryComponent.getItems());break;case st.spellMenu:this.spellSelectionMenu.draw(this.player.fighter.getKnownSpells());break;case st.openingCinematic:de(this.display),this.display.drawText(De-(De-7),12,"%c{white}Your country is being overrun by the forces of darkness"),this.display.drawText(De-(De-8),15,"%c{white}Tales tell of a weapon of great power lost in the"),this.display.drawText(De-(De-4),16,"%c{white}lands beyond the dwarf stronghold Durdwin, under the Red Hills."),this.display.drawText(De-(De-17),18,"%c{white}None who have entered have returned"),this.display.drawText(De-(De-14),20,"%c{white}It is the last hope of a desperate people"),this.display.drawText(De-(De-16),21,"%c{white}You have volunteered to retrieve it"),this.display.drawText(De-(De-24),27,"%c{white}Press [enter] to start");break;case st.loseCinematic:de(this.display),this.display.drawText(De-(De-5),12,"%c{white}You have died, and the last hope of your people dies with you"),this.display.drawText(De-(De-18),24,"%c{white}Press [enter] to restart the game");break;case st.winCinematic:de(this.display),this.display.drawText(De-(De-12),12,"%c{white}You have reached the bottom and have retrieved"),this.display.drawText(De-(De-16),13,"%c{white}the fabled weapon and saved your people"),this.display.drawText(De-(De-18),24,"%c{white}Press [enter] to restart the game");break;default:throw new Error("Unknown state "+this.state)}}loadLevel(e){const{map:t,playerLocation:i,objects:n,volumes:r}=se(e);this.map=t,this.gameObjects=n,this.volumes=r,this.player.x=i[0],this.player.y=i[1],this.player.fighter.mana=this.player.fighter.maxMana,this.scheduler.clear(),this.scheduler.add(this.player,!0),this.gameObjects.forEach(e=>this.scheduler.add(e,!0))}async handleInput(){let e;do{this.render();const t=await Le();if(t.preventDefault(),this.state===st.gameplay){if("Escape"===t.key){this.state=st.pauseMenu;continue}if(-1===this.keyCommands.map(e=>e.key).indexOf(t.key)){e=!1;continue}e=(0,this.keyCommands.filter(e=>e.key===t.key)[0].command)(this.player)}else if(this.state===st.pauseMenu){if("Escape"===t.key){this.state=st.gameplay,this.keyBindingMenu.resetState(),this.render();continue}this.keyBindingMenu.handleInput(t.key,this.keyCommands)}else if(this.state===st.inventoryMenu){if("Escape"===t.key){this.state=st.gameplay,this.inventoryMenu.resetState(),this.render();continue}const i=this.inventoryMenu.handleInput(t.key,this.player.inventoryComponent.getItems());i&&(e=await i(this.player),e&&(this.state=st.gameplay))}else if(this.state===st.spellMenu){if("Escape"===t.key){this.state=st.gameplay,this.spellSelectionMenu.resetState(),this.render();continue}const i=this.spellSelectionMenu.handleInput(t.key,this.player.fighter.getKnownSpells());i&&(e=await i(this.player),e&&(this.state=st.gameplay))}else this.state===st.openingCinematic?"Enter"===t.key&&(this.state=st.gameplay):this.state===st.winCinematic?"Enter"===t.key&&(this.reset(),this.state=st.gameplay):this.state===st.loseCinematic&&"Enter"===t.key&&(this.reset(),this.state=st.gameplay)}while(!e)}async mainLoop(){for(;;){const e=this.scheduler.next();e===this.player?(this.totalTurns++,await this.handleInput()):await e.act(),(null===this.player.fighter||this.player.fighter.hp<=0)&&(this.state=st.loseCinematic);const t=ue(this.volumes,e);t.length&&t.forEach(t=>t.enter(e))}}hookMouseLook(){this.canvas.addEventListener("mousedown",kt)}unhookMouseLook(){this.canvas.removeEventListener("mousedown",kt)}addObject(e){this.gameObjects.push(e),this.scheduler.add(this.gameObjects[this.gameObjects.length-1],!0)}removeObject(e){this.gameObjects.splice(this.gameObjects.indexOf(e),1),this.scheduler.remove(e)}getTurnNumber(){return this.totalTurns}},o.a.Game.startGameplay()}]);